2004-03-10  Steven Eker  <eker@goo.csl.sri.com>

	* modules.yy (fDeclaration): fixed nasty bug where we were not
	popping the final module expression from the stack with the result
	that syntax errors caused the deletion of live module expressions
	via cleanUpModuleExpression() with resulting memory corruption

2004-03-03  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: strats for _and-then_ and _or-else_ become (1 0)

2004-02-27  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): added -no-banner option
	(printHelp): added -no-banner option

	* interpreter.cc: removed extern ModuleCache moduleCache hack

	* import.cc: deleted moduleCache global variable
	(processImports): use interpreter instead of moduleCache

	* interpreter.cc (showModules): don't use moduleCache

	* interpreter.hh (endif): inherit from ModuleCache

	* interpreter.cc (showModules): use showCreatedModules()

	* moduleCache.cc (showModules): becomes showCreatedModules()

	* moduleCache.hh (Parent): showModules() -> showCreatedModules()

	* mixfixModule.cc (copyPolymorph): deleted

	* mixfixModule.hh (CommonTokens): deleted commented out decl for
	copyPolymorph()
	
===================================Maude84===========================================

2004-02-25  Steven Eker  <eker@goo.csl.sri.com>

	* commands.yy (command): remove show all modules . as it conflicts
	with show all <mod name> .

	* interpreter.cc (showModules): use showNamedModules()

	* moduleDatabase.cc (showModules): renamed to showNamedModules()

	* moduleDatabase.hh (class ModuleDatabase): showModules() ->
	showNamedModules()

	* commands.yy (command): added commands show modules . and show
	all modules .

	* top.yy: added KW_MODULES

	* lexer.ll: added keyword modules

	* moduleDatabase.hh (class ModuleDatabase): added decl for showModules()

	* moduleDatabase.cc (showModules): added

	* preModule.hh (getModuleType): added

	* moduleCache.hh (Parent): adde decl for showModules

	* moduleCache.cc (showModules): added

	* interpreter.hh (endif): added decl for showModules()

	* interpreter.cc (showModules): added

2004-02-24  Steven Eker  <eker@goo.csl.sri.com>

	* modules.yy (fDeclaration): added call to
	cleanUpModuleExpression()

	* top.yy: added forward decl for cleanUpModuleExpression()

	* bottom.yy (cleanUpModuleExpression): added

	* moduleCache.cc (makeRenamedCopy): fixed bug where we were
	forgetting to delete the canonical renaming that we made if the
	module we wanted was in cache

	* top.yy: use explicit stack to hold module expressions; updated
	%union; fixed + vs * prec bug

	* modules.yy (moduleExpr): rewritten so that module expression
	pointers are stored on an explicit stack rather than the bison
	stack; this allows us to free memory after an error
	(renaming): same trick as above
	(fDeclaration): new module expression conventions

	* mixfixModule.cc (findSymbol): check that true and false are in
	the same connected component before trying to make a sort test

	* makeGrammar.cc (makeBoolProductions): check that true and false
	are in the same connected component before adding syntax for sort
	tests

	* entry.cc (addOpDeclaration): check for duplicate SystemTrue and
	SystemFalse symbols

2004-02-23  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): check for identity clash between
	dupicate polymorphic operators

	* entry.cc (addPolymorph): check for dups

	* mixfixModule.hh (CommonTokens): added decl for domainAndRangeMatch()
	(CommonTokens): updated decl for findPolymorphIndex()

	* mixfixModule.cc (findPolymorphIndex): handle domain and range argument
	(domainAndRangeMatch): added

	* renameModule.cc (fixUpDonatedOps2): rewrote polymorph fixup code
	to handle distinct polymorphs with the same name

2004-02-20  Steven Eker  <eker@goo.csl.sri.com>

	* import.cc (processImports): call destructUnusedModules()

	* moduleCache.cc: (destructUnusedModules): added

	* importModule.hh (hasDependents): added

	* moduleCache.hh (Parent): added decl for destructUnusedModules()

2004-02-17  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added metasyntax and hooks for summation and
	renaming

	* moduleExpression.cc (deepSelfDestruct): can't assume module
	member is valid unless we are a renaming

	* preModule.hh (Parent): deleted decl for importModule()

	* import.cc (processImports): use getModule()
	(makeModule): rewritten using getModule()
	(importModule): deleted

	* moduleExpression.cc (ModuleExpression): store module name as a
	token
	(operator<<): new getModuleName() semantics

	* moduleExpression.hh (class ModuleExpression): moduleName becomes
	a token in order to have line number
	(getModuleName): updated return type

	* import.cc (getModule): added

	* moduleCache.cc (makeSummation): compute correct module type
	using join()

	* mixfixModule.hh (join): added

2004-02-13  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): added decl for dtor

	* importModule.cc (~ImportModule): added

	* preModule.cc (PreModule): use deepSelfDestruct()

	* moduleExpression.cc (deepSelfDestruct): added

	* moduleExpression.hh (class ModuleExpression): added decl for
	deepSelfDestruct()

	* import.cc (makeModule): handle list<> for summations

	* moduleExpression.cc (ModuleExpression): handle flattening of
	nested summations
	(operator<<): handle list<> for summations

	* moduleExpression.hh (class ModuleExpression): store summations
	as a list<>

2004-02-11  Steven Eker  <eker@goo.csl.sri.com>

	* import.cc (makeModule): use ModuleCache version of
	makeRenamedCopy()

	* importModule.hh (class ImportModule): deleted decls for
	makeSummation() and moduleCompare()

	* renameModule.cc (makeSummation): deleted
	(moduleCompare): deleted

	* importModule.hh (class ImportModule): updated decl for
	makeRenamedCopy()

	* renameModule.cc (makeRenamedCopy): rewritten using new conventions

	* mixfix.hh: added class ModuleCache

	* import.cc (makeModule): use ModuleCache version of makeSummation()

	* moduleCache.hh: created

	* moduleCache.cc: created

	* renameModule.cc (makeRenamedCopy): copy becomes one of our
	dependent modules

	* importModule.cc (deepSelfDestruct): remove self from dependent
	modules of baseModule

2004-02-09  Steven Eker  <eker@goo.csl.sri.com>

	* import.cc (makeModule): check for recursive imports

	* preModule.hh (Parent): added decl for makeModule()

	* import.cc (processImports): rewritten to use makeModule()
	(makeModule): added

2004-02-06  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): added decls for
	makeSummation() and moduleCompare()

	* renameModule.cc (makeSummation): added
	(moduleCompare): added

2004-02-05  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (makeRenamedCopy): crude first attempt at
	caching

	* userLevelRewritingContext.cc (printSubstitution): added
	DebugAdvisory()

	* renaming.cc (makeCanonicalName): handle attributes

	* renaming.hh (class Renaming): added decl for makeTypeName()

	* renaming.cc (makeTypeName): added

	* renameModule.cc (makeRenamedCopy): new makeCanonicalName()
	convention

	* renaming.cc (makeCanonicalVersion): fix same bug in polymorph
	case
	(makeCanonicalName): handle labels and op mappings

	* renameModule.cc (makeRenamedCopy): use makeCanonicalName()

	* renaming.cc (makeCanonicalName): added

	* renaming.hh (class Renaming): added decl for makeCanonicalName()

	* renaming.cc (makeCanonicalVersion): fix bug where we could
	potentially miss an operator renaming by using upper_bound() and
	lower_bound() instead of end() and find()

2004-02-04  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateStatements2): use translateLabel()

	* importTranslation.hh (class ImportTranslation): added decl for
	translateLabel()

	* importTranslation.cc (translateLabel): added

	* importModule.hh (getLabels): added

	* renaming.cc: handle labels

	* renameModule.cc (localStatementsComplete): moved here

	* importModule.cc (localStatementsComplete): handle labels and
	label renaming

	* importModule.hh (class ImportModule): added data member labels

2004-02-03  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (fixUpDonatedOps): use fixUpDonatedOps2()

	* importModule.hh (class ImportModule): fixUpRenamedOps() decl ->
	fixUpDonatedOps2()

	* renameModule.cc (localSort2): renamed from localSort()
	(localSort): added version that handles kinds
	(donateSorts2): use localSort2()
	(fixUpDonatedOps2): renamed from fixUpRenamedOps()
	(fixUpDonatedOps2): fix Vector<Symbol*> copy bug
	(fixUpDonatedOps2): handle polymorphs in fully general way
	(makeRenamedCopy): use fixUpDonatedOps2()

2004-02-02  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateOps): use donateOps2()

	* importModule.hh (class ImportModule): decl for
	donateRenamedOps() becomes donateOps2()

	* renameModule.cc (donateRenamedOps): deleted renameTranslation
	local variable
	(donateRenamedOps): use localSort() (2 places)
	(donateRenamedOps): Warning for imports from multiple places
	without a common ancestor downgraded to an advisory
	(donateRenamedOps): fix nasty bug where we were accidentally
	copying Vector of symbol pointers
	(donateRenamedOps): renamed to donateOps2()
	(makeRenamedCopy): donateRenamedOps() -> donateOps2()

	* importModule.hh (class ImportModule): findSort() -> localSort()

	* renameModule.cc (donateRenamedStatements): deleted
	(findSort): renamed to localSort()
	(donateSorts2): findSort() -> localSort()

	* importModule.hh (class ImportModule): repaced decl for
	findSort()
	donateRenamedSorts() with donateSorts2(); added decl for 
	(class ImportModule): deleted decl for donateRenamedStatements()

	* renameModule.cc (makeRenamedCopy): use donateSorts2()

	* importModule.cc (donateSorts): use donateSorts2()

	* renameModule.cc (makeRenamedCopy): don't call
	donateRenamedStatements()
	(donateRenamedSorts): becomes donateSorts2(); handle null renaming
	correctly; issue advisory rather than warning for dup sort
	(findSort): added

	* importTranslation.cc (ImportTranslation): use push(), take
	renaming argument
	(translate): rewrote all 3 versions so that we can handle imports
	of symbols into renamed modules for fixups

	* importTranslation.hh (class ImportTranslation): deleted data
	member importer; updated decl for ctor

2004-01-30  Steven Eker  <eker@goo.csl.sri.com>

	* importTranslation.hh (class ImportTranslation): added decl for
	static version of translate()

	* importTranslation.cc (translate): added static version

	* importModule.cc (donateStatements2): use
	ImportTranslation::push()

	* importTranslation.cc (ImportTranslation): no intialization for
	renamings
	(translate): use new definition for renamings

	* importTranslation.hh (push): added
	(class ImportTranslation): updated data member renamings; added
	data member targets; upated decl for ImportTranslation()

2004-01-29  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (makeRenamedCopy): set canonicalRenaming and
	baseModule

	* importModule.cc (donateStatements): use donateStatements2()
	(ImportModule): initialize canonicalRenaming and baseModule

	* importModule.hh (class ImportModule): added decl for
	donateStatements2(); added data members canonicalRenaming and
	baseModule

	* importModule.cc (donateStatements2): added

	* renameModule.cc (fixUpRenamedOps): don't use firstPolymorphCopy
	(donateRenamedOps): don't set firstPolymorphCopy

	* importModule.hh (class ImportModule): deleted data member
	firstPolymorphCopy

	* importModule.cc (donateOps): don't set firstPolymorphCopy
	(fixUpDonatedOps): use findPolymorphIndex() rather than
	firstPolymorphCopy

	* mixfixModule.hh (CommonTokens): added decl for
	findPolymorphIndex()

	* mixfixModule.cc (findPolymorphIndex): added

	* mixfixModule.hh (findIterSymbolIndex): made const

2004-01-28  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): deleted data member
	responsibleForFixUp

	* renameModule.cc (donateRenamedOps): don't initialize or fill out
	the responsibleForFixUp set
	(fixUpRenamedOps): rewritten to avoid needing the
	responsibleForFixUp set

	* importModule.cc (fixUpDonatedOps): rewritten to avoid needing
	the responsibleForFixUp set
	(donateOps): don't initialize or fill out the responsibleForFixUp
	set

2004-01-27  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (donateRenamedOps): handle bubbles
	(fixUpRenamedOps): new copyFixUpBubbleSpec() convention

	* importModule.cc (donateOps): new copyBubbleSpec() convention
	(fixUpDonatedOps): new copyFixUpBubbleSpec() convention

	* mixfixModule.hh (CommonTokens): updated decls for
	copyBubbleSpec() and copyFixUpBubbleSpec()

	* mixfixModule.cc (copyFixUpBubbleSpec): rewritten with new
	semantics to allow incremental/multiple fixups
	(copyBubbleSpec): rewritten with new semantics; also fix a nasty
	bug where we were copying the bubble spec from the wrong module

2004-01-26  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (donateRenamedOps): removed static stuff for
	cleanliness
	(fixUpRenamedOps): implemented

	* renaming.cc (makeCanonicalVersion): fixed bug where we had to
	test for whether we had already added a generic op renaming the
	wrong way around.

	* renameModule.cc (donateRenamedOps): handle polymorphs

	* renaming.hh (class Renaming): added decl for renamePolymorph()

	* renaming.cc (makeCanonicalVersion): handle polymorphs
	(renamePolymorph): added

2004-01-23  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (donateRenamedOps): use assignFlags() (4 places)
	(donateRenamedOps): use gather.clear()

	* symbolType.hh (assignFlags): added

2003-12-23  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (makeRenamedCopy): use makeCanonicalVersion()

	* renaming.hh (class Renaming): added decl for setType()

	* renaming.cc (setType): added

	* renaming.hh (class Renaming): added decl for
	makeCanonicalVersion()

	* renaming.cc (typeMatch): updated args (both versions)
	(addType): don't take kind arg
	(convertSortsToKinds): deleted
	(printRenamingType): don't check isKind()
	(makeCanonicalVersion): added

	* renaming.hh (class Renaming): updated decl for addType();
	deleted decl for convertSortsToKinds(); delete struct Type
	(isKind): deleted
	(getTypeSorts): updated

	* modules.yy (fromType): use new addType() convention; don't use
	convertSortsToKinds()

	* renaming.hh (class Renaming): typeConflict() decls become
	typeMatch()

	* renaming.cc (addType): use new Type
	(typeConflict): becomes typeMatch() (both versions)
	(renameOp): use typeMatch()
	(printRenamingType): added
	(operator<<): use printRenamingType()

	* renaming.hh (class Renaming): updated struct Type; replaced decl
	for getTypeTokens() with getTypeSorts()
	(getTypeTokens): becomes getTypeSorts()

2003-12-19  Steven Eker  <eker@goo.csl.sri.com>

	* importTranslation.cc (ImportTranslation): handle renamings argument
	(translate): (sort version) handle renamings

	* importTranslation.hh (class ImportTranslation): updated decl for
	ctor, added data member renamings

2003-12-09  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): added decls for
	donateRenamedSorts(), donateRenamedOps(), fixupRenamedOps(),
	donateRenamedStatements()

	* renameModule.cc (donateRenamedOps): added
	(fixupRenamedOps): added stub
	(donateRenamedStatements): added stub
	(makeRenamedCopy): call donateRenamedOps(), fixupRenamedOps() and
	donateRenamedStatements()

	* renaming.cc (renameLabel): added

	* renaming.hh (class Renaming): adeed decls for renameLabel(),
	renameOp() and both versions of typeConflict()

	* renaming.cc (addOpMapping): set index field
	(renameOp): added
	(typeConflict): added two versions

	* renaming.hh (class Renaming): added index field to struct OpMapping

2003-12-08  Steven Eker  <eker@goo.csl.sri.com>

	* renameModule.cc (donateRenamedSorts): added

	* importModule.hh (class ImportModule): added decl for
	donateRenamedSorts()

	* import.cc (processImports): quick hack to handle simple renaming

	* renaming.hh (class Renaming): added decl for renameSort()

	* renaming.cc (renameSort): added

	* importModule.hh (class ImportModule): added decl for
	makeRenamedCopy()

	* renameModule.cc: created

2003-12-01  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (printAttributes): use printGather() and
	printFormat()

	* renaming.cc (operator<<): handle attributes

	* preModule.hh (Parent): added decls for printGather() and
	printFormat()

	* command.cc (printGather): added
	(printFormat): added

	* renaming.cc (setPrec): don't set symbolType member
	(setGather): don't set symbolType member
	(setFormat): don't set symbolType member
	(setLatexMacro): don't set symbolType member
	(addOpMapping): initialize prec member to invalid value

	* renaming.hh (getPrec): added
	(getGather): added
	(getFormat): added
	(class Renaming): deleted symbolType member from struct OpMapping

	* renaming.cc (setPrec): implemented
	(setFormat): implemented
	(setLatexMacro): implemented
	(addSortMapping): handle line number
	(addLabelMapping): handle line number

	* ops.cc (setPrec): use getInt()

	* token.cc (getInt): added

	* token.hh (class Token): added decl for getInt()

	* renaming.cc (setGather): implemented

2003-11-24  Steven Eker  <eker@goo.csl.sri.com>

	* renaming.cc (convertSortsToKinds): added

	* renaming.hh (class Renaming): added decl forconvertSortsToKinds()

	* modules.yy (fromSpec): handle ~> semantics

	* token.hh (class Token): added decl for printTokens();

	* token.cc (printTokens): added

	* renaming.hh (isKind): added
	(getTypeTokens): added
	(getNrTypes): added

	* renaming.cc (addType): added

	* renaming.hh (class Renaming): added data member lastOpMapping;
	added symbolType member to struct OpMapping
	(getOpFrom): added
	(getOpTo): added
	(class Renaming): added struct Type; added data member types to
	struct OpMapping

	* renaming.cc (operator<<): handle sort and label mappings

	* renaming.hh (getSortFrom): added
	(getSortTo): added
	(getLabelFrom): added
	(getLabelTo): aded

	* modules.yy (moduleExpr): use new ModuleExpression convention

	* renaming.cc (addSortMapping): rewritten
	(addLabelMapping): rewritten

	* renaming.hh (class Renaming): added data members sortMapIndex,
	labelMapIndex, opMapIndex
	(getNrSortMappings): added
	(getNrLabelMappings): added
	(getNrOpMappings): added

	* moduleExpression.hh (class ModuleExpression): updated decl for
	ModuleExpression()

	* moduleExpression.cc (ModuleExpression): take Token rather than
	int

	* modules.yy (fDeclaration): fix the bug that bubble gets reused
	for parsing identifiers in renamings

	* renaming.cc (operator<<): added

	* moduleExpression.cc (operator<<): handle summation and renaming

2003-11-20  Steven Eker  <eker@goo.csl.sri.com>

	* top.yy: added decls for tokenBarColonTo, tokenBarCommaLeft

	* modules.yy (mapping): added semantics for sort and label
	mappings
	(tokenBarColonTo): added
	(tokensBarColonTo): added
	(tokenBarCommaLeft): added
	(tokensBarCommaLeft): added
	(mapping): added semantics for op mappings

	* top.yy: added global variable current renaming

	* renaming.cc: created

	* renaming.hh: created
	
===================================Maude83a===========================================

2003-11-12  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (PreModule): delete module expressions in imports

2003-11-11  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc: added support for special and poly attributes

2003-11-10  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added format attributes to meta hook ops

	* termPrint.cc (disambiguatorSort): added
	(prettyPrint): use suffix
	(suffix): use disambiguatorSort()

2003-11-07  Steven Eker  <eker@goo.csl.sri.com>

	* ops.cc (addHook): only set basic type if it is not STANDARD;
	this fixes the object level Bubble Exclude bug

	* mixfixModule.hh (CommonTokens): findBubbleSpecIndex() decl
	replaces findBubbleSpec() decl

	* mixfixModule.cc (copyFixUpBubbleSpec): use findBubbleSpecIndex()
	(findBubbleSpecIndex): was findBubbleSpec()
	(copyBubbleSpec): use findBubbleSpecIndex()
	(getDataAttachments): use findBubbleSpecIndex()
	(getSymbolAttachments): use findBubbleSpecIndex()

	* mixfixModule.hh (CommonTokens): updated decl for findBubbleSpec()

	* mixfixModule.cc (getSymbolAttachments): handle bubbles
	(getDataAttachments): handle bubbles
	(findBubbleSpec): made const

	* visibleModule.cc (showAttributes): use MixfixModule versions of
	getDataAttachments(), getSymbolAttachments(), getTermAttachments()

	* mixfixModule.cc (getDataAttachments): added
	(getSymbolAttachments): added
	(getTermAttachments): added

	* mixfixModule.hh (CommonTokens): added decls for
	getDataAttachments(), getSymbolAttachments(), getTermAttachments()

	* visibleModule.cc (showAttributes): use hasSpecial() rather than
	hasAttachments()
	(showPolymorphAttributes): use hasSpecial() rather than
	hasAttachments()

	* symbolType.hh (hasSpecial): added

2003-11-06  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (getPolymorphDataAttachment): added
	(getPolymorphSymbolAttachment): added
	(getPolymorphTermAttachment): added

	* mixfixModule.hh (CommonTokens): added decls for
	getPolymorphDataAttachment(), getPolymorphSymbolAttachment(),
	getPolymorphTermAttachment()

	* visibleModule.cc: simplified using hookSort()
	(showPolymorphAttributes): handle attachments

	* mixfixModule.hh (hookSort): added

	* symbolType.hh (class SymbolType): reordered enum BasicTypes to
	make those that are instantiated with the special attribute
	contiguous

	* visibleModule.hh (class VisibleModule): updated showDecls() decl

	* visibleModule.cc (showOps): don't print internally created
	symbols, even in "all" case
	(showDecls): don't print internally created decls; take index
	rather than sort
	(showOps): new  showDecls() convention

2003-11-05  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.cc (getDataAttachments): use CODE_CASE()

	* loopSymbol.cc (getDataAttachments): use APPEND_DATA()

	* visibleModule.cc (showAttributes): changed formatting of
	specials

	* loopSymbol.cc (getDataAttachments): added
	(getSymbolAttachments): added

	* quotedIdentifierOpSymbol.cc (getSymbolAttachments): call
	FreeSymbol::getSymbolAttachments() for cleaness

	* loopSymbol.hh (class LoopSymbol): added decls for
	getDataAttachments() and getSymbolAttachments()

2003-11-04  Steven Eker  <eker@goo.csl.sri.com>

	* visibleModule.cc (showDecls): use new showAttributes() calling
	convention

	* visibleModule.hh (class VisibleModule): updated decl for
	showAttributes()

	* visibleModule.cc (showAttributes): handle attachments; take
	OpDeclaration arg

2003-11-03  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.cc (eqRewrite): use safeCast()
	(getDataAttachments): added
	(getSymbolAttachments): added

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added decls for getDataAttachments() and getSymbolAttachments()

	* quotedIdentifierSymbol.cc (getDataAttachments): added

	* quotedIdentifierSymbol.hh (class QuotedIdentifierSymbol): added
	decl for getDataAttachments()

2003-10-29  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added upOpDecls(), upImports()

	* preModule.hh (getNrAutoImports): added
	(getNrImports): added
	(getAutoImport): added
	(getImportMode): added
	(getImport): added

2003-10-28  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added upSorts(), upSubsortDecls()

	* visibleModule.cc (showAttributes): code cleaning

	* mixfixModule.hh (getPolymorphPrec): added
	(getPolymorphGather): added
	(getPolymorphFormat): added

	* visibleModule.cc (showPolymorphAttributes): added handling for
	prec, gather and format

	* mixfixModule.hh (getPolymorphIdentity): added
	(getPolymorphStrategy): added
	(getPolymorphFrozen): added

	* visibleModule.cc (showPolymorphAttributes): added handling for
	identity, strategy and frozen

2003-10-27  Steven Eker  <eker@goo.csl.sri.com>

	* visibleModule.hh (class VisibleModule): added decl for
	showPolymorphAttributes()

	* visibleModule.cc (showModule): call showPolymorphs()
	(showPolymorphAttributes): added

	* interpreter.cc (showOps): call showPolymorphs()

	* mixfixModule.hh (getPolymorphName): added
	(getPolymorphDomainAndRange): added

	* visibleModule.hh (class VisibleModule): added decls for
	showPolymorphs() and showPolymorphDecl()

	* visibleModule.cc (showVars): rewritten using FOR_EACH_CONST()
	(showSummary): split symbols into user symbols and total symbols;
	print number of polymorphic operators
	(showPolymorphDecl): added
	(showPolymorphs): added

	* mixfixModule.cc (copyFixUpPolymorph): don't copy specialTerms
	(~MixfixModule): deepSelfDestruct() term hook terms rather than
	specialTerms

	* mixfixModule.hh (CommonTokens): deleted decls for
	fixUpPolymorph()
	(CommonTokens): deleted specialTerms and shareWithSymbol from
	struct Polymorph

	* entry.cc (addPolymorph): don't clear shareWithSymbol

	* mixfixModule.cc (fixUpPolymorph): deleted both versions
	(copyFixUpPolymorph): deleted support for shareWithSymbol
	(copyPolymorph): don't clear shareWithSymbol

	* importModule.hh (getNrImportedPolymorphs): added

2003-10-24  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (getPolymorphType): added

	* mixfixModule.cc (instantiatePolymorph): no need to create Token
	from name
	(instantiatePolymorph): set symbol line number

	* entry.cc (addPolymorph): copy name Token

	* mixfixModule.hh (CommonTokens): made Polymorph name field into a
	Token

2003-10-23  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (newFancySymbol): don't pass term args to
	EqualitySymbol() or BranchSymbol()
	(addPolymorph): set overloaded flags in symbolInfo.iflags

2003-10-22  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (instantiatePolymorph): deep copy term hooks

	* fixUp.cc (fixUpSymbols): handle identities for polymorphs
	(fixUpSymbols): fixed warning messages for bad special

	* process.cc (processSorts): use lessThan from CommonTokens

	* fixUp.cc (findHookSymbol): use colon and partial from
	CommonTokens

	* commonTokens.hh (class CommonTokens): added lessThan and partial

	* commonTokens.cc (CommonTokens): added lessThan and partial

2003-10-20  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added op poly : NatList -> Attr [ctor] and
	polySymbol hook

	* specialSymbolTypes.cc (MACRO): deleted UP_SYMBOL, DOWN_SYMBOL
	instantiations

	* symbolType.hh (class SymbolType): deleted UP_SYMBOL, DOWN_SYMBOL
	from enum BasicTypes

2003-10-17  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (instantiatePolymorph): fixed bug where we were
	using idHooks purpose for attaching an opHook

	* prelude.maude: updated definitions of if_then_else_fi, upTerm
	and downTerm

2003-10-16  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): rewritten

	* preModule.hh (Parent): added decl for polymorph version of
	defaultFixUp()

	* fixUp.cc (defaultFixUp): added polymorph version

	* mixfixModule.cc (instantiatePolymorph): rewritten to use
	standardized method for polymorphs

2003-10-15  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addPolymorph): zero polymorph identity

	* mixfixModule.cc (addIdHookToPolymorph): added
	(addOpHookToPolymorph): added
	(addTermHookToPolymorph): added
	(copyFixUpPolymorph): copy identity and hooks
	(addIdentityToPolymorph): added
	(copyPolymorph): zero polymorph identity

	* mixfixModule.hh (CommonTokens): added structs IdHook, OpHook and
	TermHook
	(CommonTokens): added identity, idHooks, opHooks, termHooks to
	struct Polymorph

	* entry.cc (newFancySymbol): handle BRANCH_SYMBOL and
	EQUALITY_SYMBOL

	* symbolType.hh (hasAttachments): BRANCH_SYMBOL and
	EQUALITY_SYMBOL now are treated as having attachments

	* fixUp.cc (fixUpSymbols): check for polymorphs using POLY flag;
	reorganized

2003-10-14  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (findSymbol): rewritten to handle polymorphs in
	a generic way and to be more picky about matching components
	(instantiatePolymorph): must not change original polymorph
	domainAndRange now that we rely on it to know which arguments are
	polymorphic - make a copy

2003-10-13  Steven Eker  <eker@goo.csl.sri.com>

	* process.cc (processOps): don't pass polyArgs to addPolymorph()

	* entry.cc (addPolymorph): don't take polyArgs argument

	* mixfixModule.hh (CommonTokens): removed polyArgs from struct
	Polymorph
	(CommonTokens): updated decl for addPolymorph()

	* mixfixModule.cc (copyPolymorph): use domainAndRange to  decide
	how to copy sorts; copy frozen

	* makeGrammar.cc (makeVariableProductions): use new nonTerminal()
	(makeBoolProductions): use new nonTerminal()
	(makePolymorphProductions): rewritten to use new nonTerminal() and
	polyArgs
	(makePolymorphProductions): use domainAndRange instead of polyArgs

	* mixfixModule.cc (nonTerminal): added Sort* version

	* mixfixModule.hh (CommonTokens): added decl for Sort* version of
	nonTerminal()

	* entry.cc (addPolymorph): handle frozen and polyArgs atrguments

	* mixfixModule.hh (CommonTokens): updated decl for addPolymorph()
	(CommonTokens): added polyArgs and frozen to struct Polymorph

	* symbolType.hh (isPolymorph): deleted
	(isCreatedOnTheFly): don't use isPolymorph()

	* process.cc (checkOpTypes): rewritten using polyArgs
	(computeOpTypes): rewritten using polyArgs
	(processOps): don't use isPolymorph(); use new addPolymorph()
	convention

	* ops.cc (setLatexMacro): set LATEX flag

2003-10-10  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): added polyArgs to struct OpDef; added
	decl for setPoly()

	* ops.cc (setPoly): added

	* symbolType.hh (class SymbolType): added POLY to enum Flags

	* modules.yy (attrKeyword): added KW_POLY
	(attribute): added KW_POLY

	* top.yy: added decl for KW_POLY

	* lexer.ll (id): added keywords poly, polymorphic
	
===================================Maude83===========================================

2003-10-09  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (printAttributes): need to check for DITTO in first if
	(printAttributes): fix spacing before [

2003-10-08  Steven Eker  <eker@goo.csl.sri.com>

	* import.cc (processImports): handle struct Import

	* command.cc (showModule): handle struct Import

	* preModule.hh (Parent): updated decl for addImport()

	* preModule.cc (addImport): moved here; now handle mode

	* preModule.hh (Parent): added struct Import

	* moduleExpression.cc (operator<<): added

	* command.cc (printAttributes): handle format properly

2003-09-29  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): added decl for Symbol* version
	of fixUpPolymorph()

	* mixfixModule.cc (fixUpPolymorph): added Symbol* version

	* fixUp.cc (fixUpSymbols): handle UP_SYMBOL and DOWN_SYMBOL

	* makeGrammar.cc (makePolymorphProductions): handle UP_SYMBOL and
	DOWN_SYMBOL

	* mixfixModule.hh (CommonTokens): added shareWithSymbol to struct
	Polymorph

	* mixfixModule.cc (copyPolymorph): clear shareWithSymbol

	* entry.cc (addPolymorph): clear shareWithSymbol

	* mixfixModule.cc (findSymbol): handle UP_SYMBOL and DOWN_SYMBOL
	(instantiatePolymorph): handle UP_SYMBOL and DOWN_SYMBOL
	(copyFixUpPolymorph): handle shareWithSymbol
	(copyPolymorph): handle UP_SYMBOL and DOWN_SYMBOL

	* process.cc (checkOpTypes): handle UP_SYMBOL and DOWN_SYMBOL
	(computeOpTypes): handle UP_SYMBOL and DOWN_SYMBOL

	* symbolType.hh (isPolymorph): rewritten
	(isCreatedOnTheFly): rewritten

	* specialSymbolTypes.cc (MACRO): added UpSymbol and DownSymbol

	* symbolType.hh (class SymbolType): added UP_SYMBOL and
	DOWN_SYMBOL

2003-09-23  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (handleDebug): check to see if pe is 0 before
	checking its label

2003-09-17  Steven Eker  <eker@goo.csl.sri.com>

	* termPrint.cc (prefix): deleted (this was commented out before)

	* mixfixModule.hh (CommonTokens): added decl for handleVariable()

	* bufferPrint.cc (handleVariable): added
	(prettyPrint): use handleVariable()

	* mixfixModule.hh (CommonTokens): added decl for printKind()

	* bufferPrint.cc (printKind): replaces printSort()
	(prettyPrint): use printKind in variable case

2003-09-15  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (printSort): added

2003-09-09  Steven Eker  <eker@goo.csl.sri.com>

	* modules.yy (listBarDot): added
	(endTokens2): deleted
	(noTrailingDot2): deleted
	(oDeclaration): listBarDot replaces endTokens2 (3 places)

2003-09-08  Steven Eker  <eker@goo.csl.sri.com>

	* visibleModule.cc (showAttributes): print space after left/right
	when printing identity

2003-09-05  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (printAttributes): added
	(printOpDef): rewritten to use printAttributes(

2003-09-04  Steven Eker  <eker@goo.csl.sri.com>

	* mixfix.hh: added class Renaming

	* top.yy: added yyModuleExpression to union

	* modules.yy (fDeclaration): use moduleExpr

	* import.cc (processImports): quick hack to use ModuleExpression

	* preModule.hh (addImport): updated
	(Parent): imports is now a Vector<ModuleExpression*>

	* moduleExpression.cc: created

	* moduleExpression.hh: created

	* mixfix.hh: added class ModuleExpression

2003-09-03  Steven Eker  <eker@goo.csl.sri.com>

	* top.yy: added KW_TO, KW_LABEL, '+', '*'

	* lexer.ll: added KW_TO, KW_LABEL, '+', '*'

	* modules.yy (identifier): added KW_TO, KW_LABEL, '+', '*'

2003-08-20  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (operator<<): added Assert() to check for null
	component
	(operator<<): decided to make sort print function bullet proof
	instead; it can now be called before connnected components are
	calculated and sort indices are assigned
	
===================================Maude82===========================================

2003-07-22  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (printHelp): added
	(printVersion): added
	(main): added --help and --version flags

	* interact.cc (segmentationFaultHandler): use PACKAGE_BUGREPORT

2003-07-21  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierDagNode.cc (compareArguments): use new internal
	ordering on quoted identifiers

	* quotedIdentifierTerm.cc (compareArguments): use new internal
	ordering on quoted identifiers (both versions)

2003-07-16  Steven Eker  <eker@goo.csl.sri.com>

	* token.hh: use ropeStuff.hh

	* entry.cc (addOpDeclaration): if we detect empty syntax for a
	single argument operator, clear PREC, GATHER and FORMAT flags and
	clear mixfix syntax to avoid infinite recursion in MSCP later on

2003-07-01  Steven Eker  <eker@goo.csl.sri.com>

	* banner.cc: #include <config.h>

===================================Maude81===========================================

2003-05-31  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (segmentationFaultHandler): use system call rather
	than stream to output message since line wrapper can't be relied
	on

	* fixUp.cc (findHookSymbol): made slightly more robust in the case
	of a missing sort

2003-05-30  Steven Eker  <eker@goo.csl.sri.com>

	* maudemlBuffer.cc (generate): (Term* version) use variable q
	(generate): (DagNode* version) use variable q

	* lexerAux.cc: deleted SUNOS #ifdef

2003-05-28  Steven Eker  <eker@goo.csl.sri.com>

	* banner.cc: replaced LIBv3 #ifdef

2003-05-23  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateStatements): copy metadata (this fixes a
	bug)

	* prelude.maude: added config, object, message and nonexec ops to
	META-MODULE; removed frozen hack

	* mixfixParser.cc (makeStatementPart): use setNonexec()

	* prettyPrint.cc (printAttributes): handle nonexec

	* importModule.cc (donateStatements): copy nonexec status

2003-05-21  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (fRewrite): call setObjectMode()

	* entry.cc (addOpDeclaration): don't fill out configSymbols

	* userLevelRewritingContext.cc (UserLevelRewritingContext): call
	ObjectSystemRewritingContext() (both versions)

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	derive from ObjectSystemRewritingContext rather than
	RewritingContext

	* mixfixModule.cc (setConfigMode): deleted
	(closeSignature): reverted

	* mixfixModule.hh (CommonTokens): deleted data member
	configSymbols and decl for setConfigMode() - setting state info
	like this would play havoc with re-entrancy

	* execute.cc (fRewrite): call setConfigMode()

	* mixfixModule.cc (closeSignature): use configSymbols

	* mixfixModule.hh (CommonTokens): added data member configSymbols

	* mixfixModule.cc (setConfigMode): rewritten to use configSymbols

	* entry.cc (addOpDeclaration): put symbols with config attribute
	in configSymbols

2003-05-20  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): added decl for setConfigMode()

	* mixfixModule.cc (setConfigMode): added

	* entry.cc (addOpDeclaration): warn about operators that have both
	object and msg attributes or that have an object or msg attribute
	and no arguments

2003-05-05  Steven Eker  <eker@goo.csl.sri.com>

	* banner.cc: removed SUNOS and LIBv3 #ifdefs
	
===================================Maude80a===========================================

2003-05-03  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added

2003-05-01  Steven Eker  <eker@goo.csl.sri.com>

	* compiler.cc (makeBaseName): use ostringstream

	* quotedIdentifierOpSymbol.cc (eqRewrite): use ostringstream

	* quotedIdentifierDagNode.cc (overwriteWithClone): rewritten
	(makeClone): rewritten

2003-04-18  Steven Eker  <eker@goo.csl.sri.com>

	* loopSymbol.cc (extractQidList): use DagArgumentIterator

2003-04-09  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): updated many decls for color arg

	* termPrint.cc (computeColor): added
	(prefix): deleted
	(suffix): take color arg
	(handleIter): take color arg
	(handleMinus): take color arg
	(handleDivision): take color arg
	(handleFloat): take color arg
	(handleString): take color arg
	(handleQuotedIdentifier): take color arg
	(handleVariable): take color arg
	(prettyPrint): pass color arg to many functions

2003-04-07  Steven Eker  <eker@goo.csl.sri.com>

	* model-checker.maude: added => and <=> LTL operators
	
===================================Maude80===========================================

2003-03-21  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (reduce): added threshold search version

2003-03-18  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): fixed symmetric bug

	* match.cc (match): fixed bug where we were printing patternTerm
	when we printed the command even though this may have been
	invalidated by normalization

2003-02-26  Steven Eker  <eker@goo.csl.sri.com>

	* xmlBuffer.cc: removed #pragma
	(endElement): updated Assert()

	* xmlBuffer.hh: removed #pragma

	* visibleModule.cc: removed #pragma
	(showDecls): updated Assert()

	* visibleModule.hh: removed #pragma

	* userLevelRewritingContext.cc: removed #pragma
	(tracePostEqRewrite): updated Assert()
	(printSubstitution): updated Assert()

	* userLevelRewritingContext.hh: removed #pragma

	* token.cc: removed #pragma
	(codeToInt64): DebugAdvisoryCheck() -> DebugAdvisory()
	(codeToInt64): updated Assert()
	(codeToDouble): updated Assert()
	(bubbleToPrefixNameCode): updated Assert()
	(getRational): updated Assert()

	* token.hh: removed #pragma

	* symbolType.cc: removed #pragma

	* symbolType.hh: removed #pragma

	* quotedIdentifierTerm.cc: removed #pragma

	* quotedIdentifierTerm.hh: removed #pragma

	* quotedIdentifierSymbol.cc: removed #pragma

	* quotedIdentifierSymbol.hh: removed #pragma

	* quotedIdentifierOpSymbol.cc: removed #pragma
	(eqRewrite): updated Assert()

	* quotedIdentifierOpSymbol.hh: removed #pragma

	* quotedIdentifierDagNode.cc: removed #pragma

	* quotedIdentifierDagNode.hh: removed #pragma

	* profileModule.cc: removed #pragma

	* profileModule.hh: removed #pragma

	* process.cc (computeType): updated Assert()s

	* prettyPrint.cc (computeGraphStatus): updated Assert()

	* preModule.cc: removed #pragma
	(regretToInform): updated Assert()

	* preModule.hh: removed #pragma

	* ops.cc (convertSortsToKinds): updated Assert()

	* moduleDatabase.cc: removed #pragma

	* moduleDatabase.hh: removed #pragma

	* mixfixParser.cc: removed #pragma
	(parseSentence): updated DebugAdvisoryCheck()
	(parseSentence): updated Assert()
	(makeTerms): updated Assert()
	(insertStatement): updated Assert()
	(makeMatchCommand): updated Assert()
	(makeSearchCommand): updated Assert()
	(makeTerm): updated Assert()s

	* mixfixParser.hh: removed #pragma

	* mixfixModule.cc: removed #pragma
	(findSymbol): updated Assert()
	(computePrecAndGather): updated Assert()s

	* mixfixModule.hh: removed #pragma

	* metadataStore.cc: removed #pragma

	* metadataStore.hh: removed #pragma

	* maudemlBuffer.cc: removed #pragma

	* maudemlBuffer.hh: removed #pragma

	* loopSymbol.cc: removed #pragma

	* loopSymbol.hh: removed #pragma

	* interpreter.cc: removed #pragma

	* interpreter.hh: removed #pragma

	* importTranslation.cc: removed #pragma
	(translate): updated Assert() (both versions)

	* importTranslation.hh: removed #pragma

	* importModule.cc: removed #pragma
	(donateOps): updated Assert()s
	(fixUpDonatedOps): updated Assert()s

	* importModule.hh: removed #pragma

	* graphPrint.cc (graphCount): updated Assert()s

	* fileTable.cc: removed #pragma

	* fileTable.hh: removed #pragma

	* execute.cc (cont): fixed buggy IssueWarning()

	* entry.cc (addSort): updated Assert()
	(hasSameDomain): updated Assert()s
	(addOpDeclaration): updated Assert()

	* dagNodePrint.cc (computeColor): updated Assert()

	* compiler.cc: removed #pragma
	(makeExecutable): fixed buggy IssueWarning()

	* compiler.hh: removed #pragma

	* commonTokens.cc: removed #pragma

	* commonTokens.hh: removed #pragma
	
===================================Maude79===========================================

2003-02-20  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (segmentationFaultHandler): updated bug report address

	* entry.cc (addOpDeclaration): added WarningCheck for 1 arg ops with
	empty syntax

	* model-checker.maude: split off fmod SATISFACTION; use modelCheck
	for model checker

	* prelude.maude: NUMBER-CONVERSION -> CONVERSION

2003-02-19  Steven Eker  <eker@goo.csl.sri.com>

	* makeGrammar.cc (makeComplexProductions): use =>1 instead of =>
	for one step rewriting

	* commonTokens.hh (class CommonTokens): added arrowOne

	* commonTokens.cc (CommonTokens): addedarrowOne

	* search.cc (search): use =>1 instead of => for one step rewriting
	
===================================Maude78===========================================

2003-01-06  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): removed various commented out crap

2003-01-03  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (includeFile): save fakeNewline status
	(handleEof): restore fakeNewline status
	(cleanUpLexer): clear fakeNewline flag

2003-01-02  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (getInput): set result = YY_NULL if there are no
	more characters available from file (rather than , for
	portability).

2002-11-27  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (findPrelude): removed extraneous quote from
	IssueWarning()

	* banner.cc: fixed #include for LIBv3

2002-11-25  Steven Eker  <eker@goo.csl.sri.com>

	* interpreter.cc (setCurrentModule): removed default arg

2002-11-15  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addOpDeclaration): use new style
	IssueWarning()/WarningCheck()s
	(addVariableAlias): use new style WarningCheck()
	(newFancySymbol): use new style IssueWarning()s
	(addPolymorph): use new style IssueWarning()/WarningCheck()s

	* doParse.cc (parseTerm): use new style IssueWarning()s
	(parseStatement): use new style IssueWarning()s
	(parseMatchCommand): use new style IssueWarning()s
	(parseSearchCommand): use new style IssueWarning()s
	(parseSentence): use new style IssueWarning()s

	* moduleDatabase.cc (insertModule): use new style IssueAdvisory()

	* fixUp.cc (fixUpSymbols): use new style
	IssueWarning()/WarningCheck()

	* import.cc (processImports): use new style
	IssueWarning()/WarningCheck()
	(importModule): use new style IssueWarning()s

	* importModule.cc (donateSorts): use new style IssueWarning()
	(donateOps): use new style IssueWarning()

	* interact.cc (commandLoop): use new style IssueWarning()

	* interpreter.cc (setCurrentModule): use new style IssueWarning()s
	(makeClean): use new style IssueAdvisory()

	* loopMode.cc (contLoop2): use new style IssueWarning()s
	(contLoop): use new style IssueAdvisory()s

	* main.cc (findPrelude): use new style IssueWarning()
	(main): use new style IssueWarning()
	(findFile): use new style IssueWarning()

	* match.cc (match): use new style IssueWarning()

	* mixfixParser.cc (makeStatementPart): use new style
	WarningCheck()s

	* lexerAux.cc (includeFile): use new style IssueWarning()s

	* lexer.flex: use new style IssueWarning()s

	* bottom.y (yyerror): use new style IssueWarning()

	* modules.y: use new style IssueWarning()s

	* top.y: use new style IssueWarning()s

	* ops.cc (convertSortsToKinds): use new style IssueWarning()
	(setPrec): use new style IssueWarning()
	(setGather): use new style IssueWarning()s
	(setFormat): use new style IssueWarning()s
	(setFrozen): use new style IssueWarning()/WarningCheck()s
	(setStrat): use new style IssueWarning()

	* preModule.cc (getFlatModule): use new style IssueWarning()
	(getFlatSignature): use new style IssueAdvisory()

	* process.cc (process): use new style IssueWarning()s
	(processSorts): use new style IssueWarning()/WarningCheck()
	(getSort): use new style IssueWarning()

	* search.cc (search): use new style IssueWarning()
	(showSearchPath): use new style IssueWarning()s
	(showSearchGraph): use new style IssueWarning()

2002-11-14  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence): Assert() to check for bad error
	position being returned from MSCP

	* interpreter.cc (parse): use getFlatModule() rather than
	getFlatSignature() since we have now deferred sort table
	calculations until the module is flattened

2002-11-12  Steven Eker  <eker@goo.csl.sri.com>

	* dagNodePrint.cc (handleIter): only compute color info if
	PRINT_COLOR is set to avoid UMRs
	(prettyPrint): only compute color info if
	PRINT_COLOR is set to avoid UMRs

2002-11-11  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added owise meta attribute

	* mixfixParser.cc (makeStatementPart): added line number to
	warnings

	* mixfixModule.hh (CommonTokens): updated decl for printAttributes()

	* prettyPrint.cc (printAttributes): handle owise

	* importModule.cc (donateStatements): pass owise flag to Equation()

	* mixfixParser.cc (makeAttributePart): handle MAKE_OWISE_ATTRIBUTE
	(makeStatementPart): pass owise flag to Equation()

	* mixfixParser.hh (class MixfixParser): added MAKE_OWISE_ATTRIBUTE
	to enum SemanticActions
	(class MixfixParser): added enum Flags
	(class MixfixParser): updated decls for makeAttributePart() and
	makeStatementPart()

	* makeGrammar.cc (makeAttributeProductions): added syntax for
	otherwise and owise

	* commonTokens.hh (class CommonTokens): added otherwise and owise

	* commonTokens.cc (CommonTokens): added otherwise and owise

2002-11-07  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (getInput): deleted commented out i/o code

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for changePrompt()

	* interact.cc (changePrompt): added
	(handleDebug): call changePrompt()
	(setHandlers): call changePrompt(), setContPrompt()
	(commandLoop): deleted messy prompt setting code
	(setHandlers): deleted commented out SIGWINCH code

	* match.cc (doMatching): DagNode::okToCollectGarbage() ->
	MemoryCell::okToCollectGarbage()

2002-11-06  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (handleFormat): use ansiEscapeSequences.cc

	* loopMode.cc (printBubble): use ansiEscapeSequences.cc

	* ops.cc (checkFormatString): use ansiEscapeSequences.cc

	* prettyPrint.cc (fancySpace): use ansiEscapeSequences.cc

	* ansiEscapeSequences.cc: added

	* ops.cc (checkFormatString): added 14 extra allow chars

	* prettyPrint.cc (fancySpace): added remaining 14 ANSI escape
	sequences

2002-11-04  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (fixUp): added

	* token.hh (class Token): added decl for fixUp()

	* lexer.flex: allow \ newline in stringContent; added FIX_UP macro;
	use it to fix up identifiers with \ newline in them


2002-10-22  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added extra decl for _^_ in NAT, INT and RAT

2002-10-21  Steven Eker  <eker@goo.csl.sri.com>

	* commands.y: use MemoryCell::setShowGC() (2 places)

	* prelude.maude: corrected declaration for abs in RAT

2002-10-08  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (newFancySymbol): check that iter symbols only have a
	single domain sort

	* ops.cc (setFrozen): handle case where list of arguments is
	empty; check for trying to set frozen attribute on a constant

	* modules.y: use setFrozen() even for case where there is no
	frozen list

	* visibleModule.cc (showAttributes): updated printout of frozen
	attribute

	* command.cc (printOpDef): updated printout of frozen attribute

	* preModule.hh (Parent): struct OpDef data member frozen is now a
	NatSet

	* ops.cc (setFrozen): frozen is now a NatSet; check for duplicate
	args

	* mixfixModule.hh (CommonTokens): updated decl for addOpDeclaration()

	* entry.cc (addOpDeclaration): new frozen handling

	* importModule.cc (donateOps): cleaned up frozen handling

2002-10-03  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (printOpDef): fix missing ( in frozen case

2002-10-02  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (printOpDef): handle frozen attribute with list of
	arg numbers

	* visibleModule.cc (showAttributes): handle frozen attribute with
	list of arg numbers

	* importModule.cc (donateOps): pass frozen arg to addOpDeclaration()

	* process.cc (processOps): pass frozen arg to addOpDeclaration()

	* mixfixModule.hh (CommonTokens): updated decl for
	addOpDeclaration()

	* entry.cc (addOpDeclaration): take and handle frozen arg

	* modules.y: added syntax for partially frozen attribute

	* ops.cc (setFrozen): added

	* preModule.hh (Parent): added data member frozen to struct OpDef
	(Parent): added decl for setFrozen()

2002-09-27  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: use KW_ convention for keywords

	* top.y: use KW_ convention for keywords

	* lexer.flex: use KW_ convention for keywords

	* interact.cc (setHandlers): don't call new_GetLine() or
	gl_trap_signal()

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	deleted decls for getInput(), displayPrompt(), setAutoWrap()

	* interact.cc (commandLoop): don't call resetCursor()
	(setAutoWrap): deleted
	(displayPrompt): deleted
	(getInput): deleted
	(setInteractive): don't call displayPrompt()

	* main.cc (main): use ioManager.setAutoWrap()

2002-09-26  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (getInput): use ioManager.getInput()

	* main.cc (main): use ioManager.setCommandLineEditing(); added
	global variable ioManager

	* interact.cc (setHandlers): use gl_trap_signal()

2002-09-25  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (setHandlers): added hack to init tecla
	(commandLoop): don't call displayPrompt()
	(setInteractive): don't call displayPrompt()
	(commandLoop): call resetCursor()
	(commandLoop): clear continuation flag
	(getInput): use continuation flag
	(getInput): rewritten to respect max_size

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for getInput()

	* interact.cc (getInput): added

	* lexerAux.cc (getInput): use UserLevelRewritingContext::getInput()

2002-09-06  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): many decls added and changed to
	accomodate new Term* -> ostream& pretty printer

	* termPrint.cc: complete rewrite to handle disambiguation for
	nats/ints/rats/vars

	* prettyPrint.cc (fancySpace): don't output attributes if we're
	are in print color mode

	* entry.cc (addOpDeclaration): added WarningCheck() for pseudo
	variable that cannot be distinguished from the real thing

	* dagNodePrint.cc (handleVariable): handle disambiguation (except
	for kinds) and color

	* entry.cc (addOpDeclaration): fill out overloadedVariables

	* mixfixModule.hh (CommonTokens): added data memeber
	overloadedVariables

2002-09-05  Steven Eker  <eker@goo.csl.sri.com>

	* dagNodePrint.cc (handleDivision): handle disambiguation
	(prettyPrint): new handleDivision() calling convention
	(handleIter): handle disambiguation in succ case
	(prettyPrint): hoist common coloringInfo calcs

	* mixfixModule.hh (CommonTokens): updated decl for
	handleDivision()

	* dagNodePrint.cc (prettyPrint): new handleMinus() calling
	convention

	* mixfixModule.hh (CommonTokens): updated decl for handleMinus()

	* dagNodePrint.cc (handleMinus): handle disambiguation

	* sharedPrint.cc: created

	* dagNodePrint.cc: major rewrite

	* mixfixModule.hh (CommonTokens): added PSEUDOS to enum
	InternalFlags
	(CommonTokens): added decls for ambiguous() and prefix()
	(CommonTokens): added decls for handleFloat(), handleString(),
	handleQuotedIdentifier(), handleVariable(), suffix()

	* dagNodePrint.cc (prettyPrint): check for PSEUDO_NAT, PSEUDO_NEG
	and PSEUDO_RAT

	* entry.cc (newFancySymbol): update kindsWithMinus and
	kindsWithDivision

	* mixfixModule.hh (CommonTokens): made newFancySymbol() non static

	* entry.cc (newFancySymbol): update kindsWithSucc

	* prettyPrint.cc (operator<<): check PRINT_COLOR flag

	* mixfixModule.hh (CommonTokens): deleted static data member
	printCtors

	* dagNodePrint.cc (computeColor): check PRINT_COLOR flag

	* interpreter.hh: added PRINT_COLOR to enum Flags

	* commands.y: added set print color on/off

	* top.y: added KW_COLOR

	* lexer.flex: added KW_COLOR

2002-09-04  Steven Eker  <eker@goo.csl.sri.com>

	* token.hh (class Token): added decl for getRational()

	* token.cc (getRational): added

	* entry.cc (addOpDeclaration): support for PSEUDO_NAT,
	PSEUDO_NEG and PSEUDO_RAT

	* mixfixModule.hh (CommonTokens): added decl for hasSameDomain()
	(CommonTokens): added data members overloadedIntegers,
	overloadedRationals, kindsWithSucc, kindsWithMinus,
	kindsWithDivision
	(CommonTokens): added PSEUDO_NAT, PSEUDO_NEG, PSEUDO_RAT to enum
	InternalFlags

	* entry.cc (hasSameDomain): added, in order to deal with assoc
	domain overloading
	(addOpDeclaration): use hasSameDomain()

	* quotedIdentifierSymbol.hh (class QuotedIdentifierSymbol): added
	decl for isConstructor()

	* quotedIdentifierSymbol.cc (isConstructor): added

2002-09-03  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): updated decls for prettyPrint(),
	handleIter(), computeColor(

	* dagNodePrint.cc (computeColor): use struct ColoringInfo
	(handleIter): use struct ColoringInfo

	* prettyPrint.cc (operator<<): use struct ColoringInfo

	* mixfixModule.hh (CommonTokens): updated decls for DagNode*
	versions of handleIter(), handleMinus(), handleDivision()
	(CommonTokens): added decl for computeColor()
	(CommonTokens): added struct ColoringInfo

	* dagNodePrint.cc (prettyPrint): handle coloring in unflatten
	assoc case
	(handleIter): handle color arg
	(handleMinus): handle color arg
	(computeColor): added
	(prettyPrint): use computeColor()
	(prettyPrint): pass color arg to handleIter(), handleMinus() and
	handleDivision()

	* prettyPrint.cc (operator<<): pass ectra arg to prettyPrint()

	* mixfixModule.hh (CommonTokens): updated decl for DagNode*
	version of prettyPrint()

	* dagNodePrint.cc (handleIter): pass reducedDirectlyAbove arg to
	prettyPrint()
	(prettyPrint): use cyan for unreduced node that have a reduced
	node above them but not directly above them

2002-08-29  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): updated decls for printTokens()
	and printTails()

	* prettyPrint.cc (printTokens): handle color arg
	(printTails): handle color arg

	* dagNodePrint.cc (prettyPrint): handle printCtors in mixfix case

2002-08-28  Steven Eker  <eker@goo.csl.sri.com>

	* dagNodePrint.cc (prettyPrint): handle printCtors in prefix case

	* mixfixModule.hh (CommonTokens): updated decls for DagNode*
	versions of handleIter() and prettyPrint()

	* dagNodePrint.cc (handleIter): take and pass visited, statusVec
	and reducedAbove
	(prettyPrint): take and pass visited, statusVec and reducedAbove

	* prettyPrint.cc (operator<<): (DagNode* version) call
	computeGraphStatus()

	* mixfixModule.hh (CommonTokens): added enum DagNodeStatus
	(CommonTokens): added decl for computeGraphStatus()
	(CommonTokens): added static data member printCtors

	* prettyPrint.cc (graphStatus): added

	* lexer.flex: added : space to skipped IssueWarning()

2002-08-27  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateOps): set or clear CTOR flag before
	passing symbolType to MixfixModule::addOpDeclaration()

	* entry.cc (addOpDeclaration): don't store ctor flag in
	symbolInfo[].symbolType since this is a per-symbol struct whereas
	ctor flag can vary between op decls for the same symbol

2002-08-26  Steven Eker  <eker@goo.csl.sri.com>

	* symbolType.hh (class SymbolType): added decl for dittoProblem()

	* entry.cc (addOpDeclaration): use dittoProblem()

	* symbolType.cc (dittoProblem): added
	(compatible): exclude DITTO when checking for compatibility

	* entry.cc (addOpDeclaration): allow ditto to be combined with
	ctor

	* prelude.maude: made QID-LIST ops ctors; use ditto for
	op __ : TypeList TypeList
	in fmod META-MODULE; made true and false ctors
	

	* modules.y: use setFlag(SymbolType::CTOR)

	* visibleModule.cc (showDecls): use isConstructor()
	(showAttributes): handle iter theory

	* bufferPrint.cc (prettyPrint): deleted miValue

	* dagNodePrint.cc (prettyPrint): deleted miValue

	* termPrint.cc (prettyPrint): deleted miValue

	* visibleModule.cc (showDecls): use new getOpDeclarations()
	semantics

	* quotedIdentifierSymbol.cc (compileOpDeclarations): use new
	getOpDeclarations() semantics

	* prettyPrint.cc (chooseDisambiguator): use new
	getOpDeclarations() semantics

	* importModule.cc (donateOps): use new getOpDeclarations()
	semantics

	* mixfixModule.cc (instantiatePolymorph): use new
	addOpDeclarations() semantics
	(copyBubbleSpec): use new getOpDeclarations() semantics
	(mayAssoc): use new getOpDeclarations() semantics
	(findSymbol): use new getOpDeclarations() semantics
	(instantiateVariable): use new addOpDeclarations() semantics;
	variables are always constructors
	(instantiateSortTest): use new addOpDeclarations() semantics; sort
	tests are never constructors

	* entry.cc (addBubbleSpec): use new getOpDeclarations() semantics
	(addOpDeclaration): use new getOpDeclarations() and
	addOpDeclarations() semantics

2002-08-23  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.cc (dontTrace): added Assert to tray
	and catch bug reported by Paco
	(dontTrace): removed Assert(); handle the case where pe == 0,
	fixing bug reported by Paco

===================================Maude75==================================================

2002-08-02  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: added KW_ENDOM to startKeyword2

2002-08-01  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (codeToRope): replaced Assert(false,...) with
	CantHappen()

	* prettyPrint.cc (operator<<): replaced Assert(false,...) with
	CantHappen()

	* mixfixParser.cc (makeTerm): replaced Assert(false,...) with
	CantHappen()
	(makeConditionFragment): replaced Assert(false,...) with
	CantHappen()
	(makeStatementPart): replaced Assert(false,...) with CantHappen()

	* interact.cc (handleDebug):  replaced Assert(false,...) with
	CantHappen()

	* importModule.cc (removeDependent): replaced Assert(false,...)
	with CantHappen()
	(deepCopyCondition): replaced Assert(false,...) with CantHappen()
	(deepSelfDestruct): replaced DebugAdvisoryCheck(false, ...) with
	DebugAdvisory()
	(unprotect): replaced DebugAdvisoryCheck(false, ...) with
	DebugAdvisory()
	(removeDependent): replaced DebugAdvisoryCheck(false, ...) with
	DebugAdvisory()

2002-07-31  Steven Eker  <eker@goo.csl.sri.com>

	* visibleModule.cc (showAttributes): fix bug that we were not
	setting space after comm
	(showAttributes): handle MESSAGE, OBJECT and CONFIG flags

	* command.cc (printOpDef): handle MESSAGE, OBJECT and CONFIG flags

	* lexer.flex: move in to <INITIAL,CMD_MODE>

	* modules.y: removed KW_PWD, KW_CD, KW_PUSHD, KW_POPD, KW_LS, IN,
	KW_LOAD, KW_QUIT, KW_EOF from startKeyword2; removed directive
	from fDeclaration

	* top.y: tokens KW_PWD KW_CD KW_PUSHD KW_POPD KW_LS KW_LOAD
	KW_QUIT KW_EOF no longer declared to have a type

	* lexer.flex: moved in, load, pwd, cd, pushd, popd, ls, quit, q,
	eof, from <INITIAL,ID_MODE> to <INITIAL>

2002-07-30  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex (id): added | , class and subclass to tokens that are
	return in ID_MODE

	* modules.y: added '|' to identifier; added syntax for subclasses;
	added KW_CLASS and KW_SUBCLASS to startKeyword2

	* top.y: added tokens KW_CLASS, KW_SUBCLASS

	* modules.y: added syntax for class definitions

2002-07-29  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added decl for startKeyword2 nonterminal

	* modules.y: added KW_MSG and KW_MSGS to startKeyword; removed
	KW_MSG from attrKeyword2; added startKeyword2 so we can exclude
	msg from identity chunks

2002-07-26  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: reorganized declarations so that rules cannot appear
	in fmods; added syntax for msg/msgs statements

	* top.y: added decls for nonterminals notEndfm and notEndm

	* modules.y: added omod ... endom syntax; handle ended by warings
	in an extensible way

	* top.y: added tokens KW_MSGS and KW_ENDOM; added decl for
	nonterminal notEndom

	* lexer.flex (id): added keywords msgs and endom

2002-07-25  Steven Eker  <eker@goo.csl.sri.com>

	* makeGrammar.cc (makeSymbolProductions): deleted MACHINE_INTEGER
	case

	* mixfixParser.hh (class MixfixParser): deleted MAKE_MACHINE_INT
	from enum SemanticActions

	* symbolType.hh (class SymbolType): deleted MACHINE_INTEGER and
	MACHINE_INTEGER_OP from enum BasicTypes
	(hasAttachments): use FLOAT_OP instead of MACHINE_INTEGER_OP

	* specialSymbolTypes.cc (MACRO): deleted MachineIntegerSymbol and
	MachineIntegerOpSymbol cases

	* mixfixParser.cc (makeTerm): deleted MAKE_MACHINE_INT case

	* mixfixModule.cc (findMachineIntegerSymbol): deleted

	* maudemlBuffer.cc (generate): (both versions) deleted
	MachineIntegerSymbol case

	* entry.cc (addOpDeclaration): deleted PSEUDO_MACHINE_INTEGER and
	overloadedMachineIntegers stuff
	(addOpDeclaration): don't update machineIntegerSymbols
	(newFancySymbol): don't make MachineIntegerSymbols or
	MachineIntegerOpSymbols

	* termPrint.cc (prettyPrint): deleted handling for
	PSEUDO_MACHINE_INTEGERs and MACHINE_INTEGERs

	* graphPrint.cc (graphPrint): deleted MACHINE_INTEGER case

	* dagNodePrint.cc (prettyPrint): deleted handling for
	PSEUDO_MACHINE_INTEGERs and MACHINE_INTEGERs

	* bufferPrint.cc (prettyPrint): deleted handling for
	PSEUDO_MACHINE_INTEGERs and MACHINE_INTEGERs

	* mixfixModule.hh (CommonTokens): deleted decl for
	findMachineIntegerSymbol(); deleted PSEUDO_MACHINE_INTEGER from
	enum InternalFlags; deleted data members overloadedMachineIntegers
	and machineIntegerSymbols
	
===================================Maude74==================================================

2002-06-17  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (printCondition): don't print "."
	(operator<<): (SortConstraint* version) use printAttributes()
	(printAttributes): added
	(operator<<): (Equation* version) use printAttributes()

	* mixfix.hh: added class MetadataStore

	* mixfixModule.hh (CommonTokens): derive from MetadataStore

	* metadataStore.hh (class MetadataStore): created from metadata
	stuff in MixfixModule

	* metadataStore.cc (getMetadata): moved here
	(insertMetadata): moved here

	* mixfixModule.cc (insertMetadata): added
	(getMetadata): added

	* mixfixModule.hh (CommonTokens): added MetadataMap, data member
	metadataMap, enum ItemType and decls for insertMetadata() and
	getMetadata()

	* mixfixParser.cc (makeAttributePart): handle metadata attribute
	(makeStatementPart): insert metadata

2002-06-14  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.hh (class MixfixParser): added
	MAKE_LABEL_ATTRIBUTE, MAKE_METADATA_ATTRIBUTE,
	MAKE_NONEXEC_ATTRIBUTE and MAKE_ATTRIBUTE_LIST to enum
	SemanticActions
	(class MixfixParser): added decl for makeAttributePart(), updated
	decl for makeStatementPart()

	* mixfixParser.cc (makeAttributePart): added
	(makeStatementPart): added metadata and flags arguments
	(makeStatement): call makeAttributePart()

	* commonTokens.cc (CommonTokens): added label, metadata and nonexec

	* commonTokens.hh (class CommonTokens): added label, metadata and
	nonexec

	* preModule.cc (addStatement): check for labels in attribute list;
	use CommonTokens
	(addRule): deleted

	* preModule.hh (PreModule): derive from ComonTokens
	(PreModule): deleted decl for addRule()

	* makeGrammar.cc (makeAttributeProductions): added label and
	nonexec attributes

	* mixfixModule.hh (CommonTokens): added decl for
	makeAttributeProductions()

	* makeGrammar.cc (makeStatementProductions): added production for
	statement with attributes
	(makeAttributeProductions): created
	(makeGrammar): call makeAttributeProductions()

2002-06-13  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (operator<<): (SortConstraint* version) handle
	label
	(operator<<): (Equation* version) handle label

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for handleDebug()

	* userLevelRewritingContext.cc (tracePreEqRewrite): pass equation
	to handleDebug()
	(tracePreScApplication): pass sc to handleDebug()

	* trial.cc (traceBeginEqTrial): pass equation to handleDebug()
	(traceBeginScTrial): pass sc to handleDebug()

	* interact.cc (handleDebug): deal with PreEquation* rather than
	Rule*

	* userLevelRewritingContext.hh (dontTrace): delete 1 arg version
	(class UserLevelRewritingContext): updated decl for dontTrace()

	* userLevelRewritingContext.cc (tracePreEqRewrite): pass equation
	to dontTrace()
	(tracePreScApplication): pass sc to dontTrace()

	* trial.cc (traceBeginRuleTrial): test traceRuleFlag
	(traceBeginEqTrial): pass equation to dontTrace()
	(traceBeginScTrial): pass sc to dontTrace()

	* userLevelRewritingContext.cc (dontTrace): moved here; deal with
	PreEquation* rather than Rule*
	(dontTrace): don't check traceRuleFlag
	(tracePreRuleRewrite): test traceRuleFlag

	* modules.y: use addStatement() rather than addRule()

	* preModule.cc (addStatement): moved here; check for labels

	* mixfixModule.hh (CommonTokens): added decl for
	makeComponentProductions()
	(CommonTokens): RULE_BODY -> RL_BODY; added STATEMENT_PART,
	ATTRIBUTE_PART, MB_BODY, EQ_BODY to enum NonTerminal

	* makeGrammar.cc (makeStatementProductions): rewritten; statements
	now consists of statment parts; now have MB_BODY, EQ_BODY so that
	mbs and eqs can be prefixed by a label; RULE_BODY becomes RL_BODY
	(makeConditionProductions): added to contain all the condition
	code from makeStatementProductions()
	(makeGrammar): call makeConditionProductions();

	* mixfixParser.hh (class MixfixParser): added decl for
	makeStatementPart()
	(class MixfixParser): added MAKE_ATTRIBUTE_PART to enum
	SemanticActions

	* mixfixParser.cc (makeStatementPart): added
	(makeStatement): use makeStatementPart()

2002-06-12  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateStatements): copy label arg for eqs and
	mbs

	* mixfixParser.cc (makeStatement): pass NONE as first arg of
	Equation() and SortConstraint()

	* quotedIdentifierOpSymbol.cc (eqRewrite): oracle "or" changed to
	"mo" for "mos-oracle"

2002-06-10  Steven Eker  <eker@goo.csl.sri.com>

	* makeGrammar.cc (makeSymbolProductions): MACHINE_FLOAT -> FLOAT

	* mixfixParser.hh (class MixfixParser): MACHINE_FLOAT -> FLOAT

	* symbolType.hh (class SymbolType): MACHINE_FLOAT -> FLOAT

	* specialSymbolTypes.cc (MACRO): MachineFloat -> Float

	* termPrint.cc (prettyPrint): MachineFloat -> Float

	* mixfixParser.cc (makeTerm): MachineFloat -> Float

	* mixfixModule.cc: MachineFloat -> Float

	* maudemlBuffer.cc (generate): MachineFloat -> Float

	* graphPrint.cc (graphPrint): MachineFloat -> Float

	* entry.cc: MachineFloat -> Float

	* dagNodePrint.cc (prettyPrint): MachineFloat -> Float

	* bufferPrint.cc (prettyPrint): MachineFloat -> Float

	* mixfixModule.hh: MachineFloat -> Float

2002-06-03  Steven Eker  <eker@goo.csl.sri.com>

	* maudemlBuffer.cc (generate): (term and dagnode versions) handle
	iter theory

	* graphPrint.cc (graphPrint): moved here
	(graphCount): moved here
	(graphPrint): deleted comment out code from pre mpz_class
	implementation
	(graphPrint): handle iter theory

2002-05-24  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): added decl for buffer versions
	of handleMinus() and handleDivision()

	* termPrint.cc (prettyPrint): removed old iter code

	* bufferPrint.cc (handleMinus): added
	(handleDivision): added
	(prettyPrint): use handleMinus() and handleDivision()

	* mixfixModule.hh (CommonTokens): added decl for buffer version of
	handleIter()

	* bufferPrint.cc (handleIter): added
	(prettyPrint): use handleIter()

	* termPrint.cc (handleIter): use makeIterName()

	* dagNodePrint.cc (handleIter): use makeIterName()

	* mixfixModule.hh (CommonTokens): added decl for makeIterName()

	* prettyPrint.cc (makeIterName): added

	* interact.cc (commandLoop): treat an error from yyparse() just
	like a ctrl-C for cleanup purposes. This fixes a bug where if the
	user quits part way through a module with ^D we have a module in a
	bad state that we don't delete

2002-05-23  Steven Eker  <eker@goo.csl.sri.com>

	* termPrint.cc (prettyPrint): (Term* version) use handleMinus()
	and handleDivision()
	(handleDivision): added Term* version

	* mixfixModule.hh (CommonTokens): added decls for Term* versions
	of handleIter(), handleMinus(), handleDivision()

	* termPrint.cc (prettyPrint): (Term* version) moved here
	(prettyPrint): use handleIter()
	(handleIter): added Term* version

	* dagNodePrint.cc (handleDivision): use PRINT_RAT flag

	* interpreter.hh (endif): added PRINT_RAT to enum Flags

	* commands.y: added syntax for set print rat on/off .

	* top.y: added KW_RAT

	* lexer.flex: added KW_RAT

	* makeGrammar.cc (makeSymbolProductions): added DIVISION_SYMBOL
	case
	(makeSpecialProductions): added RATIONAL cases for both seen and
	unseen tokens

	* mixfixModule.hh (CommonTokens): added RATIONAL to enum
	NonTerminal and renumbered

	* mixfixParser.cc: added MAKE_RATIONAL case

	* mixfixParser.hh (class MixfixParser): added MAKE_RATIONAL to
	enum SemanticActions

	* token.hh (class Token): added decl for looksLikeRational()

	* token.cc (looksLikeRational): added
	(checkForSpecialProperty): use looksLikeRational()

	* token.hh (class Token): added RATIONAL to enum SpecialProperties

	* mixfixModule.hh (CommonTokens): added decl for handleDivision()

	* dagNodePrint.cc (handleMinus): rewritten to be simpler as the
	cost if an extra mpz_class copy
	(handleDivision): added
	(prettyPrint): use handleDivision()

2002-05-22  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (bubbleToPrefixNameCode): patched second (old)
	algorithm to avoid spurious backquote between token that ends in _
	and token that starts with nonspecial.
	(extractMixfix): allow prefix name with ITER_SYMBOL special
	property such as |_|^2 to be spit into mixfix syntax

2002-05-21  Steven Eker  <eker@goo.csl.sri.com>

	* symbolType.hh (class SymbolType): added DIVISION_SYMBOL to enum
	BasicTypes

	* specialSymbolTypes.cc (MACRO): added DivisionSymbol

	* commands.y: added syntax for set print number on/off command

	* top.y: added KW_NUMBER

	* lexer.flex: added KW_NUMBER

	* dagNodePrint.cc (handleIter): respect PRINT_NUMBER flag
	(handleMinus): respect PRINT_NUMBER flag

	* interpreter.hh (endif): added 9 print flags to enum Flags

2002-05-20  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (CommonTokens): added decl for handleMinus()

	* dagNodePrint.cc (handleMinus): added
	(prettyPrint): use handleMinus()

	* mixfixModule.hh (CommonTokens): added decl for handleIter()

	* dagNodePrint.cc (prettyPrint): (DagNode* version) moved here
	(handleIter): added
	(prettyPrint): use handleIter()

	* prettyPrint.cc (prettyPrint): (DagNode* version) added
	SUCC_SYMBOL case

	* token.cc (codeToInt64): added hack to catch out of range integer
	errors that are now possible; this will go away with MachineInts

	* mixfixParser.cc (makeTerm): make sure that the C-string ->
	mpz_class conversion is done base 10 even if string start with a 0

	* token.cc (checkForSpecialProperty): support arbitrary precision
	integers

	* mixfixParser.cc (makeTerm): added MAKE_INTEGER case

	* mixfixParser.hh (class MixfixParser): added MAKE_INTEGER to 

	* makeGrammar.cc (makeSymbolProductions): added negative integer
	syntax for MINUS_SYMBOL case

	* mixfixModule.hh (CommonTokens): added ZERO to enum NonTerminal
	and renumbered following constants

	* makeGrammar.cc (makeSymbolProductions): handle Token::ZERO case
	(makeSpecialProductions): handle Token::ZERO case

	* token.cc (checkForSpecialProperty): handle ZERO case

	* entry.cc (addOpDeclaration): handle Token::ZERO case when
	checking for PSEUDO_MACHINE_INTEGERs

	* token.hh (class Token): added ZERO to enum SpecialProperties

	* mixfixParser.hh (class MixfixParser): added MAKE_NATURAL to enum
	SemanticActions

	* mixfixParser.cc (makeTerm): added MAKE_NATURAL case

	* makeGrammar.cc (makeSymbolProductions): added natural number
	syntax for SUCC_SYMBOL case

2002-05-17  Steven Eker  <eker@goo.csl.sri.com>

	* specialSymbolTypes.cc (MACRO): MINUS_SYMBOL added

	* entry.cc (newFancySymbol): added MINUS_SYMBOL case

	* symbolType.hh (class SymbolType): added MINUS_SYMBOL to enum
	BasicTypes

2002-05-15  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (fixUpDonatedOps): for all symbol types where
	hasAttachments() is true we handle fixups in an incremental
	manner; previous we only did this for symbol type
	QUOTED_IDENTIFIER and actually for a QUOTED_IDENTIFIER where we
	were responsibleForFixUp we would do it twice!

	* specialSymbolTypes.cc (MACRO): added CUI_NumberOpSymbol

	* entry.cc (newFancySymbol): support CUI_NUMBER_OP_SYMBOL within
	CUI_SYMBOL case

	* symbolType.hh (class SymbolType): added CUI_NUMBER_OP_SYMBOL to
	enum BasicTypes

2002-05-13  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (newFancySymbol): added ACU_NUMBER_OP_SYMBOL case

	* specialSymbolTypes.cc (MACRO): added ACU_NumberOpSymbol

	* symbolType.hh (class SymbolType): added ACU_NUMBER_OP_SYMBOL to
	enum BasicTypes

2002-05-09  Steven Eker  <eker@goo.csl.sri.com>

	* symbolType.hh (hasAttachments): test against
	END_OF_SYMBOLS_WITH_ATTACHMENTS rather than LOOP_SYMBOL
	(class SymbolType): added END_OF_SYMBOLS_WITH_ATTACHMENTS to enum
	BasicTypes

	* entry.cc (newFancySymbol): added SUCC_SUMBOL and
	NUMBER_OP_SYMBOL cases

	* symbolType.hh (class SymbolType): added SUCC_SUMBOL and
	NUMBER_OP_SYMBOL to enum BasicTypes

	* specialSymbolTypes.cc (MACRO): added SuccSymbol and
	NumberOpSymbol

2002-05-08  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): (DagNode* version) don't use s^n
	notation when n = 1
	(prettyPrint): (Term* version) support s^n notation

2002-05-02  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): (DagNode* version) simplified
	using mpz_class operator<<()

	* mixfixParser.cc (makeTerm): BigNum -> mpz_class
	(translateSpecialToken): BigNum -> mpz_class

	* makeGrammar.cc (makeSpecialProductions): BigNum -> mpz_class

	* token.cc (split): becomes mpz_class version

	* token.hh: decl for BigNum split() becomes decl for mpz_class
	split()

	* prettyPrint.cc (graphPrint): mpz_class replaces class BigNum
	(graphCount): mpz_class replaces class BigNum

	* mixfixModule.hh (CommonTokens): updated decl for graphCount()

2002-05-01  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (insertIterSymbolTerminal): resize() if needed

	* makeGrammar.cc (makeSpecialProductions): handle productions and
	terminal insertion for iter symbols

	* mixfixModule.hh (findIterSymbolIndex): added

	* mixfixParser.hh (class MixfixParser): added decl for
	insertIterSymbolTerminal()

	* mixfixParser.cc (insertIterSymbolTerminal): added

	* mixfixParser.hh (class MixfixParser): added data member iterSymbolTerminals

	* mixfixParser.cc (translateSpecialToken): added ITER_SYMBOL case

	* token.cc (checkForSpecialProperty): check for ITER_SYMBOL
	property

	* makeGrammar.cc (makeSymbolProductions): add foo^n(t) syntax for
	symbols foo with the iter attribute

	* mixfixParser.hh (class MixfixParser): added MAKE_ITER to enum
	SemanticActions

	* mixfixParser.cc (makeTerm): added MAKE_ITER case

	* token.hh (class Token): added decl for BigNum version of split()

	* token.cc (split): added BigNum version

	* mixfixModule.hh (CommonTokens): added decl
	foriterSymbolNonTerminal()

	* mixfixModule.cc (iterSymbolNonTerminal): added

	* makeGrammar.cc (makeGrammar): take iterSymbols into account when
	calculating componentNonTerminalBase

	* entry.cc (addOpDeclaration): update iterSymbols

	* mixfixModule.hh (CommonTokens): added data member iterSymbols

	* mixfixModule.cc (nonTerminal): use componentNonTerminalBase

	* makeGrammar.cc (makeGrammar): set componentNonTerminalBase

	* mixfixModule.hh (CommonTokens): added data member
	componentNonTerminalBase

	* token.hh (class Token): added ITER_SYMBOL to SpecialProperties

2002-04-24  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): (DagNode* version) handle ITER
	flag/S_Symbol

	* entry.cc (newFancySymbol): support ITER flag/S_Symbol

	* modules.y: added syntax for iter attribute

	* top.y: added KW_ITER

	* lexer.flex: added iter token

	* symbolType.hh (class SymbolType): added ITER to enum Flags

2002-04-19  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (insertBubbleProduction): set bubblesAllowed =
	true; this fixes a nasty bug we introduced when we split out class
	MixfixParser

	* mixfixModule.hh (CommonTokens): deleted decl for old
	instantiatePolymorph()

	* mixfixModule.cc (instantiatePolymorph): collapse the two
	versions into a single function
	(findSymbol): use new instantiatePolymorph() interface

	* visibleModule.hh (class VisibleModule): updated decl for
	showSummary()

	* visibleModule.cc (showSummary): use getParserStats()
	(showSummary): can't be const since we may force creation of a
	parser

	* mixfixParser.hh (getNrProductions): added

	* mixfixModule.hh (CommonTokens): added decl for getParserStats()

	* doParse.cc (getParserStats): added

	* makeGrammar.cc (makeComplexProductions): use new CommonTokens
	(makeStatementProductions): use new CommonTokens

	* commonTokens.hh (class CommonTokens): added static data members
	arrowPlus, arrowStar, arrowBang, suchThat, such, that, mb, cmb,
	eq, ceq, rl, crl, cq, ifToken

	* commonTokens.cc (CommonTokens): added tokens arrowPlus,
	arrowStar, arrowBang, suchThat, such, that, mb, cmb, eq, ceq, rl,
	crl, cq, ifToken

	* makeGrammar.cc (makeComponentProductions): arrow2 -> arrow

	* commonTokens.cc (CommonTokens):  arrow2 -> arrow

	* commonTokens.hh (class CommonTokens): arrow2 -> arrow

	* mixfix.hh: added fwd decl for class CommonTokens

	* mixfixModule.cc (MixfixModule): don't init token codes

	* mixfixModule.hh (MixfixModule): derive from CommonTokens; delete
	own static token data members

	* commonTokens.hh: created

	* commonTokens.cc: created

	* mixfixModule.hh (class MixfixModule): deleted decl for
	parseCommand()

2002-04-17  Steven Eker  <eker@goo.csl.sri.com>

	* commands.y: added set omod include command

	* top.y: added token KW_OMOD

	* lexer.flex: added keyword omod

	* mixfixModule.hh (class MixfixModule): deleted decls for
	showOps(), showVars(), showMbs(), showEqs(), showRls(), showAll(),
	showSummary() and printAttributes()

	* prettyPrint.cc (showOps): deleted
	(printAttributes): deleted
	(showVars): deleted
	(showMbs): deleted
	(showEqs): deleted
	(showRls): deleted
	(showAll): deleted
	(showSummary): deleted

	* interpreter.hh (endif): added decls for showModule() and
	showVars()

	* interpreter.cc (showVars): added
	(showModule): added

	* commands.y: use interpreter.showModule(true) for show all
	command; use interpreter.showVars() for show vars
	
	* visibleModule.cc (showVars): added

	* mixfixModule.hh (class MixfixModule): deletd decl for
	showSorts(); made AliasMap public
	(getVariableAliases): added

	* prettyPrint.cc (showSorts): deleted

	* commands.y: use showSortsAndSubsorts()

	* interpreter.hh (endif): added decl for showSortsAndSubsorts()

	* interpreter.cc (showSortsAndSubsorts): added

	* visibleModule.hh (class VisibleModule): added decl for
	showSortsAndSubsorts()

	* visibleModule.cc (showSortsAndSubsorts): added

	* mixfixModule.hh (getModuleType): made const

	* visibleModule.hh (class VisibleModule): added decls for
	showSorts1(), showSubsorts(), showModule()

	* visibleModule.cc (showSubsorts): added
	(showSorts1): added
	(showModule): added

	* importModule.cc (donateSorts): use getNrImportedSubsortSorts()

	* importModule.hh (getNrImportedSorts): added
	(getNrUserSorts): added
	(getNrImportedSubsortSorts): added

	* commands.y: use Interpreter version of showOps()

	* interpreter.hh (endif): added decl for showOps()

	* interpreter.cc (showOps): added

	* visibleModule.cc (showDecls): added
	(printAttributes): becomes showAttributes()

	* importModule.cc (donateOps): use getNrImportedDeclarations()
	(fixUpDonatedOps): use getNrImportedDeclarations()

	* importModule.hh (getNrImportedSymbols): added
	(getNrUserSymbols): added
	(getNrImportedDeclarations): added
	(getNrUserDeclarations): added

	* visibleModule.cc (showOps): added

2002-04-16  Steven Eker  <eker@goo.csl.sri.com>

	* visibleModule.hh (class VisibleModule): added decl for
	printAttributes()

	* visibleModule.cc (printAttributes): added

	* symbolType.hh (class SymbolType): added ATTRIBUTES toenum Flags

	* commands.y: use Interpreter version of showSummary()

	* interpreter.cc (showSummary): added

	* interpreter.hh (endif): added decl for showSummary()

	* mixfixModule.hh (class MixfixModule): deleted decl for
	showComponents()

	* prettyPrint.cc (showComponents): deleted

	* commands.y: use showKinds() in place of showComponents()

	* interpreter.hh (endif): added decl for showKinds()

	* interpreter.cc (showKinds): added

	* visibleModule.cc (showSummary): added

	* visibleModule.hh (class VisibleModule): added decls for
	showSummary() and showKinds()

	* visibleModule.cc (showKinds): added

	* commands.y: use Interpreter versions of showMbs(), showEqs(),
	showRls()

	* interpreter.cc (showMbs): added
	(showEqs): added
	(showRls): added

	* interpreter.hh (endif): added decls for showMbs(), showEqs() and
	showRls()

	* compiler.cc (fullCompile): ImportModule -> VisibleModule

	* loopMode.cc: renamed from loopMode2.cc; ImportModule ->
	VisibleModule in 4 places

	* search.cc: renamed from search2.cc; ImportModule ->
	VisibleModule in 3 places

	* match.cc: renamed from match2.cc; ImportModule -> VisibleModule
	in 3 places

	* execute.cc: renamed from execute2.cc; ImportModule ->
	VisibleModule in many places

	* interpreter.hh: ImportModule -> VisibleModule in many places

	* process.cc (process): ImportModule -> VisibleModule

	* import.cc (importModule): ImportModule -> VisibleModule

	* preModule.cc: ImportModule -> VisibleModule in 3 places

	* preModule.hh: ImportModule -> VisibleModule in many places

	* visibleModule.hh: created

	* visibleModule.cc: created

2002-04-15  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): deleted decl for
	specialNameToBasicType()

	* mixfixModule.cc (specialNameToBasicType): deleted

	* ops.cc (addHook): use SymbolType::specialNameToBasicType()

	* symbolType.hh (class SymbolType): added decl for
	specialNameToBasicType()

	* symbolType.cc (specialNameToBasicType): added

2002-04-12  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser2.cc (getTokenSet): moved here
	(insertVariableTerminal): fix bug where we were inserting into
	specialTerminals rather than variableTerminals

	* mixfixParser.hh (getTokenSet): added

	* makeGrammar.cc (makeSpecialProductions): use getTokenSet()

	* prettyPrint.cc (showSummary): temporarily commented out grammar
	stuff

	* mixfixModule.hh (class MixfixModule): data member parser becomes
	a MixfixParser*
	(class MixfixModule): deleted data members actions, data,
	specialTerminals, currentSentence, currentOffset, tokens
	(class MixfixModule): deleted enum Actions
	(class MixfixModule): delete data member variableTokenCode
	(class MixfixModule): deleted decl for insertProd()

	* mixfixModule.cc (makeGrammar): deleted
	(makeVariableProductions): deleted
	(makeSpecialProductions): deleted
	(makePolymorphProductions): deleted
	(makeBoolProductions): deleted
	(makeComplexProductions): deleted
	(makeStatementProductions): deleted
	(makeComponentProductions): deleted
	(makeSymbolProductions): deleted
	(makeLabelProductions): deleted
	(makeBubbleProductions): deleted

	* mixfix.hh: added fwd decl for class MixfixParser

	* doParse.cc: created

	* mixfixParser2.cc (parseSentence): use nrParses
	(makeTerms): added
	(insertStatement): added
	(parseSentence): treat -ve number of parses as INT_MAX rather than 2
	(makeMatchCommand): added
	(makeSearchCommand): added

	* mixfixParser.hh (class MixfixParser): added data member nrParses

	* mixfixParser2.cc (parseSentence): was parseSentence2()
	(parseSentence): set currentSentence & currentOffset

	* makeGrammar.cc: created

	* mixfixParser.hh (class MixfixParser): added decls for
	insertBubbleProduction(), insertSpecialTerminal(),
	insertVariableTerminal(), translateSpecialToken()

	* mixfixParser2.cc (insertVariableTerminal): added
	(translateSpecialToken): added
	(parseSentence2): added
	(MixfixParser): initialize specialTerminals and
	variableTerminals to maximum needed size
	(insertVariableTerminal): no need to resize variableTerminals
	(insertSpecialTerminal): no need to resize specialTerminals
	(insertProduction): renamed from insertProd()
	(insertBubbleProduction): added

2002-04-11  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser2.cc (insertSpecialTerminal): added

	* mixfixParser.hh (class MixfixParser): added bubblesAllowed data member

	* mixfixParser2.cc (MixfixParser): initialize bubblesAllowed flag

	* mixfixModule.hh (class MixfixModule): updated decl for makeBubble()

	* mixfixModule.cc (makeBubble): make token arg const

	* mixfixParser2.cc (makeTerm): removed new variable hack now that
	new variable symtax is properly supported; use makeBubble()

2002-04-10  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (makeBubble): added

	* mixfixModule.hh (class MixfixModule): added decl for makeBubble

	* mixfixParser2.cc (MixfixParser): initialize client

	* mixfixParser.hh (class MixfixParser): make client a reference
	rather than a const pointer

2002-04-09  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser2.cc: created

	* mixfixParser.hh: created

	* mixfixModule.cc (makeTrueTerm): moved here

	* mixfixModule.hh (class MixfixModule): added decl for
	makeTrueTerm()
	(makeTrueTerm): added

	* mixfixModule.cc (instantiatePolymorph): added new version

	* mixfixModule.hh (class MixfixModule): added decl for
	instantiatePolymorph() version that takes a polymorphIndex and a
	kindIndex

	* compiler.cc: renamed from compiler2.cc

	* import.cc (findModule): deleted

	* preModule.hh (PreModule): deleted decl for findModule()
	
===================================Maude72==================================================

2002-04-08  Steven Eker  <eker@goo.csl.sri.com>

	* main.hh: added decl for findExecutableDirectory(); updated decl
	for findPrelude()

	* main.cc (findExecutableDirectory): added
	(findPrelude): use executableDirectory; also look for prelude in
	current directory
	(findFile): use executableDirectory; also look for users file in
	executable directory

2002-04-05  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (handleFormat): implemented
	(bufferPrint): clear globalIndent

	* execute2.cc (reduce): check getFlag(SHOW_COMMAND)
	(fRewriteCont): check getFlag(SHOW_COMMAND)
	(fRewrite): check getFlag(SHOW_COMMAND)
	(rewriteCont): check getFlag(SHOW_COMMAND)
	(rewrite): check getFlag(SHOW_COMMAND)

	* search2.cc (showSearchGraph): check getFlag(SHOW_COMMAND)
	(showSearchPath): check getFlag(SHOW_COMMAND)
	(search): check getFlag(SHOW_COMMAND)
	(searchCont): check getFlag(SHOW_COMMAND)

	* maudemlBuffer.hh (class MaudemlBuffer): added decls for
	generateShowSearchPath() and generateShowSearchGraph()

	* maudemlBuffer.cc (generateShowSearchGraph): added
	(generateShowSearchGraph): added

	* search2.cc (showSearchPath): call generateSearchPath()
	(showSearchGraph): use generateSearchGraph()

	* maudemlBuffer.cc (generate): renamed to generateSearchGraph()

	* maudemlBuffer.hh (class MaudemlBuffer): added decl for
	generateSearchPath()

	* maudemlBuffer.cc (generateSearchResult): handle NONE case
	(generateSearchPath): added

	* search2.cc (doSearching): use new generateSearchResult();

	* maudemlBuffer.hh (class MaudemlBuffer): added decl for
	generateStats(), updated decl for generateSearchResult()

	* maudemlBuffer.cc (generateSubstitution): removed const_cast
	(generateStats): added
	(generateResult): use generateStats()
	(generateSearchResult): use generateStats()

	* userLevelRewritingContext.cc (printSubstitution): removed
	const_cast

	* mixfixParser.cc (parseTerm2): call makeGrammar() to make sure
	complex parser is set one way or the other (we fixed the same bug
	in parseTerm() on 2001-05-01)

2002-04-04  Steven Eker  <eker@goo.csl.sri.com>

	* search2.cc (doSearching): call generateSearchResult()

	* maudemlBuffer.cc (generateSearchResult): added
	(generateSubstitution): added
	(generateAssignment): added

	* maudemlBuffer.hh (class MaudemlBuffer): added decls for
	generateSearchResult(),	generateSubstitution(), generateAssignment()

	* search2.cc (searchCont): call generateContinue()

	* execute2.cc (fRewriteCont): call generateContinue()

	* maudemlBuffer.hh (class MaudemlBuffer): added decl for
	generateContinue()

	* maudemlBuffer.cc (generateContinue): added

	* execute2.cc (rewriteCont): call enerateContinue()

	* maudemlBuffer.hh (class MaudemlBuffer): added decls for
	generateReduce(), generateRewrite(), generateFrewrite(),
	generateSearch()

	* maudemlBuffer.cc (generateSearch): added
	(generateFrewrite): added
	(generateRewrite): added

	* execute2.cc (fRewrite): call generateFrewrite()
	(rewrite): call generateRewrite()

	* search2.cc (search): call generateSearch()

	* maudemlBuffer.cc (generateReduce): added

	* execute2.cc (reduce): call generateReduce()

	* mixfixModule.hh (class MixfixModule): added decl for buffer
	version of printPrefixName()

	* bufferPrint.cc (printPrefixName): added buffer version
	(prettyPrint): use printPrefixName()

	* mixfixModule.hh (class MixfixModule): updated decls for buffer
	versions of printTokens() and printTails(); added decl for handleFormat()

	* bufferPrint.cc (prettyPrint): pass const SymbolInfo& to
	printTokens() and printTails()
	(printTokens): handle format attribute
	(printTails): handle format attribute
	(handleFormat): added

	* preModule.hh (Parent): made checkFormatString() public for
	metalevel use

	* loopMode2.cc (printBubble): support \s for space plus ANSI stuff

	* profileModule.hh (class ProfileModule): added decl for
	showSymbol()

	* profileModule.cc (showSymbol): added
	(showProfile): print builtin/memo rewrites

2002-04-03  Steven Eker  <eker@goo.csl.sri.com>

	* interpreter.cc (showProfile): moved here

	* interact.cc (clearDebug): moved here

	* userLevelRewritingContext.hh (clearDebug): use
	getFlag(Interpreter::EXCEPTION_FLAGS)

	* interact.cc (commandLoop): use
	getFlag(Interpreter::EXCEPTION_FLAGS)
	(handleDebug): use getFlag(Interpreter::TRACE) (2 places)
	(handleDebug): use getFlag(Interpreter::EXCEPTION_FLAGS)
	(handleDebug): use interpreter.getFlag(Interpreter::BREAK)

	* userLevelRewritingContext.hh (setTraceFlag): deleted
	(setBreakFlag): deleted
	(class UserLevelRewritingContext): deleted static data members
	traceFlag and breakFlag

	* commands.y: use setFlag(Interpreter::TRACE, ) in place of
	setTraceFlag(); use setFlag(Interpreter::BREAK, ) in place of
	setBreakFlag(); 

	* interpreter.cc (setFlag): moved here, support EXCEPTION_FLAGS

	* interpreter.hh (Interpreter): added EXCEPTION_FLAGS to enum
	Flags

	* execute2.cc (makeDag): simplified normalize() call

	* importModule.hh (getNrOriginalMembershipAxioms): added
	(getNrOriginalEquations): added

	* mixfixParser.cc (parseSentence2): fixed bug where we were testing
	for r < 1 rather than r < 0 and treating the no-parse case and
	ambiguous

	* importModule.hh (getNrOriginalRules): added

2002-04-02  Steven Eker  <eker@goo.csl.sri.com>

	* mixfix.hh: added few decl for class Compiler

	* interpreter.hh (endif): added AUTO_CLEAR_PROFILE to DEFAULT_FLAGS

	* profileModule.cc (clearProfileInfo): beocmes clearProfile()

	* profileModule.hh (class ProfileModule): clearProfileInfo() ->
	clearProfile()

	* execute2.cc (startUsingModule): call clearProfile() if
	AUTO_CLEAR_PROFILE flag is set

	* trial.cc (traceBeginEqTrial): call profileEqConditionStart()
	(traceBeginRuleTrial): call profileRlConditionStart()
	(traceBeginScTrial): call profileMbConditionStart()
	(traceEndFragment): call profileFragment()

	* userLevelRewritingContext.cc (tracePreEqRewrite): call
	profileEqRewrite()
	(tracePreRuleRewrite): call tracePreRuleRewrite()
	(tracePreScApplication): call profileMbRewrite()

	* interpreter.hh (showProfile): added

	* commands.y: added commands set profile on/off .
	set clear profile on/off . show profile .

	* top.y: added token KW_PROFILE

	* lexer.flex: TRACE -> KW_TRACE
	added keyword KW_PROFILE

	* commands.y: TRACE -> KW_TRACE

	* top.y: TRACE -> KW_TRACE

	* mixfixModule.cc (MixfixModule): call ProfileModule ctor

	* mixfixModule.hh (class MixfixModule): derive from ProfileModule

	* profileModule.hh (class ProfileModule): added decls for
	showProfile() and showFragmentProfile()

	* profileModule.cc (showFragmentProfile): added
	(showProfile): added

	* profileModule.hh (class ProfileModule): added decls for
	profileFragment() and updateFragmentInfo()

	* profileModule.cc (profileFragment): added
	(updateFragmentInfo): added

2002-04-01  Steven Eker  <eker@goo.csl.sri.com>

	* profileModule.hh: created

	* profileModule.cc: created

	* trial.cc (traceEndFragment): use *preEquation rather than
	variableInfo

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated traceEndFragment() decl

	* interact.cc (segmentationFaultHandler): call _exit() rather than
	exit() because machine state could be very screwed up

2002-03-29  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence2): patch possible wrap around
	error in MSCP10 for highly ambiguous sentences; added
	DebugAdvisoryCheck() to look for this

	* trial.cc (traceBeginFragment): rewritten using preEquation and
	fragmentIndex rather than fragment
	(traceEndFragment): rewritten using preEquation and fragmentIndex
	rather than fragment

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated traceBeginFragment() and traceEndFragment() decls to take
	const PreEquation* and an index rather than ConditionFragment*

2002-03-28  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): deleted static data member defaultImports

	* commands.y: use ModuleDatabase::setInclude()

	* moduleDatabase.hh: NameSet -> IntSet for simplicity

	* preModule.cc (finishModule): use getIncludes()

	* moduleDatabase.hh (getIncludes): added
	(getOmodIncludes): added
	(class ModuleDatabase): added decls for setInclude() and
	getOmodIncludes()

	* moduleDatabase.cc (setInclude): moved here from import.hh
	(setOmodInclude): added

	* interpreter.hh (Interpreter): removed creduce() friendship hack

	* preModule.hh (PreModule): deleted decl for parse()

	* interpreter.hh (Interpreter): added decl for parse()

	* commands.y: use Interpreter::parse()

	* interpreter.cc (parse): moved here from command.cc

2002-03-27  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (PreModule): don't clear isCompiled

	* preModule.hh (PreModule): delete all the decls for the
	compilation functions; deleted the various flag static data
	members; deleted data member isCompiled

	* compiler2.cc (invalidate): added

	* preModule.cc (regretToInform): call invalidate()

	* commands.y: use Interpreter::creduce()

	* interact.cc (commandLoop): removed hack to unlink executable

	* compiler2.cc (~Compiler): unlink executable

	* interpreter.hh (Interpreter): derive from Compiler
	(Interpreter): added decl for creduce()

	* execute2.cc (creduce): moved here

	* commands.y: is Interpreter versions of addSelected(),
	traceSelect(), breakSelect(), traceExclude(), printConceal()

	* interpreter.hh (class Interpreter): added data member selected;
	added decls for addSelected(), traceSelect(), breakSelect(),
	traceExclude(), printConceal()
	

	* interpreter.cc (addSelected): moved here from command.cc
	(traceSelect): moved here from command.cc
	(breakSelect): moved here from command.cc
	(traceExclude): moved here from command.cc
	(printConceal): moved here from command.cc

	* commands.y: don't call setShowStats(), setShowLoopStats(),
	setShowTiming(), setShowBreakdown(), setShowLoopTiming(),
	setShowCmd(), setAutoClearMemo(), setCompileCount()

	* preModule.hh (setShowStats): deleted
	(setShowLoopStats): deleted
	(setShowCmd): deleted
	(setShowTiming): deleted
	(setShowLoopTiming): deleted
	(setCompileCount): deleted
	(setAutoClearMemo): deleted

	* command.cc (selectModule): deleted

	* interpreter.cc (setCurrentModule): (Vector<Token>& version) now
	implement the guts of selectModule() rather than calling it
	(setCurrentModule): (PreModule* version) check if the new current
	module is really the same as the old current module

	* import.cc ((importModule): use getModule()
	(findModule): use getModule()

	* preModule.cc (finishModule): use insertModule()

	* preModule.hh (PreModule): deleted all continuation data members;
	deleted savedLoopSubject; deleted the decls for functions that were
	moved to Interpreter

	* interpreter.hh (class Interpreter): derive from class ModuleDatabase

	* compiler.cc (creduce): added hacks

	* command.cc (loseFocus): don't call clearContinueInfo()

	* moduleDatabase.hh: created

	* moduleDatabase.cc: created

	* interpreter.cc (setCurrentModule): call clearContinueInfo();

	* interpreter.hh (setFlag): fixed bug where we were ignoring polarity

	* match2.cc (match): this -> currentModule

	* search2.cc (search): this -> currentModule

	* execute2.cc (reduce): fix bug: need to print currentModule and
	not this
	(rewrite): this -> currentModule
	(fRewrite): this -> currentModule

	* interpreter.hh (class Interpreter): added DEFAULT_FLAGS to enum Flags

	* interpreter.cc (Interpreter): use DEFAULT_FLAGS

2002-03-26  Steven Eker  <eker@goo.csl.sri.com>

	* commands.y: rewritten using CM and interpreter

	* bottom.y (cleanUpParser): call makeClean()

	* modules.y: rewritten using CM and interpreter

	* top.y: added #defined CM; commented out definition of
	currentModule

	* interpreter.hh (class Interpreter): added many decls

	* interpreter.cc (setCurrentModule): added PreModule* version
	(makeClean): added

	* match2.cc: created from PreModule's match.cc

	* search2.cc: created from PreModule's search.cc

	* loopMode2.cc: created from PreModule's loopMode.cc

	* interpreter.cc (setCurrentModule): added

	* interpreter.hh (getCurrentModule): added
	(class Interpreter): added decl for setCurrentModule()

	* execute2.cc: created from PreModule's execute.cc

	* interpreter.cc (Interpreter): initialize the new data members

	* interpreter.hh (setFlag): added
	(getFlag): added
	(class Interpreter): added enum Flags, together with a bunch of
	data members that were static data in PreModule

	* maudemlBuffer.cc (MaudemlBuffer): pass flushLevel = 1

	* xmlBuffer.hh (class XmlBuffer): updated ctor decl; added data
	member flushLevel

	* xmlBuffer.cc (endElement): support flushLevel
	(XmlBuffer): set flushLevel

===================================Maude71a==================================================

2002-03-22  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (endRewriting): use generateResult()

	* maudemlBuffer.cc (generate): (DagNode*) fixed bug with  visit
	PointerSet use
	(generateResult): added

	* mixfix.hh: MaudeML_Buffer -> MaudemlBuffer, XML_Buffer -> XmlBuffer

	* search.cc (showSearchGraph): MaudeML_Buffer -> MaudemlBuffer

	* execute.cc (endRewriting): MaudeML_Buffer -> MaudemlBuffer

	* interpreter.cc (beginXmlLog): MaudeML_Buffer -> MaudemlBuffer

	* interpreter.hh (class Interpreter): MaudeML_Buffer -> MaudemlBuffer

	* maudemlBuffer.cc: was MaudeML_Buffer.cc

	* maudemlBuffer.hh: was MaudeML_Buffer.hh

	* xmlBuffer.cc: was XML_Buffer.cc

	* xmlBuffer.hh: was XML_Buffer.hh

	* MaudeML_Buffer.hh (class MaudeML_Buffer): added decls for below
	functions

	* MaudeML_Buffer.cc (generate): (DagNode* version) fixed opName
	bug in string case
	(generate): added Term* version
	(generate): added Rule* version
	(generate): added ConditionFragment* version
	(generateCondition): added

	* MaudeML_Buffer.hh (class MaudeML_Buffer): added decl for
	RewriteSequenceSearch* version of generate()

	* MaudeML_Buffer.cc (generate): added RewriteSequenceSearch*
	version

	* execute.cc (endRewriting): use getXmlBuffer()

	* main.hh: deleted decl for xmlBuffer global variable

	* main.cc: added def for global variable interpreter; deleted
	xmlBuffer global variable
	(main): support -xml-log= flag

	* main.hh: added global decl for interpreter

	* mixfix.hh: removed metalevel decls (should have gone long ago);
	added decls for classes SymbolType, XML_Buffer, MaudeML_Buffer and
	Interpreter

	* interpreter.cc: created

	* interpreter.hh: created

2002-03-20  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (endRewriting): use xmlBuffer->generate()

	* main.hh: added decl for xmlBuffer global variable

	* main.cc: added xmlBuffer global variable

	* MaudeML_Buffer.cc: created

	* MaudeML_Buffer.hh (class MaudeML_Buffer): created

	* XML_Buffer.cc: const char* -> const string& throughout

	* XML_Buffer.hh: created
	const char* -> const string&

	* XML_Buffer.cc: created

2002-03-11  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc: deleted explicit template instantiations

	* mixfixModule.cc: deleted explicit template instantiations

	* main.cc: deleted explicit template instantiations
	
===================================Maude71==================================================

2002-03-08  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.cc: complete rewrite using new representation
	(breakLine): fix bug where we were always erasing buffer after
	printing it out

	* autoWrapBuffer.hh: rewritten using a string as the
	pendingBuffer; since we now handle escape sequences there is no
	bound on the growth of the pending buffer; keep pending width to
	hold the number of buffered chars excluding tabs and escape
	sequences

	* autoWrapBuffer.cc (~AutoWrapBuffer): deleted

	* autoWrapBuffer.hh (streambuf): added decl for handleChar()

	* autoWrapBuffer.cc (handleChar): added
	(overflow): don't call breakLine() if we are processing an escape
	sequence; since the escape sequence will not increase
	cursorPosition, any decision on inserting a newline can be
	deferred. Although a \n following an escape sequence is unlikely
	it is possible with the format attribute
	(overflow): use handleChar() (3 places)
	(resetCursor): clear inEscape flag
	(AutoWrapBuffer): call resetCursor()

	* prettyPrint.cc (printPrefixName): addded
	(prettyPrint): (both versions) use printPrefixName(), in prefix
	case execute 2nd format exstrcut after prefix name rather than
	after closing paren

2002-02-28  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (newFancySymbol): ModelSymbol ->
	ModelCheckerSymbol; MODEL_SYMBOL -> MODEL_CHECKER_SYMBOL

	* specialSymbolTypes.cc (MACRO): ModelSymbol ->
	ModelCheckerSymbol; MODEL_SYMBOL -> MODEL_CHECKER_SYMBOL

	* symbolType.hh (class SymbolType): MODEL_SYMBOL ->
	MODEL_CHECKER_SYMBOL

2002-02-22  Steven Eker  <eker@goo.csl.sri.com>

	* specialSymbolTypes.cc: added SatSolverSymbol

	* entry.cc (newFancySymbol): added SatSolverSymbol

	* symbolType.hh (class SymbolType): added SAT_SOLVER_SYMBOL

2002-02-20  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): call isatty() on standard output when deciding
	whether to enable ANSI escape codes in default case

2002-02-14  Steven Eker  <eker@goo.csl.sri.com>

	* symbolType.hh (hasAllFlags): fixed nasty precedence bug

	* main.cc (main): replaced -no-escape flag with -ansi-color and
	-no-ansi-color

2002-02-13  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): handle -no-escape flag
	(main): don't print banner until we've handled flags

	* autoWrapBuffer.cc (AutoWrapBuffer): initialize inEscape
	(overflow): handle escape sequences

	* autoWrapBuffer.hh (streambuf): added data member inEscape

	* entry.cc (addPolymorph): allow format attribute for non-mixfix
	polymorphs
	(addOpDeclaration): allow format attribute for non-mixfix
	operators

	* prettyPrint.cc (prettyPrint): (Term and DagNode versions)
	support format attribute in not mixfix syntax case

	* mixfixModule.hh (class MixfixModule): added static data member
	attributeUsed

	* prettyPrint.cc (operator<<): (Term and DagNode versions) handle
	attributeUsed flag
	(fancySpace): set attributeUsed flag when attribute used

	* banner.cc (printBanner): colorized "Maude"

	* prettyPrint.cc (fancySpace): support colors, underlining, bold

	* ops.cc (checkFormatString): added characters for colors,
	underlining, bold and original

2002-02-12  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: metaMatch now takes a condition; added format
	attributes
	

2002-02-11  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added op nil : -> EqCondition

	* match.cc (doMatching): call clearCount()

2002-02-07  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (operator<<): (ConditionFragment version)
	rewritten to handle EqualityConditionFragment,
	SortTestConditionFragment, AssignmentConditionFragment and
	RewriteConditionFragment

	* mixfixModule.cc: added #includes for new classes

	* mixfixParser.cc (makeConditionFragment): rewritten to classes
	EqualityConditionFragment, SortTestConditionFragment,
	AssignmentConditionFragment and RewriteConditionFragment

	* importModule.cc (deepCopyCondition): rewritten to handle
	EqualityConditionFragment, SortTestConditionFragment,
	AssignmentConditionFragment and RewriteConditionFragment

2002-02-05  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted static data member eagerStrategy

	* quotedIdentifierOpSymbol.cc (QuotedIdentifierOpSymbol): deleted
	strategy argument passed to FreeSymbol()

	* modules.y: fixed bug where we weren't able to parse "format" as
	an ordinary identifier since it was not in attrKeyword2

2002-02-04  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (printTokens): fix off by 1 error in final
	fancySpace() call

	* mixfixModule.hh (class MixfixModule): updated decl for
	printTails()

	* prettyPrint.cc (printTails):  handle formatted printing
	(prettyPrint): (both versions) new printTails() calling
	convention

	* mixfixModule.hh (class MixfixModule): updated decl for
	printTokens()

	* prettyPrint.cc (printTokens): handle formatted printing
	(prettyPrint): (both versions) new printTokens() calling
	convention

	* entry.cc (addPolymorph): check for bad format length; clear
	gather/prec/format flags if number of underscore is wrong (this
	may fix an unobserved bug)
	(addOpDeclaration): check for bad format length; clear
	gather/prec/format flags if number of underscore is wrong (this
	may fix an unobserved bug)

	* process.cc (processOps): pass format arg to addOpDeclaration()
	and addPolymorph()

	* mixfixModule.cc (copyPolymorph): copy format info

	* importModule.cc (donateOps): pass format to addOpDeclaration()

	* mixfixModule.hh (getFormat): added
	(class MixfixModule): added decl for getFormat(); udated decls for
	addOpDeclaration() and addPolymorph()

	* entry.cc (addOpDeclaration): support format arg
	(addPolymorph): support format arg

2002-02-01  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (setPrintFormat): added
	(class MixfixModule): added format field to struct SymbolInfo

	* commands.y: added syntax for set print format on/off command

	* mixfixModule.hh (class MixfixModule): added static data member
	printFormat

	* preModule.hh: added decl for check FormatString()

	* ops.cc (checkFormatString): added

	* preModule.hh: added decl for setFormat(); added format field to
	struct OpDef

	* ops.cc (setFormat): added

	* modules.y: added syntax for format attribute

	* top.y: added token KW_FORMAT

	* lexer.flex: added format token

	* prettyPrint.cc (operator<<): (DagNode* and Term* versions) clear
	globalIndent

	* mixfixModule.hh (class MixfixModule): added static data member
	globalIndent;
	(class MixfixModule): added decl for fancySpace()

	* prettyPrint.cc (fancySpace): added

	* prelude.maude: simplify using ditto attribute

	* entry.cc (addOpDeclaration): deleted code that checked for
	redecl of a variable; added Assert() that this function doesn't
	handle variables anymore
	(addOpDeclaration): added check for illegal use of ditto with
	other attributes
	(addOpDeclaration): allow symbolTypes to differ if new symbolType
	just DITTO flag; check for use of ditto without previous
	declaration to refer to

	* command.cc (printOpDef): handle ditto attribute

	* symbolType.hh (class SymbolType): added DITTO to enum Flags

	* modules.y: added syntax for ditto attribute

	* top.y: added token KW_DITTO

	* lexer.flex: added ditto token

	* prettyPrint.cc (graphPrint): fixed bug where we weren't
	handling variables, floats and strings as special cases
	(graphPrint): fixed simalr bug for Qids

	* mixfixModule.cc (makeSpecialProductions): fix fall thru bug
	where CONTAINS_COLON fell into ENDS_IN_COLON, creating a spurious
	production

2002-01-31  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: rewritten using class SymbolType

	* ops.cc (addVarDecl): use setBasicType()

	* command.cc (printOpDef): rewritten using class SymbolType
	(showModule): rewritten using class SymbolType

	* mixfixModule.cc (specialNameToFlag): becomes
	specialNameToBasicType()

	* ops.cc (setFlag): rewritten using class SymbolType
	(setPrec): rewritten using class SymbolType
	(setGather): rewritten using class SymbolType
	(setStrat): rewritten using class SymbolType
	(addHook): rewritten using class SymbolType

	* fixUp.cc (fixUpSymbols): rewritten using class SymbolType

	* process.cc (checkOpTypes): rewritten using class SymbolType
	(computeOpTypes): rewritten using class SymbolType
	(processOps): rewritten using class SymbolType

	* preModule.hh (Parent): flags field in struct OpDef becomes symbolType

	* preModule.cc (OpDef): don't clear flags

	* importModule.cc (donateOps): rewritten using class SymbolType
	(fixUpDonatedOps): rewritten using class SymbolType

	* bufferPrint.cc (prettyPrint): rewritten using class SymbolType

	* prettyPrint.cc: rewritten using class SymbolType

2002-01-30  Steven Eker  <eker@goo.csl.sri.com>

	* specialSymbolTypes.cc (MACRO): use class SymbolType

	* symbolType.cc: created

	* symbolType.hh: created

	* entry.cc: rewritten using class SymbolType

	* mixfixModule.cc (findSymbol): don't take flags arguments
	(findSymbol): use getBasicType()
	(instantiateSortTest): use setBasicType()
	(instantiateVariable): use setBasicType()
	(instantiatePolymorph): use getBasicType()
	(copyPolymorph): use getBasicType()
	(computePrecAndGather): use hasFlag()
	(makeSymbolProductions): use hasFlag() and getBasicType()

	* mixfixModule.hh (class MixfixModule): deleted enum SymbolFlags;
	int flags replaced by SymbolType symbolType throughout

	* token.hh: ifdef LIBv3 for libstdc++-v3

	* autoWrapBuffer.cc (sync): ifdef LIBv3 for libstdc++-v3
	
===================================Maude70==================================================

2002-01-24  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: declared KW_VERBOSE

	* lexer.flex: added KW_VERBOSE

	* commands.y: added syntax/semantics for set verbose on/off .

2002-01-23  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (doSearching): print a "No more solutions" message
	with timing info after last solution found

2002-01-21  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (cont): limit == 0 is a no-op

	* lexer.flex: don't allow 0 in NUMBER_TOK

	* search.cc (printSearchTiming): use printStats()
	(doSearching): clear rewrite count stored in
	RewriteSequenceSearch context

	* preModule.hh: updated decl for printSearchTiming()

	* search.cc (printSearchTiming): print number of rewrites
	(doSearching): pass RewriteSequenceSearch* to printSearchTiming()
	(2 places)

2002-01-18  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: allo 0 to be recognized as a NUMBER_TOK in <CMD_MODE>
	allow 0 to be recognized as a NUMBER in <INITIAL>

	* search.cc (doSearching): use getSubstitition() rather than getContext()
	(showSearchPath): don't call getStateRule() on state 0

2001-12-21  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.hh (beAdoptedBy): added
	(class UserLevelRewritingContext): parent is no longer a const

2001-12-10  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.cc (sync): sync() -> pubsync()
	(breakLine): xsputc() -> sputc() (2 places)
	(overflow): xsputc() -> sputc() (3 places)

	* interact.cc (segmentationFaultHandler): (...) -> int
	(interruptHandler): (...) -> (int)

	* entry.cc (newFancySymbol): replaced nested ?: with nested
	if-then-else to avoid problem with distinct pointers

	* token.hh: #include <rope> -> #include <ext/rope>
	
===================================Maude69==================================================

2001-10-23  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added trueTerm and falseTerm hooks to op _|=_

2001-08-08  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (showSearchGraph): added

	* lexerAux.cc (getInput): fake a \n for files that don't end in \n
	in order that commands on the last line work properly, and so that
	we keep line numbers straight

	* trial.cc (traceBeginRuleTrial): use new handleDebug() convention

	* userLevelRewritingContext.cc (tracePreRuleRewrite): use new
	handleDebug() convention

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for handleDebug()

	* interact.cc (handleDebug): handle breaking on rule labels

	* userLevelRewritingContext.hh (dontTrace): delete old version

	* userLevelRewritingContext.cc (tracePreEqRewrite): use new
	dontTrace()
	(tracePreRuleRewrite): use new dontTrace(); don't check
	traceRuleFlag
	(tracePreScApplication): use new dontTrace()

	* trial.cc (traceBeginEqTrial): use new dontTrace()
	(traceBeginScTrial): use new dontTrace()
	(traceBeginRuleTrial): use new dontTrace(); don't check
	traceRuleFlag

	* userLevelRewritingContext.hh (dontTrace): added two new versions
	of dontTrace()

2001-06-05  Steven Eker  <eker@goo.csl.sri.com>

	* specialSymbolTypes.cc: added macro for ModelSymbol

	* entry.cc (newFancySymbol): handle ModelSymbol

	* mixfixModule.hh (class MixfixModule): added MODEL_SYMBOL to enum
	SymbolFlags

2001-05-14  Steven Eker  <eker@goo.csl.sri.com>

	* loopMode.cc (doLoop): don't call unprotect(); copy module into
	savedModule instead
	(loop): call startUsingModule()
	(doLoop): don't call clearContinueInfo(), clearTrialCount(),
	clearMemo() or protect()
	(contLoop): call startUsingModule() when we try to reinitialize

2001-05-11  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (doSearching): use
	UserLevelRewritingContext::aborted()

	* loopMode.cc (doLoop): use UserLevelRewritingContext::aborted()

	* match.cc (doMatching): use UserLevelRewritingContext::aborted()
	(match): use UserLevelRewritingContext::aborted()

	* execute.cc (endRewriting): use
	UserLevelRewritingContext::aborted()

	* userLevelRewritingContext.hh (aborted): added so that we can
	check the abortFlag in otehr classes of mixfix frontend without
	having a UserLevelRewritingContext object on which to make a
	virtual function call to traceAbort()

	* preModule.hh (Parent): updated decl for printStats()

	* execute.cc (printStats): take timingFlag
	(endRewriting): pass timing flag to printStats()

	* loopMode.cc (doLoop): pass timing flag to printStats()

	* search.cc (printSearchTiming): test showTiming and isRunning()

	* match.cc (printMatchTiming): test showTiming and isRunning()

	* execute.cc (printStats): test showTiming flag

	* timer.cc (Timer): don't test timingOn
	(start): don't test timingOn
	(stop): don't test timingOn
	(getTimes): don't test timingOn

	* timer.hh (class Timer): deleted timingOn static data member
	(setTiming): deleted
	(isRunning): added

2001-05-10  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (doSearching): always save state and module so that we
	can run showSearchPath() on it

	* preModule.hh (Parent): added decl for showSearchPath()

	* search.cc (showSearchPath): added

	* commands.y: added syntax for show path command

	* top.y: added token KW_PATH

	* lexer.flex: added keyword path

	* search.cc (doSearching): print state info with soluntions

2001-05-09  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh: added decls for doSearching() and searchCont()

	* search.cc (doSearching): added
	(search): rewritten using startUsingModule() and doSearching()
	(searchCont): added

	* preModule.hh: added decl for data member
	savedRewriteSequenceSearch

	* execute.cc (clearContinueInfo): delete savedRewriteSequenceSearch

	* match.cc (doMatching): call clearContinueInfo(), clearDebug()
	and okToCollectGarbage() after we're done matching
	(match): rewritten using doMatching() and startUsingModule()
	(doMatching): take Timer& arg and call printMatchTiming()
	(doMatching): code cleaning

	* commands.y: make static call to cont(); don't use selectModule()

	* preModule.hh: make cont() static

	* execute.cc (cont): use continueFunc for simple function call

	* preModule.hh : updated decl for beginRewriting(); added
	decl for startUsingModule(); added decl for static data member
	savedModule; added static data members savedMatchSearchState and
	savedSolutionCount
	(Parent): made rewriteCont(), fRewriteCont(), matchCont() static;
	make ContinueFuncPtr type a simple pointer to functionn type

	* execute.cc (clearContinueInfo): unprotect savedModule
	(startUsingModule): added
	(beginRewriting): don't call clearTrialCount(), clearMemo(),
	protect() or clearContinueInfo() here
	(endRewriting): rewritten
	(reduce): call startUsingModule();
	(rewriteCont): rewritten
	(rewrite): rewritten
	(fRewrite): rewritten
	(fRewriteCont): rewritten

2001-05-08  Steven Eker  <eker@goo.csl.sri.com>

	* loopMode.cc (doLoop): store &PreModule::ruleCont in continueFunc

	* preModule.hh: updated def for ContinueFuncPtr; added decls for
	rewriteCont() and fRewriteCont()

	* execute.cc (rewriteCont): added
	(fRewriteCont): added
	(fRewrite): pass &fRewriteCont to endRewriting()
	(rewrite): pass &rewriteCont to endRewriting()
	(cont): rewritten

2001-05-07  Steven Eker  <eker@goo.csl.sri.com>

	* match.cc (match): pass duty of garbage collecting pattern to
	MatchSearchState

	* preModule.hh: added decl for Term* version of makeDag()

	* mixfixModule.hh (class MixfixModule): added decl for
	Vector<ConditionFragment*>& version of printCondition()

	* prettyPrint.cc (printCondition): added const
	Vector<ConditionFragment*>& version
	(printCondition): use Vector<ConditionFragment*>& version

	* match.cc (match): print out condition when printing out command

	* search.cc (search): print command if showCmd flag set

	* match.cc (match): handle NONE rather than UNBOUNDED in no limit
	case

	* commands.y: pass NONE to match in no limit case

	* search.cc (search): use makeDag()

	* match.cc (match): use makeDag()

	* execute.cc (makeDag): added Term* version
	(makeDag): use Term* version

2001-05-04  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): delete static data member init

	* loopMode.cc (doLoop): use class timer

	* preModule.hh (Parent): updated decls for printStats() and
	endRewriting()

	* execute.cc (beginRewriting): don't call setitimer()
	(reduce): use class timer
	(rewrite): use class timer
	(fRewrite): use class timer
	(cont): use class timer
	(endRewriting): take Timer& arg
	(printStats): rewritten

	* preModule.hh (Parent): updated decls for printMatchTiming() and
	printSearchTiming()

	* search.cc (search): don't call setitimer(); use class Timer
	(printSearchTiming): use class Timer

	* match.cc (match): don't call setitimer(); use class Timer
	(printMatchTiming): use class Timer

	* interact.cc (setHandlers): don't ignore SIGALRM, SIGVTALRM,
	SIGPROF since these are handled by class Timer now

	* timer.cc: created

	* timer.hh: created

2001-05-03  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseMatchCommand): handle such that condition
	(parseSearchCommand): handle such that condition

	* mixfixModule.hh (class MixfixModule): added SUCH_THAT to enum
	NonTerminal

	* mixfixModule.cc (makeComplexProductions): allow "s.t." and
	"such that" syntax for attching conditions to match and search
	commands

	* top.y: deleted decls for cTokenBarMatchLeq,
	cTokenBarMatchLeqColon, cTokenBarMatchLeqNumber,
	cTokenBarMatchLeqRight; delete static variable pattern

	* commands.y: deleted MATCH_LEQ and UNIFY_EQ from command mode
	token types; deleted nonterminals mNumberModuleTerm,
	mNumberModuleTerm1, mNumberModuleTerm2, mModuleAndTerm, mInEnd,
	cTokensBarMatchLeq, cTokensBarMatchLeqColon, cTokenBarMatchLeq,
	cTokenBarMatchLeqColon, cTokenBarMatchLeqNumber,
	cTokenBarMatchLeqRight

	* top.y: deleted tokens MATCH_LEQ and UNIFY_EQ

	* lexer.flex: deleted tokens "<=?" and "=?" from <CMD_MODE>

	* mixfixParser.cc (parseMatchCommand): added

	* mixfixModule.hh (class MixfixModule): added decl for
	parseMatchCommand()

	* commands.y: changed syntax of match/xmatch commands to parse
	pattern and subject in a single bubble

	* preModule.hh (Parent): updated decl for match()

	* match.cc (printMatchTiming): moved here
	(match): moved here; now take single bubble argument and use
	parseMatchCommand()

2001-05-02  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh: deleted decls for tryMatch() and dagNodeLt()

	* search.cc (tryMatch): deleted
	(search): support limit arg

	* preModule.hh: updated decl for search()

	* commands.y: support number in search command

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for printSubstitution()

	* userLevelRewritingContext.cc (printSubstitution): made
	Substitution arg a const ref

	* search.cc (search): rewritten using class RewriteSequenceSearch

	* mixfixParser.cc (parseSearchCommand): pass searchType via int&
	for simplicity

	* mixfixModule.cc (makeComplexProductions): use
	RewriteSequenceSearch::SearchType

	* mixfixModule.hh (class MixfixModule): deleted enum SearchType
	(class MixfixModule): updated decl for parseSearchCommand()

	* preModule.hh: added decl for tryMatch()

	* search.cc (tryMatch): added
	(search): rewritten using tryMatch() and supporting searchType

2001-05-01  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSearchCommand): handle SearchType arg

	* mixfixModule.hh (class MixfixModule): added enum SearchType
	(class MixfixModule): parseSearchCommand() decl takes searchType
	arg

	* search.cc (search): rewritten using parseSearchCommand()
	(search): check for variables that are bound before they are used
	in condition

	* mixfixModule.hh (class MixfixModule): added decl for
	parseSearchCommand()

	* mixfixParser.cc (parseSearchCommand): added

	* mixfixModule.cc (makeComplexProductions): added productions for
	SEARCH_CONNECTIVE, SEARCH_COMMAND and MATCH_COMMAND

	* mixfixModule.hh (class MixfixModule): added static data member
	gatherAnyAnyAny

	* mixfixModule.cc (makeComponentProductions): add productions for
	MATCH_PAIR and SEARCH_PAIR in the complexParser case

	* mixfixParser.cc (parseTerm): call makeGrammar() to make sure
	complex parser is set one way or the other

	* mixfixModule.hh (class MixfixModule): makeCommandProductions()
	decl becomes makeComplexProductions()
	(class MixfixModule): decl for nonTerminal() is no longer static

	* mixfixParser.cc (parseSentence2): don't test before calling
	makeGrammar()
	(parseCommand): call makeGrammar() to ensure we have a complex parser

	* prettyPrint.cc (showSummary): don't test before calling
	makeGrammar() since makeGrammar() now tests for th existence of
	parser
	(showSummary): use nonTerminal() to calculate number of
	nonterminals

	* mixfixModule.cc (makeGrammar): take complex flag; check for
	existence of appropriate kind of parser
	(makeCommandProductions): becomes makeComplexProductions()
	(nonTerminal): now depend on complexParser flag

	* mixfixModule.hh (class MixfixModule): split enum NonTerminal
	into complex and simple parts
	(class MixfixModule): added data member complexParser
	(class MixfixModule): makeGrammar() now takes complex flag

2001-04-27  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): rewritten using MatchSearchState and
	RewriteSearchState inseatd on OneStep

2001-04-26  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc: removed various experimental crud and got old search
	facility working (doesn't handle new conditions correctly though)

	* execute.cc (match): use new MatchSearchState() interface;
	pattern and context are now local objects rather than pointers to
	objects on the heap that need to be garbage collected

2001-04-17  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): printAttributes() made
	non-static

	* prettyPrint.cc (printAttributes): handle config, object and msg
	attributes

	* mixfixModule.cc (closeSignature): add object and message info
	to ConfigSymbols

	* mixfixModule.hh (class MixfixModule): added data members
	objectSymbols and messageSymbols

	* entry.cc (addOpDeclaration): handle OBJECT and MESSAGE flags
	(newFancySymbol): handle ConfigSymbol

	* mixfixModule.hh (class MixfixModule): added CONFIG, OBJECT and
	MESSAGE to enum SymbolFlags

	* modules.y: added syntax for config, obj and msg attributes

	* top.y: added tokens KW_CONFIG, KW_OBJ, KW_MSG

	* lexer.flex (id): added keywords obj, msg and config

2001-04-04  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh: added decl for breakSelect()

	* command.cc (breakSelect): added

	* commands.y: added set break on/off command; added break
	select/deselect <symbols> command .

	* top.y: aded token KW_BREAK

	* lexer.flex: added keyword break

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decls for selectBreakSymbols(), setBreakFlag()

	* interact.cc (selectBreakSymbols): added

	* userLevelRewritingContext.hh (setBreakFlag): added

	* interact.cc (commandLoop): take breakFlag into account when
	calling setTraceStatus()
	(handleDebug): take breakFlag into account when calling
	setTraceStatus()

	* userLevelRewritingContext.hh (clearDebug): take breakFlag into
	account when calling setTraceStatus()
	(setTraceFlag): take breakFlag into account when calling
	setTraceStatus()

	* interact.cc (handleDebug): support breakFlag

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for handleDebug(); added static data members
	breakFlag and breakSymbols

	* userLevelRewritingContext.cc (tracePreEqRewrite): pass redex to
	handleDebug()
	(tracePreRuleRewrite): pass redex to handleDebug()
	(tracePreScApplication): pass subject to handleDebug()

	* trial.cc (traceBeginEqTrial): pass subject to handleDebug()
	(traceBeginRuleTrial): pass subject to handleDebug()
	(traceBeginScTrial): pass subject to handleDebug()
	
===================================Engine65==================================================

2001-03-30  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): delete decl for eRewrite()

	* lexer.flex: use yyInt64 and stringToInt64()

	* top.y: number and number2 now Int64; yyInt becomes yyInt64

	* commands.y: use Token::codeToInt64() throughout

	* execute.cc (eRewrite): deleted

	* command.cc (printOpDef): handle frozen attribute

	* prettyPrint.cc (printAttributes): handle frozen attribute

2001-03-29  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: added ops frozen and metaFrewrite

2001-03-28  Steven Eker  <eker@goo.csl.sri.com>

	* loopMode.cc (doLoop): call resetRules()

	* execute.cc (beginRewriting): call clearContinueInfo()
	(rewrite): call resetRules()
	(fRewrite): call resetRules()

	* loopMode.cc (doLoop): rewritten

	* preModule.hh (Parent): updated endRewriting() decl

	* execute.cc (cont): save continueFunc and savedContext on the
	stack in case they get overwritten in the debugger; only restore
	them if we did not abort
	(endRewriting): rewritten; now handle store of savedContext and
	continueFunc
	(rewrite): rewritten
	(fRewrite): rewritten
	(cont): rewritten
	(reduce): rewritten

2001-03-27  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addOpDeclaration): call setFrozen() for frozen symbols

	* mixfixModule.hh (class MixfixModule): added FROZEN flag to enum
	SymbolFlags

	* modules.y: added semantics for frozen attribute

	* execute.cc (cont): limit is now an Int64

	* commands.y: use new rewrite(), eRewrite() and cont() conventions

	* preModule.hh (Parent): updated decls for rewrite(), eRewrite()
	and cont()

	* execute.cc (beginRewriting): don't do saved.setNode(0)
	(rewrite): use NONE (-1) rather than UNBOUNDED for no limit case,
	limit is now an Int64
	(eRewrite): ditto

	* command.cc (loseFocus): call clearContinueInfo() rather than
	doing saved.setNode(0)

	* preModule.hh: deleted static member saved

	* loopMode.cc (loop): moved here
	(contLoop2): moved here
	(contLoop): moved here
	(doLoop): moved here
	(printBubble): moved here
	(contLoop2): rewritten using savedContext rather than saved
	(doLoop): rewritten using savedContext rather than saved

2001-03-26  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): support interactive flag; call
	createRootBuffer() after processing flags and pass
	forceInteractive flag

	* lexerAux.cc (handleEof): fixed bug: only include a pending file
	if we have returned to the top level.
	(cleanUpLexer): use rootInteractive flag rather than isatty()
	(createRootBuffer): take forceInteractive flag; set
	rootInteractive flag
	(includeFile): pass false to setInteractive() rather than using
	isatty()
	(handleEof): only call UserLevelRewritingContext::setInteractive()
	after we have returned to the top level; use rootInteractive flag
	rather than isatty()

2001-03-23  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (endRewriting): call clearContinueInfo() if module
	disappears after being unprotected; don't save result
	(reduce): call clearContinueInfo()

	* preModule.hh (Parent): added decl for clearContinueInfo()

	* execute.cc (rewrite): rewritten using savedContext and
	continueFunc
	(cont): rewritten using savedContext and continueFunc
	(fRewrite): rewritten using savedContext and continueFunc
	(cont): call clearCount()
	(clearContinueInfo): added

	* preModule.hh: added static data member savedContext, typedef
	ContinueFuncPtr  and static data member continueFunc

	* execute.cc (cont): support fairContinue()
	(fRewrite): use savedContext

2001-03-22  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (fRewrite): take gas argument

	* preModule.hh: updated decl for fRewrite()

	* commands.y: updated all token rules now that "," is a special
	token; added syntax for [<number>,<number>] in <Module> : <term> .
	updated syntax for frewrite command

	* lexer.flex: added "," to tokens that are treated as special in
	command mode

	* modules.y: support frozen attribute syntax

	* preModule.hh: updated decl for printStats(); added static data
	member showBreakdown
	(setShowBreakdown): added

	* execute.cc (endRewriting): pass context to printStats()
	(doLoop): pass context to printStats()
	(printStats): support showBreakdown flag

2001-03-20  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added tokens KW_FROZEN and KW_BREAKDOWN

	* lexer.flex: added keywords frozen and breakdown

2001-03-16  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (endRewriting): count() -> getTotalCount()
	(doLoop): count() -> getTotalCount()

	* quotedIdentifierOpSymbol.cc (eqRewrite): incrementCount() ->
	incrementEqCount() (3 places)

2001-03-13  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): added decl for fRewrite()

	* execute.cc (fRewrite): added

	* commands.y: added syntax for frewrite command

2001-03-06  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): added decl for eRewrite()

	* execute.cc (eRewrite): added

	* commands.y: added syntax for erewite command

	* top.y: added tokens KW_EREWRITE, KW_FREWRITE, KW_OREWRITE

	* lexer.flex: added keywords erewrite, frewrite and orewrite

2001-02-22  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (ImportModule): removed unneeded #includes

	* preModule.cc: removed unneeded #includes
	
===================================Engine65==================================================

2001-02-21  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): use dynamic_cast to check that symbol
	we're about to add an identity to is really a BinarySymbol and not
	a FreeSymbol created to fix up an error detected earlier

2001-02-20  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (dagifySubstitution): fixed nasty bug where
	we were failing to delete last created DagRoot if the substitution
	was badly sorted - this leads to dag nodes that are still
	reachable after their module (and symbols) have been deleted,
	causing chaos during the mark phase of the next garbage collect
	(metaXmatch): fixed bug where we we're counting rewrites done
	during solve phase of matching
	(metaMatch): symmetric bug fix

2001-02-14  Steven Eker  <eker@goo.csl.sri.com>

	* metaDownOps.cc (downOpDecl): handle polymorphs having arbitrary
	junk in "Universal" positions of meta op decl
	(downOpDecls): static_cast -> safeCast
	(downBubbleSpec): static_cast -> safeCast (3 places)
	(downOpDecl): static_cast -> safeCast

	* metaDownFixUps.cc (fixUpPolymorph): implemented

	* metaDownOps.cc (downOpDecl): don't call setLineNumber() in
	normal case (addOpDeclaration() does this if needed)
	(downOpDecl): added IssueAdvisory()

	* metaDownFixUps.cc: IssueWarning() becomes IssueAdvisory()
	(downOpHook): added AdvisoryCheck()
	(fixUpBubble): simplified using downOpHook()

	* metaDownOps.cc (downAttr): IssueWarning() becomes
	IssueAdvisory()

	* mixfixModule.cc (findSymbol): only try to make a sort test
	operator if trueSymbol and falseSymbol are defined; actually if
	they're not both defined we won't get the grammar rules for sort
	tests but that doesn't stop the user from trying to make them at
	the meta level, causing a seg fault

	* metaDownOps.cc (downAttrSet): handle identity arg
	(downAttr): handle identity arg

	* metaLevel.hh (class MetaLevel): updated many decls

	* metaDownOps.cc (downOpDecl): rewritten using new
	addComplexSymbol() calls
	(downHookList): renamed to checkHookList()
	(downIdHook): renamed to checkHook() and rewritten using
	specialNameToFlag()
	(downAttr): use checkHookList()

	* mixfixModule.hh (class MixfixModule): added POLYMORPH to enum
	SymbolFlags

	* ops.cc (addHook): simplified using specialNameToFlag()

	* mixfixModule.hh (class MixfixModule): added decl for
	specialNameToFlag()

	* mixfixModule.cc (specialNameToFlag): added

	* metaDownFixUps.cc (downFixUps): meta fixup stuff moved here

	* metaDownOps.cc (downHook): handle idHookSymbol case
	(fixUpPolymorph): added
	(downFixUpBubble): renamed to fixUpBubble()

2001-02-13  Steven Eker  <eker@goo.csl.sri.com>

	* metaDownOps.cc (downDefaultFixUp): renamed to fixUpSpecialSymbol()
	(downFixUps): rewritten

	* metaLevel.hh (class MetaLevel): added ComplexSymbolType

	* metaModule.cc: rewritten

	* metaModule.hh: rewritten

	* metaDownOps.cc: move op/attr/special functions here

	* importModule.cc (fixUpDonatedOps): allow the case where a
	donated symbol has both an identity and a special

	* fixUp.cc (fixUpSymbols): allow a symbol to have both an identity
	and a special

2001-02-12  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): added decls for
	downDefaultFixUp(), downHook(), downOpHook()

	* metaDown.cc (downOpDecl): use HAS_ATTACHMENTS and don't consider
	originator flag for ops that have identity or HAS_ATTACHMENTS
	(downDefaultFixUp): added
	(downHook): added
	(downOpHook): added
	(downFixUps): call downDefaultFixUp()

	* fixUp.cc (fixUpSymbols): no longer treat QUOTED_IDENTIFIER as a
	special case

	* mixfixModule.hh (class MixfixModule): added QUOTED_IDENTIFIER to
	HAS_ATTACHMENTS disjuction

	* fixUp.cc (fixUpSymbols): no longer consider originator flag for
	HAS_ATTACHMENTS symbols
	(fixUpSymbols): qidBaseSymbol -> qidSymbol
	(fixUpSymbols): no longer consider originator flag identities;
	check for and issue warning in case of clashing identities

	* metaLevelOpSymbol.cc (copyAttachments): added test to protect
	from multiple calls

	* metaLevel.cc (bind): Term* version: avoid potential memory leak
	by using BIND_TERM() macro

	* interact.cc (commandLoop): flush() cout before input in the case
	we're no going to call displayPrompt()

2001-02-08  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downIdHook): rewritten using specialSymbolTypes.cc

	* ops.cc (addHook): rewritten using specialSymbolTypes.cc

	* specialSymbolTypes.cc: created

	* metaDown.cc: qidBaseSymbol -> qidSymbol throughout
	(downMachineInt): machineIntBaseSymbol -> machineIntSymbol

	* metaUp.cc: qidBaseSymbol -> qidSymbol throughout
	(upMachineInt): machineIntBaseSymbol -> machineIntSymbol

	* loopSymbol.cc: qidBaseSymbol -> qidSymbol throughout

	* loopSymbol.hh (class LoopSymbol): qidBaseSymbol -> qidSymbol

	* metaLevelSignature.cc (MACRO): qidBaseSymbol -> qidSymbol,
	machineIntBaseSymbol -> machineIntSymbol

2001-02-06  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decls for
	getCachedRewriteSearchState() and getCachedMatchSearchState();
	deleted decl for getCachedState()

	* descentFunctions.cc (getCachedRewriteSearchState): added
	(getCachedMatchSearchState): added
	(getCachedMatchSearchState): added
	(getCachedState): deleted
	(metaApply): use getCachedRewriteSearchState() and class
	RewriteSearchState
	(metaXapply): use getCachedRewriteSearchState() and class
	RewriteSearchState
	(metaMatch): use getCachedMatchSearchState() and class
	MatchSearchState
	(metaXmatch): use getCachedMatchSearchState() and class
	MatchSearchState

	* execute.cc (match): SearchState -> MatchSearchState

	* descentFunctions.cc (metaApply): don't pass arg to
	findNextRewrite(); use addInCount()
	(metaXapply): don't pass arg to findNextRewrite(); use
	addInCount()

2001-02-05  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaMatch): use getPattern(), getContext()
	instead of getMatch()
	(metaXmatch): use getPattern(), getContext() instead of getMatch()
	(metaApply): use getRule(), getReplacement() and getContext()
	instead of getResult()
	(metaXapply): use getRule(), getReplacement() and getContext()
	instead of getResult()

	* execute.cc (match): use getPattern(), getContext(),
	getExtensionInfo() instead of getMatch()

	* descentFunctions.cc (metaXapply): use
	PositionState::rebuildDag()
	(metaApply): use PositionState::rebuildDag()
	(metaXmatch): use PositionState::rebuildDag()

2001-02-02  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaXmatch): getTerm() -> getLhs()

	* mixfixParser.cc (makeStatement): simplified using default last
	arg of Equation ctor
	(makeStatement): simplified using default last arg of Rule and
	SortConstraint ctors

2001-02-01  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh: added decl for printSearchTiming()

	* search.cc (printSearchTiming): added
	(search): simplified using printSearchTiming()

	* execute.cc (match): call clearDebug() since the user may have
	interrupted rewriting and may have set some debug state
	(match): check context->traceAbort() after calling
	state.findNextMatch() (two places) since the user may have
	interrupted rewriting and then issued an abort command
	(match): check context->traceAbort() after calling
	computeTrueSort()
	(match): call clearMemo() if needed; move context->traceAbort()
	after contruction of state to aviod memory leak

2001-01-29  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (match): handle extension info

	* descentFunctions.cc (metaXmatch): pass dummy 3rd arg to
	getMatch()
	(metaMatch): pass dummy 3rd arg to getMatch()

	* execute.cc (match): reimplemented using classes Pattern and
	SearchState

2001-01-23  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: fixed extremely minor bug in that the Maude
	identifiers .*** and .--- were being treated at end-of-command
	. followed by comment in CMD_MODE

	* metaLevelSignature.cc (MACRO): deleted existingModuleSymbol

	* metaDown.cc (downModule): deleted existingModuleSymbol code

2001-01-19  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierSymbol.hh (class QuotedIdentifierSymbol):
	deleted declarations for fixUp() and copyFixUp()

	* quotedIdentifierSymbol.cc (fixUp): deleted
	(copyFixUp): deleted

	* importModule.cc (fixUpDonatedOps): use copyAttachments() in
	QUOTED_IDENTIFIER case

	* fixUp.cc (fixUpSymbols): use defaultFixUp() in QUOTED_IDENTIFIER
	case

	* quotedIdentifierSymbol.hh (class QuotedIdentifierSymbol): added
	decls for attachData() and copyAttachments()

	* quotedIdentifierSymbol.cc (attachData): added
	(attachData): added
	(COPY_SORT): added
	(copyAttachments): added

	* loopSymbol.cc (attachData): call FreeSymbol::attachData()
	(copyAttachments): simplified using COPY_SYMBOL and COPY_TERM;
	call FreeSymbol::copyAttachments()

	* quotedIdentifierOpSymbol.cc (eqRewrite): use CODE()

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted enum OpType

	* quotedIdentifierOpSymbol.cc (attachData): don't handle name and
	type operations
	(eqRewrite): don't handle name and type operations
	(copyAttachments):  simplified using COPY_SYMBOL and COPY_TERM;
	call FreeSymbol::copyAttachments()
	(attachData): simplified using BIND_OP; call
	FreeSymbol::attachData()
	(attachSymbol): call FreeSymbol::attachSymbol()

2001-01-18  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (getFlatModule): need to call resetImports() after
	importStatements() regardless of what happens. This fixes a nasty
	bug where if we imported statements from the same included module
	twice in a row (to different importers) without an intervening
	signature importation the second importantion would quietly fail
	(because the flag indicate that the statemenst have already been
	imported) and the second importer would not get the statements.

2001-01-17  Steven Eker  <eker@goo.csl.sri.com>

	* prelude.maude: getName() and getType() are now defined in maude
	rather than being builtin

2001-01-16  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.cc (attachSymbol): simplified using bind()
	return value
	(attachTerm): simplified using bind() return value

	* metaLevel.hh (class MetaLevel): updated decls for bind() (both
	versions)

	* metaLevel.cc (bind): return bool (both versions)

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): deleted decls
	for fixUp(), copyFixUp()

	* metaLevelOpSymbol.cc (attachSymbol): simplified using BIND_SYMBOL()
	(fixUp): deleted
	(copyFixUp): deleted

2001-01-15  Steven Eker  <eker@goo.csl.sri.com>

	* loopSymbol.hh (class LoopSymbol): deleted decls for fixUp(),
	copyFixUp()

	* loopSymbol.cc (attachSymbol): simplified using BIND_SYMBOL()
	(fixUp): deleted
	(copyFixUp): deleted

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted decls for fixUp(), copyFixUp()

	* quotedIdentifierOpSymbol.cc (fixUp): deleted
	(copyFixUp): deleted
	(attachSymbol): simplified using BIND_SYMBOL()

2001-01-12  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (fixUpDonatedOps): removed special handling for
	LOOP_SYMBOL

	* fixUp.cc (fixUpSymbols): removed special handling for
	LOOP_SYMBOL

	* mixfixModule.hh (class MixfixModule): added LOOP_SYMBOL to
	HAS_ATTACHMENTS

	* loopSymbol.cc (LoopSymbol): clear qidBaseSymbol,
	nilQidListSymbol, qidListSymbol
	(copyAttachments): added
	(attachSymbol): added

2001-01-11  Steven Eker  <eker@goo.csl.sri.com>

	* loopSymbol.cc (attachData): added

	* loopSymbol.hh (class LoopSymbol): added decls for attachData(),
	attachSymbol(), copyAttachments()

	* importModule.cc (fixUpDonatedOps): don't handle
	QUOTED_IDENTIFIER_OP as a special case

	* fixUp.cc (fixUpSymbols): don't handle QUOTED_IDENTIFIER_OP as a
	special case

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added decls for attachData(), attachSymbol(), copyAttachments()
	(class QuotedIdentifierOpSymbol): make op an int

	* quotedIdentifierOpSymbol.cc (QuotedIdentifierOpSymbol):
	initialize op, quotedIdentifierSymbol, stringSymbol
	(attachData): added
	(attachSymbol): added
	(copyAttachments): added

	* fixUp.cc (fixUpSymbols): don't handle META_LEVEL_OP_SYMBOL as a
	special case

	* importModule.cc (fixUpDonatedOps): don't handle
	META_LEVEL_OP_SYMBOL as a special case

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decls for
	attachSymbol(), attachTerm(), copyAttachments(), okToBind()

	* metaLevelOpSymbol.cc (postInterSymbolPass): set metaLevel =
	shareWith->metaLevel here since we no that this pass will only
	happen after all fix ups have been done
	(eqRewrite): don't test and set metaLevel here because in the
	shareWith case it will already have been done in
	postInterSymbolPass
	(copyAttachments): added
	(attachTerm): added
	(attachSymbol): added
	(okToBind): added

2001-01-10  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	attachData()

	* metaLevelOpSymbol.cc (attachData): added

	* fixUp.cc (fixUpSymbols): use defaultFixUp() for
	MACHINE_INTEGER_OP, MACHINE_FLOAT_OP, STRING_OP cases

	* preModule.hh (Parent): added decl for defaultFixUp()

	* fixUp.cc (defaultFixUp): added

	* importModule.cc (fixUpDonatedOps): use copyAttachments() in
	MACHINE_INTEGER_OP, MACHINE_FLOAT_OP, STRING_OP cases

2001-01-05  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaXmatch): fixed memory leak where if we
	obtained a state with remove() but didn't use it because of
	solutionNr we were not deleting it.
	(metaMatch): fixed symmetric memory leak
	(getCachedState): added
	(metaXapply): fixed memory leak using getCachedState()
	(metaMatch): use getCachedState()
	(metaApply): use getCachedState()

2001-01-03  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaXmatch): implemented

	* metaLevel.hh (class MetaLevel): added decls for upNoMatchPair()
	and upMatchPair()

	* metaUp.cc (upMatchPair): added
	(upNoMatchPair): added

	* descentFunctions.cc (metaMatch): implemented

	* metaLevel.hh (class MetaLevel): added decl for upNoMatchSubst()

	* metaUp.cc (upNoMatchSubst): added

	* metaLevel.hh (class MetaLevel): made upSubstition() public

2000-12-22  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaXapply): implemented
	(metaApply): add 1 to rewrite count for apply here
	(metaXapply): add 1 to rewrite count for apply here
	(metaXapply): clone the replacement so we have a dagnode that is
	only pointed to from one place - so context will build correctly
	(metaXapply): bring minDepth and maxDepth into int range

	* metaUp.cc (upFailure4Tuple): added

	* metaLevel.hh (class MetaLevel): added decls for
	upResult4Tuple(), upFailure4Tuple(), upContext()

	* metaUp.cc (upContext): added
	(upResult4Tuple): added

	* descentFunctions.cc (metaApply): delete state if we fail

2000-12-21  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaApply): added 3 loops to destruct stuff
	we've finishded with

	* metaOpCache.cc (insert): must clone metaOp to avoid overwriting
	(remove): fixed bug where we were return incorrect lastSolutionNr

2000-12-20  Steven Eker  <eker@goo.csl.sri.com>

	* metaOpCache.hh: created

	* descentFunctions.cc (metaApply): rewritten using MetaOpCache

	* metaLevel.hh (class MetaLevel): updated decl for downModule()

	* metaDown.cc (downModule): commented out existingModule code;
	return MetaModule* rather than ImportModule*

	* metaModule.hh (class MetaModule): derive from MetaOpCache

	* metaOpCache.cc: created

	* descentFunctions.cc (metaWellFormedSubstitution): use DagRoot

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): updated decl for
	dagifySubstitution()

	* descentFunctions.cc (dagifySubstitution): use DagRoot
	(metaApply): use DagRoot for substitutions

2000-12-19  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaApply): use new SearchState interface;
	fix bug where we weren't counting objectContext2 rewrites

2000-12-18  Steven Eker  <eker@goo.csl.sri.com>

	* metaUp.cc (upTerm): const correctness
	(upAssignment): const correctness

	* metaLevel.hh (class MetaLevel): const correctness for upTerm()
	and upAssignment()

	* quotedIdentifierTerm.hh (getIdIndex): made const

	* descentFunctions.cc (metaApply): pass substitution and variable
	infor to upResultTriple()

	* metaLevel.hh (class MetaLevel): added decls for upSubstition(),
	upAssignment(); updated decl for upResultTriple()

	* metaUp.cc (upSubstition): added
	(upAssignment): added
	(upSubstition): use upSubstition()

	* descentFunctions.cc (metaApply): call setInitialSubstitution()

2000-12-14  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaApply): make sure state goes out of
	scope and is deleted before we delete objectContext since
	~SearchState writes into this context (can we avoid doing this?)

	* metaLevel.hh (class MetaLevel): added decls for upResultTriple()
	and upFailureTriple()

	* metaUp.cc (upResultTriple): added
	(upFailureTriple): added

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added dec for
	term2RewritingContext()

2000-12-06  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (term2RewritingContext): added

2000-12-05  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaWellFormedSubstitution): call
	dagifySubstitution()
	(dagifySubstitution): added

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	noDuplicates()

	* descentFunctions.cc (noDuplicates): added
	(metaWellFormedSubstitution): use noDuplicates

2000-12-04  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaWellFormedTerm): fixed memory leak
	where we weren't destructed term
	(metaWellFormedSubstition): added

	* descentSignature.cc (MACRO): added decl for
	metaWellFormedSubstitution

	* metaDown.cc (downSubstitution): rewritten to treat variables as
	terms
	(downAssignment): rewritten to treat variables as terms

2000-11-28  Steven Eker  <eker@goo.csl.sri.com>

	* descentSignature.cc (MACRO): increased the number of args for
	metaXapply and metaXmatch

2000-11-20  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (eatComment): `( and `) no longer count for
	balancing parens in multiline comments

	* execute.cc (printBubble): rewritten to do the right thing with
	\`( etc

2000-11-14  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelSignature.cc (MACRO): delete decls for membPredSymbol
	and lazyMembPredSymbol

	* metaDown.cc (downTerm): commented out special case code for
	SORT_TEST operators

	* metaUp.cc (upDagNode): commented out special case code for
	SORT_TEST operators
	(upTerm): commented out special case code for SORT_TEST operators

	* mixfixModule.cc (findSymbol): check for sort tests

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decls for
	metaMaximalSorts() and metaMinimalSorts()

	* descentSignature.cc (MACRO): added decls for metaMaximalSorts
	and metaMinimalSorts

	* descentFunctions.cc (metaMinimalSorts): added
	(metaMaximalSorts): added

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	metaGetKinds()

	* descentFunctions.cc (metaGetKinds): added

	* descentSignature.cc: added decl for metaGetKinds

	* metaLevel.hh (class MetaLevel): added decl for upKindSet()

	* metaUp.cc (upKindSet): added

	* metaLevelSignature.cc (MACRO): added decls for
	emptyKindSetSymbol and kindSetSymbol

	* descentSignature.cc (MACRO): added decl for metaGetKind

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	metaGetKind()

	* descentFunctions.cc (metaGetKind): added

2000-11-13  Steven Eker  <eker@goo.csl.sri.com>

	* descentSignature.cc (MACRO): added decls for
	metaWellFormedModule and metaWellFormedTerm

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decls for
	metaWellFormedModule() and metaWellFormedTerm()

	* descentFunctions.cc (metaWellFormedModule): added
	(metaWellFormedTerm): added

2000-11-10  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decls for traceBeginFragment() and traceEndFragment()

	* trial.cc (traceEndTrial): check abortFlag before printing
	message
	(traceExhausted): check abortFlag before printing message
	(traceBeginFragment): take trialRef argument and test it and
	abortFlag before printing message
	(traceEndFragment): take trialRef argument and test it and
	abortFlag before printing message
	
===================================Engine64==================================================

2000-11-08  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (printBubble): rewritten to not print spaces arround
	special characters

2000-11-01  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaLeastSort): rewritten to calculate
	semantic sort

2000-10-24  Steven Eker  <eker@goo.csl.sri.com>

	* descentFunctions.cc (metaParse): use new upAmbiguity()

	* metaLevel.hh (class MetaLevel): updated decl for upAmbiguity()

	* metaUp.cc (upAmbiguity): now take Term*s as arguments

	* descentFunctions.cc (metaParse): use Term* version of
	upResultPair()

	* metaLevel.hh (class MetaLevel): added decl for Term* version of
	upResultPair()

	* metaUp.cc (upResultPair): added Term* version

	* metaLevel.hh (class MetaLevel): added decl for upTerm()

	* metaUp.cc (upTerm): added

	* descentFunctions.cc (metaParse): rewritten with new semantics
	(metaSortLeq): don't call FreeSymbol::eqRewrite()
	(metaSameKind): don't call FreeSymbol::eqRewrite()

	* metaLevel.hh (class MetaLevel): added decl for downComponent()

	* metaDown.cc (downComponent): added

	* descentSignature.cc (MACRO): metaParse now take 3 arguments

	* metaLevelSignature.cc (MACRO): added decl for anyTypeSymbol

	* mixfixModule.hh (class MixfixModule): added decl for parseTerm2()
	(class MixfixModule): added decl for parseSentence2()

	* mixfixParser.cc (parseSentence2): added
	(parseSentence): rewritten in terms of parseSentence2()
	(parseTerm): allow for parseSentence() returning -1
	(parseStatement): allow for parseSentence() returning -1
	(parseCommand): allow for parseSentence() returning -1
	(parseTerm2): added

2000-10-11  Steven Eker  <eker@goo.csl.sri.com>

	* metaUp.cc (upDagNode): fix bug: Vector<DagNode*> args(2) cannot
	be static because of recursion

2000-10-10  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): deleted data
	member op; deleted enum OpType

	* metaLevelOpSymbol.cc (fixUp): use descentSignature.cc to set
	descentFunction

	* descentSignature.cc: created

	* descentFunctions.cc (metaApply): added stub
	(metaXapply): added stub
	(metaMatch): added stub
	(metaXmatch): added stub

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): deleted decls
	for errorRewrite() and errorRewrite2()
	(class MetaLevelOpSymbol): added decls for metaXapply(),
	metaMatch() and metaXmatch()

	* metaLevelOpSymbol.cc (eqRewrite): call FreeSymbol::eqRewrite()
	if our descent function fails

	* metaLevelSignature.cc: updated noParseSymbol, added
	ambiguitySymbol, deleted all error constructors

	* metaLevel.hh (class MetaLevel): added decl for upAmbiguity();
	deleted decl for upErrorResultPair(); updated decl for upNoParse()

	* metaUp.cc (upErrorResultPair): deleted
	(upMachineInt): added
	(upNoParse): take badTokenIndex arg
	(upAmbiguity): added

	* descentFunctions.cc: descent functions moved here
	(metaReduce): don't rewrite in error case
	(metaRewrite): don't rewrite in error case
	(metaParse): don't rewrite in error case

	* metaLevelOpSymbol.cc (eqRewrite): greatly simplified using
	descentFunction pointer to memberFunction

2000-10-09  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (checkForSpecialProperty): handle null strings rather
	than asserting that they don't arise
	
===================================Engine63==================================================

2000-09-14  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (prettyPrint): ugly hack to print variables
	correctly

	* metaLevel.hh (class MetaLevel): added decl for upQidList()

	* metaUp.cc (upQidList): added

	* metaLevelOpSymbol.cc (metaPrettyPrint): rewritten

	* metaLevel.hh (class MetaLevel): added decl for upNoParse()

	* metaUp.cc (upNoParse): added

	* metaLevelOpSymbol.cc (metaParse): rewritten

	* metaLevel.hh (class MetaLevel): added decl for upSortSet()

	* metaUp.cc (upSortSet): added

	* metaLevelOpSymbol.cc (metaCompleteName): added
	(eqRewrite): call metaCompleteName()
	(metaGlbSorts): rewritten
	(metaLesserSorts): rewritten

	* metaLevel.hh (class MetaLevel): made downSimpleSort() and
	downType() public

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol):
	META_SAME_COMPONENT -> META_SAME_KIND; metaSameComponent() ->
	metaSameKind() 

	* metaLevelOpSymbol.cc (metaLeastSort): rewritten
	(metaSameComponent): becomes metaSameKind()
	(metaSameKind): use downType()
	(fixUp): sameComponent -> sameKind
	(fixUp): deleted sortInKind
	(eqRewrite): call metaSameKind()

	* metaLevel.hh (class MetaLevel): make upType() public

	* metaLevelOpSymbol.cc (metaSortLeq): rewritten
	(metaSameComponent): rewritten

	* metaLevel.hh (class MetaLevel): added decl for upBool()

	* metaUp.cc (upDagNode): handle MACHINE_FLOAT case
	(upBool): added

	* metaDown.cc (downTerm): added FLOAT case

	* mixfixModule.hh (class MixfixModule): added decl for
	findMachineFloatSymbol()

	* mixfixModule.cc (findMachineFloatSymbol): added

2000-09-13  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downTerm): support Strings; added missing break

	* mixfixModule.hh (class MixfixModule): added decl for
	findStringSymbol()

	* mixfixModule.cc (findStringSymbol): added

	* metaDown.cc (downTerm): use downType2() (2 places)

	* metaLevel.hh (class MetaLevel): added decl for downType2()

	* metaDown.cc (downType2): added
	(downType): use downType2()

	* metaLevelOpSymbol.cc (metaRewrite): rewritten

	* metaDown.cc (downTerm): fixed bug where we were useing id rather
	than cName

	* token.cc (doubleToCode): fill in auxProperties
	(int64ToCode): fill in auxProperties

	* metaLevelOpSymbol.cc (metaReduce): rewritten

	* metaUp.cc (upResultPair): added
	(upType): added
	(upErrorResultPair): added

	* metaLevel.hh (class MetaLevel): added decls for upQid(),
	upJoin(), upConstant(), upVariable(), upDagNode()

	* metaUp.cc: created

2000-09-12  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): deleted downVariable()

	* metaDown.cc (downTerm): rewritten
	(downVariable): deleted

	* metaLevel.hh (class MetaLevel): added decls for downCondition(),
	downConditionFragment()

	* metaDown.cc (downCondition): added
	(downConditionFragment): added
	(downMembAx): use downCondition()
	(downEquation): use downCondition()
	(downRule): use downCondition()

	* token.cc (splitKind): added

	* token.hh (class Token): added decl for splitKind()

	* metaLevel.hh (class MetaLevel): added decls for downTypeList() and downType()

	* metaDown.cc (downMachineIntList): don't recognize empty
	MachineInt lists
	(downTypeList): added
	(downType): added
	(downOpDecl): use downTypeList() and downType()

2000-09-11  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): added decl for downSort()
	(class MetaLevel): deleted decls for downQidSet() downVarDecls(),
	downVarDecl()

	* metaDown.cc (downModule): don't call downVarDecls(); vhanged arg
	number for md, eq and rl parts
	(downImport): handle protectingSymbol
	(downQidSet): becomes downSortSet()
	(downSort): added
	(downSortSet): becomes donwSorts()
	(downVarDecls): deleted
	(downVarDecl): deleted

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added
	META_XAPPLY, META_MATCH, META_XMATCH, META_COMPLETE_NAME,
	META_SORT_IN_KIND to enum OpType

	* metaLevelOpSymbol.cc (fixUp): added meta-xapply, meta-match,
	meta-xmatch, completeName, sortInKind

	* metaLevelSignature.cc (MACRO): deleted nilMachineIntListSymbol
	(MACRO): complete rewrite

2000-09-08  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	enum OpType simplified

	* quotedIdentifierOpSymbol.cc: implemented "constantName",
	"constantType", "variableName" and "variableType" operations
	(fixUp): simplified just to "name" and "type" due to subsort
	polymorphic overloading

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added new constants to enum OpType

	* quotedIdentifierOpSymbol.cc (fixUp): added opNames
	"constantName", "constantType", "variableName" and "variableType"

	* token.cc (split): split og '.' as well as ':'

	* quotedIdentifierSymbol.cc (determineSort): use
	Token::auxProperty()

	* token.hh (class Token): added decls for computeAuxProperty() and
	skipSortName()

	* token.cc (computeAuxProperty): added
	(skipSortName): added
	(checkForSpecialProperty): call computeAuxProperty()

	* token.hh (class Token): removed CONTAINS_DOT, BRACKETED from
	enum SpecialProperties;
	(class Token): added enum AuxProperties
	(class Token): added static data member auxProperties
	(auxProperty): added
	(class Token): added decl for auxProperty()

	* importModule.cc (fixUpDonatedOps): do incremental fixup for
	symbols with QUOTED_IDENTIFIER flag

2000-09-06  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierSymbol.cc (copyFixUp): fix bug where we were
	translating our sorts rather than original sorts

	* fixUp.cc (fixUpSymbols): call fixUp() on QuotedIdentifierSymbols

	* importModule.cc (fixUpDonatedOps): call copyFixUp() on
	QuotedIdentifierSymbols

	* metaLevelSignature.cc (MACRO): NA_Symbol* ->
	QuotedIdentifierSymbol*

	* metaDown.cc (downTerm): NA_Symbol* -> QuotedIdentifierSymbol*
	(downFixUpBubble): NA_Symbol* -> QuotedIdentifierSymbol* (2 places)

	* fixUp.cc (fixUpSymbols): cast to QuotedIdentifierSymbol* (3
	places)

	* entry.cc (newFancySymbol): create new QuotedIdentifierSymbol

	* mixfixParser.cc (makeTerm): cast to QuotedIdentifierSymbol*

	* mixfixModule.cc (findQuotedIdentifierSymbol): cast to and return
	QuotedIdentifierSymbol*
	(copyFixUpBubbleSpec): cast to QuotedIdentifierSymbol*
	(fixUpBubbleSpec): 2nd arg is now a QuotedIdentifierSymbol*

	* mixfixModule.hh (class MixfixModule): updated decl for
	fixUpBubbleSpec()
	(class MixfixModule): updated decl for
	findQuotedIdentifierSymbol()
	(class MixfixModule): qidSymbol in struct BubbleSpec becomes a
	QuotedIdentifierSymbol*

	* loopSymbol.cc (fixUp): first arg is now a
	QuotedIdentifierSymbol*
	(copyFixUp): cast to QuotedIdentifierSymbol*

	* loopSymbol.hh (class LoopSymbol): qidBaseSymbol becomes a
	QuotedIdentifierSymbol
	(class LoopSymbol): updated fixUp() decl

	* quotedIdentifierOpSymbol.cc (fixUp): 2nd arg now a
	QuotedIdentifierSymbol*
	(copyFixUp): cast to QuotedIdentifierSymbol*

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	updated decl for fixUp(); quotedIdentifierSymbol is now a
	QuotedIdentifierSymbol*

	* quotedIdentifierDagNode.cc (QuotedIdentifierDagNode): first arg
	is now a QuotedIdentifierSymbol*
	(overwriteWithClone): cast to QuotedIdentifierSymbol*
	(makeClone): cast to QuotedIdentifierSymbol*

	* quotedIdentifierDagNode.hh (class QuotedIdentifierDagNode):
	updated ctor decl

	* quotedIdentifierTerm.cc (QuotedIdentifierTerm): first arg is now
	a QuotedIdentifierSymbol*
	(deepCopy2): cast to QuotedIdentifierSymbol*
	(overwriteWithDagNode): cast to QuotedIdentifierSymbol*
	(makeDagNode): cast to QuotedIdentifierSymbol*

	* quotedIdentifierTerm.hh (class QuotedIdentifierTerm): updated
	ctor decl

	* mixfix.hh: added class QuotedIdentifierSymbol

	* quotedIdentifierSymbol.cc: created

	* token.hh (class Token): added CONTAINS_DOT and BRACKETED

	* quotedIdentifierSymbol.hh: created

2000-08-30  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (showAll): don't display kinds
	(showSorts): use new formula for nrSorts

	* command.cc (parse): use Term::getSort() rather than
	ComplexSort()

	* prettyPrint.cc (showOps): don't use ComplexSort()

	* compiler.cc (creduce): use DagNode::getSort() rather than
	ComplexSort()

	* execute.cc (endRewriting): use DagNode::getSort() rather than
	ComplexSort()
	(doLoop): use DagNode::getSort() rather than ComplexSort()

	* userLevelRewritingContext.cc (tracePreScApplication): use
	DagNode::getSort() rather than ComplexSort()

	* prettyPrint.cc (operator<<): treat nil sort pointer as "(SORT
	UNKNOWN)"

	* command.cc (operator<<): don't put space after comma in kind
	name

	* mixfixParser.cc (makeTerm): allow sortName to be NONE in
	MAKE_VARIABLE case

	* token.cc (split): return suffix as NONE for tokens ending in :

	* mixfixModule.hh (class MixfixModule): added ENDS_IN_COLON_NT to
	enum NonTerminal; BASE = -22

	* mixfixModule.cc (makeComponentProductions): support
	( <FooTerm> ) . [ <FooSortList> ] disambiguation
	(makeComponentProductions): added syntax for sort lists
	(makeSpecialProductions): handle ENDS_IN_COLON

	* mixfixModule.hh (class MixfixModule): added SORT_LIST_TYPE to
	enum NonTerminalType; NUMBER_OF_TYPES = 5

	* prettyPrint.cc (showSummary): fix # user sorts, now that sorts
	and error sorts (kinds) end up in sort vector
	(showComponents): don't use ComplexSort
	(showSorts): don't output information on kinds
	(showSummary): call makeGrammar if we don't have any productions

	* fixUp.cc (findHookSymbol): look for ~> rather than -> in
	op-hooks
	
===================================Engine62==================================================

2000-08-29  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added decl for indentifier; added decl for ','

	* modules.y: added identifier nonterminal

	* lexer.flex: ',' now returns ',' rather than IDENTIFIER in
	ID_MODE

	* preModule.hh (Parent): added friend  decl for operator<<

	* command.cc (printOpDef): use types rathe than
	domainAndRangeTokens
	(operator<<): added for PreModule::Type

	* preModule.hh (Parent): added decls for checkOpTypes(),
	checkType(), computeOpTypes(), computeType()

	* process.cc (checkOpTypes): added
	(checkType): added
	(computeOpTypes): added
	(computeType): added
	(processSorts): don't look up sorts occuring in op declarations
	(process): call checkOpTypes() and computeOpTypes()

2000-08-28  Steven Eker  <eker@goo.csl.sri.com>

	* ops.cc (addVarDecl): now just take a token

	* modules.y: deleted listBarColon; added varNameList

	* preModule.hh: addSortSpec() -> addType(); struct SortSpec ->
	struct type

	* ops.cc (addSortSpec): becomes addType()
	(addType): rewrittenusing types nomenclature
	(convertSortsToKinds): rewritten using types nomenclature

	* modules.y: sortSpec -> type; sortSpecList -> typeList;
	addSortSpec() -> addType()

	* top.y: deleted tokenBarArrow; arrow declared type <yyBool>;
	sortToken declared type <yyToken>
	

	* preModule.hh (Parent): added decls for addSortSpec() and
	convertSortsToKinds(); deleted decl for setDomainAndRange()

	* ops.cc (setDomainAndRange): deleted
	(convertSortsToKinds): added

	* lexer.flex: added KW_PARTIAL

	* top.y: added KW_PARTIAL

	* modules.y: added PARTIAL to most nonterminal that accept ARROW;
	deleted nonterminal tokenBarArrow

2000-08-25  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: deleted listBarArrow; added arrow and call to
	convertSortsToKinds()

2000-08-22  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: added non-terminals attrKeyword2, sortToken,
	sortTokens and sortSpec
	added non-terminal sortSpecList and redefined domainRangeAttr

	* ops.cc (addSortSpec): added

	* preModule.hh: added struct SortSpec; domainAndRangeTokens
	becomes sortSpecs

2000-07-31  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateOps): use an ImportTranslation to
	translate sorts in operator decls so that error sorts are
	translated correctly

	* importTranslation.cc (translate): (Sort* version): moved here
	(translate): (Sort* version): translate error sorts correctly

	* prettyPrint.cc (operator<<): added Sort* version

	* metaFastUp.cc (fastUpSort): removed hack for handling union
	sorts since they should no longer exist
	
===================================Engine61==================================================

2000-07-28  Steven Eker  <eker@goo.csl.sri.com>

	* trial.cc (traceBeginFragment): handle firstAttempt arg

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added firstAttempt arg to traceBeginFragment() decl

	* prettyPrint.cc (operator<<): (ConditionFragment*) version
	(printCondition): use ConditionFragment* operator<<

	* trial.cc (traceBeginFragment): added
	(traceEndFragment): added

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decls for traceBeginFragment() and traceEndFragment()

	* execute.cc (match): use getNrProtectedVariables() instead of
	nrVariables() (2 places)

	* userLevelRewritingContext.cc (printSubstitution): use
	getNrRealVariables() instead of nrVariables(); now assert that
	we're not dealing with an abstraction variable

	* metaFastUp.cc (fastUpSubstitution): use getNrRealVariables()
	instead of nrVariables()

	* metaLevelOpSymbol.cc (metaApply): use getNrRealVariables()
	instead of nrVariables()
	(initializeSubstitution): use getNrRealVariables() instead of
	nrVariables()

2000-07-25  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (dump): added

	* preModule.hh (Parent): added decl for dump()

	* commands.y: added dump command

	* top.y: added KW_DUMP

	* lexer.flex: added KW_DUMP

2000-07-21  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.cc (printSubstitution): handle unbound
	variables

2000-07-19  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (instantiateSortTest): changed concrete syntax
	for sort test operators

	* mixfixModule.hh (class MixfixModule): update friend decl

	* prettyPrint.cc (printCondition): print /\ bewteen fragments
	(operator<<): term version now takes const 2nd arg
	(operator<<): cast away const for the moment

	* mixfixModule.hh (class MixfixModule): updated makeCondition()
	decl; added makeConditionFragment() decl

	* mixfixParser.cc (makeCondition): rewritten
	(makeConditionFragment): added
	(makeStatement): use new makeCondition()

	* mixfixModule.cc (makeStatementProductions): generate productiosn
	for complex conditions
	(makeBoolProductions): now we allow condition fragments just to be
	a bool

2000-07-18  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (MixfixModule): initialize assign, colon3 and
	wedge
	(makeBoolProductions): use COLON2_PAIR in place of COLON_PAIR and
	COLON3_PAIR in place of COLON2_PAIR

	* mixfixModule.hh (class MixfixModule): added static data members
	assign, colon3 and wedge
	(class MixfixModule): added COLON3_PAIR, ASSIGN_PAIR,
	RULE_CONDITION, CONDITION_FRAGMENT, RULE_CONDITION_FRAGMENT to
	enum NonTerminal

	* userLevelRewritingContext.cc (tracePreScApplication): use getSort()

	* prettyPrint.cc (operator<<): use getLhs(), getSort()
	(operator<<): use getLhs(), getRhs()
	(operator<<): use getLhs(), getRhs(), getLabel()

	* metaLevelOpSymbol.cc (metaApply): use getLabel()

	* importModule.cc (deepCopyCondition): use Sort* translate()
	(donateStatements): use Sort* translate()
	(donateStatements): use deepCopyCondition() (3 places) and new
	statement ctors
	(donateStatements): use getLhs(), getRhs()
	(donateStatements): use getSort()
	(donateStatements): use getLabel()

	* importTranslation.cc (translate): simplified using new
	translate() functions

	* importTranslation.hh (class ImportTranslation): added decl for
	Sort* version of translate()
	(translate): (Sort* version) added
	(class ImportTranslation): added decl for ConnectedComponent*
	version of translate()
	(translate): (ConnectedComponent* version) added

2000-07-17  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): added decl for deepCopyCondition()

	* importModule.cc (deepCopyCondition): added

	* mixfixParser.cc (makeStatement): use new Rule and SortConstraint
	ctors

	* mixfixModule.hh (class MixfixModule): added decl for printCondition()

	* prettyPrint.cc (printCondition): added
	(operator<<): (Rule, Equation and SortConstraint versions) use
	printCondition()

2000-07-14  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (makeStatement): use new Equation ctor

2000-06-28  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): changed
	overloadedMachineFloats from set<Int64> to set<double> 

	* prettyPrint.cc (prettyPrint): handle pseudo variables (both
	versions)

	* mixfixParser.cc (parseSentence): use findSort()

	* mixfixModule.cc (makeSpecialProductions): use findSort()

	* entry.cc (addSort): rewritten
	(addOpDeclaration): use findSort() to check for existance of sort

	* mixfixModule.cc (findSort): rewritten using map

	* mixfixModule.hh (class MixfixModule): changed sortNames from an
	IntSet to a map<int, Sort*>

	* entry.cc (addOpDeclaration): check for pseudo variables

	* mixfixModule.hh (class MixfixModule): added PSEUDO_VARIABLE to
	InternalFlags

	* entry.cc (newFancySymbol): no longer create variable symbols here

	* lexerAux.cc (eatComment): use outputLine()

	* fileTable.hh (class FileTable): added decl for outputLine()

	* fileTable.cc (beginModule): use outputLine()
	(outputLine): added

	* lexerAux.cc (eatComment): handle OBJ3 style pass-through comments

	* lexer.flex: treat ---> equall to ***> and replace char with
	yyless(0); treat --- equal to ***

	* mixfixModule.hh (class MixfixModule): added decl for printVariable()

	* prettyPrint.cc (printVariable): added
	(prettyPrint): use printVariable() (both versions)

	* mixfixModule.hh (class MixfixModule): added decl for
	setPrintWithAliases() and static data member printWithAliases
	(setPrintWithAliases): added

	* lexer.flex: added KW_ALIASES; made paren synonym for parens

	* top.y: added KW_ALIASES

	* commands.y: added syntax for print with aliases on/off .

	* userLevelRewritingContext.cc (printSubstitution): use
	const_cast<> default pretty printer is used for variable term

	* mixfixModule.cc (makeSymbolProductions): need to use
	if-then-continue after all since we can makeGrammar() at any time
	now that parsers get deleted and reconstructed

	* mixfixModule.hh (class MixfixModule): deleted INVISIBLE from
	enum SymbolFlags; deleted decl for findInvisibleVariable()

	* mixfixModule.cc (makeSymbolProductions): check for VARIABLE
	rather than INVISIBLE; use Assert() that than if-then-continue
	since these kind of symbols should not have be created prior to
	generating the grammar
	(findSymbol): no need to check for INVISIBLE symbols now
	(findInvisibleVariable): deleted

	* entry.cc (addOpDeclaration): removed uses of INVISIBLE flag

2000-06-27  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (showVars): use variableAliases

	* mixfixModule.cc (instantiateVariable): cannot use
	variableTokenCode since we may not have made the grammar (nowadays
	it's only made when we need to parse something); instead we use
	sort->id() - ugly but it should never be seen by user

	* importTranslation.cc (translate): use instantiateVariable()

	* importModule.cc (donateOps): check for variable and sort test
	symbols; these shound no longer be among user symbols to be donated

	* mixfixParser.cc (makeTerm): handle MAKE_VARIABLE_FROM_ALIAS

	* mixfixModule.hh (class MixfixModule): added decl for
	makeVariableProductions()

	* mixfixModule.cc (makeVariableProductions): added
	(makeGrammar): call makeVariableProductions()

	* mixfixModule.hh (class MixfixModule): added decl for
	addVariableAlias()

	* entry.cc (addVariableAlias): added

	* mixfixModule.hh (class MixfixModule): added variableAliases data member

	* process.cc (processOps): use addVariableAlias()

	* prettyPrint.cc (prettyPrint): support variables (both versions)

	* mixfixModule.cc (instantiateVariable): translate
	variableTokenCode to actual variable token code

	* token.cc (checkForSpecialProperty): get CONTAINS_COLON,
	ENDS_IN_COLON the right way around
	(extractMixfix): need to do processing on tokens with
	CONTAINS_COLON and ENDS_IN_COLON otherwise we could lose mixfix
	syntax for sort test operators

2000-06-26  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for
	instantiateSortTest()

	* mixfixModule.cc (instantiateVariable): added

	* mixfixParser.cc (parseSentence): handle undeclared variables
	(makeTerm): handle makeVariable

	* mixfixModule.cc (makeComponentProductions): fill out
	variableTokenCode and add productions for undeclared variables

	* mixfixModule.hh (class MixfixModule): added data members
	variableTokenCode and variableBase

	* token.hh (class Token): added decl for split

	* token.cc (split): added

	* mixfixModule.hh (class MixfixModule): added MAKE_VARIABLE and
	MAKE_VARIABLE_FROM_ALIAS to enum Actions

	* mixfixModule.cc (makeSpecialProductions): added code for
	<FooTerm> ::= X:Foo where X:Foo is known token

	* token.cc (checkForSpecialProperty): check for colons

	* token.hh (class Token): added special properties CONTAINS_COLON
	and ENDS_IN_COLON

	* userLevelRewritingContext.cc (printSubstitution): use
	VariableTerm* instead of VariableSymbol*; use getSort()
	(printSubstitution): use safeCast()

===================================Engine57==================================================

2000-06-19  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): pass decFloatSymbol to string op
	fixUp()

2000-06-13  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): pass machineFloatSymbol to string op
	fixUp()

2000-06-12  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): pass  machineIntegerSymbol to fix up of
	MachineFloatOpSymbol

	* importModule.cc (fixUpDonatedOps): handle importation of
	MACHINE_FLOAT_OPs

	* fixUp.cc (fixUpSymbols): support MACHINE_FLOAT_OP

	* mixfixModule.hh (class MixfixModule): added FLOAT_NT to enum
	NonTerminal

	* mixfixModule.cc (makeSpecialProductions): support floats

	* token.hh (class Token): added LAST_PROPERTY to enum
	SpecialProperties

	* mixfixModule.cc (makeSymbolProductions): support MACHINE_FLOAT

	* mixfixModule.hh (class MixfixModule): added MAKE_MACHINE_FLOAT
	to enum Actions

	* mixfixParser.cc (makeTerm): support MAKE_MACHINE_INT

	* bufferPrint.cc (prettyPrint): support machine floats

	* prettyPrint.cc (prettyPrint): (both versions) support machine
	floats

	* token.hh (class Token): added decls for codeToDouble() and
	doubleToCode()

	* token.cc (codeToDouble): added
	(doubleToCode): added

	* entry.cc (addOpDeclaration): update machineFloatSymbols
	(newFancySymbol): support MACHINE_FLOAT and MACHINE_FLOAT_OP

	* mixfixModule.hh (class MixfixModule): added data members
	overloadedMachineFloats and machineFloatSymbols
	(class MixfixModule): added PSEUDO_MACHINE_FLOAT to enum
	InternalFlags

	* entry.cc (addOpDeclaration): added check for pseudo machine
	floats

	* ops.cc (addHook): added MachineFloatSymbol and
	MachineFloatOpSymbol hooks

2000-06-09  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added MACHINE_FLOAT and
	MACHINE_FLOAT_OP to enum SymbolFlags

	* token.cc (checkForSpecialProperty): added identification for
	Floats

	* token.hh (class Token): added FLOAT to enum SpecialProperties

2000-05-23  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downModule): check for bad module after closing
	sort set and after downing fixups

2000-05-19  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (bubbleToPrefixNameCode): fixed nasty bug where we were
	putting ` at start

2000-05-17  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (extractMixfix): rewritten to handle strings

	* token.hh (class Token): deleted decl for prefixNameCode()

	* token.cc (prefixNameCode): deleted prefixNameCode()

	* ops.cc (addOpDecl): no longer treat one token as a special case

	* fixUp.cc (findHookSymbol): use bubbleToPrefixNameCode()

	* command.cc (addSelected): use bubbleToPrefixNameCode()

	* token.hh (makePrefixName): use bubbleToPrefixNameCode()
	(class Token): added decl for bubbleToPrefixNameCode()

	* token.cc (ropeToPrefixNameCode): handle quoted strings within
	rope
	(bubbleToPrefixNameCode): added

	* lexer.flex: redefined maudeId to allow multiple double quoted
	strings with in a maudeId

	* quotedIdentifierOpSymbol.cc (eqRewrite): use
	ropeToPrefixNameCode()

	* token.hh (class Token): added decl for ropeToPrefixNameCode()

	* token.cc (ropeToPrefixNameCode): added

2000-05-16  Steven Eker  <eker@goo.csl.sri.com>

	* fixUp.cc (fixUpSymbols): don't pass machineIntegerSymbol,
	trueTerm and falseTerm to QuotedIdentifierOpSymbol

	* quotedIdentifierOpSymbol.cc (postInterSymbolPass): deleted
	(copyFixUp): don't copy trueTerm and falseTerm

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted decls for reset() and postInterSymbolPass(); updated decl
	for fixUp()

	* quotedIdentifierOpSymbol.cc (fixUp): don't set trueTerm and
	falseTerm
	(reset): deleted

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted data members trueTerm and falseTerm

	* quotedIdentifierOpSymbol.cc (fixUp): don't set
	machineIntegerSymbol; don't handle CONC, INDEX, STRIP, CONVERT and
	LESS_THAN
	(copyFixUp): don't copy machineIntegerSymbol
	(eqRewrite): don't handle CONC, INDEX, STRIP, CONVERT and
	LESS_THAN

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	deleted data member machineIntegerSymbol;
	(class QuotedIdentifierOpSymbol): updated fixUp() decl
	(class QuotedIdentifierOpSymbol): deleted CONC, INDEX, STRIP,
	CONVERT and LESS_THAN from enum OpType

	* fixUp.cc (fixUpSymbols): support stringBaseSymbol for
	QuotedIdentiferOpSymbols

	* quotedIdentifierOpSymbol.cc (fixUp): hanle stringSymbol arg
	(copyFixUp): copy stringSymbol
	(eqRewrite): added QID and STRING operations

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added data member stringSymbol;
	(class QuotedIdentifierOpSymbol): updated fixUp() decl

	* quotedIdentifierOpSymbol.cc (fixUp): added support for STRING
	and QID

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added STRING and QID to enum OpType

	* token.cc (checkForSpecialProperty): use stringToInt64() to
	decide if a token could represent a MachineInt

	* quotedIdentifierOpSymbol.cc (eqRewrite): use new int64ToString()

	* metaFastUp.cc (fastUpTerm): (both versions) use int64ToCode()

	* bufferPrint.cc: use int64ToCode()

	* token.hh (class Token): int64ToString() decl becomes
	int64ToCode()

	* token.cc (codeToInt64): use stringToInt64()
	(int64ToString): becomes int64ToCode();
	(int64ToCode): use int64ToString()

2000-05-15  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (ropeToString): support \a (alert/bell) and \v
	(vertical tab)
	(codeToRope): support \a (alert/bell) and \v (vertical tab)

	* lexer.flex: exclude control chars from stringContent; fix \\"
	bug; exclude control chars from normal
	token -> maudeId, stringToken -> stringId, regularToken ->
	regularId; use RETURN(*yytext) in 2 places

2000-05-12  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: reformulated notion of token to make it simpler and
	to exclude "s except as part of a double quoted identifier (or
	quoted double quoted identifier (actually token really corresponds
	to MaudeId in other discussions)

2000-05-08  Steven Eker  <eker@goo.csl.sri.com>

	* modules.y: use setLatexMacro()

	* preModule.hh (Parent): added decl for setLatexMacro()

	* ops.cc (setLatexMacro): added

	* preModule.hh: added latexMacro field to struct OpDef

2000-05-04  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (lexerLatexMode): clear latexCode

	* lexer.flex: use latexCode variable to assemble latex string, to
	avoid what looks tike a flex bug when we try to assemble it
	implicitly in yytext

2000-05-03  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added token decl for LATEX_TOK

	* modules.y: use lexerLatexMode()

	* lexerAux.cc (lexerLatexMode): added

	* lexer.flex: added start condition LATEX_MODE

	* compiler.cc (fullCompile): changed names for environment
	variables; don't unlink source files ifdef ANNOTATE

2000-04-25  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (newFancySymbol): use class StringSymbol

	* fixUp.cc (fixUpSymbols): use StringSymbol*

	* mixfixParser.cc (makeTerm): use StringSymbol*

2000-04-24  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (ropeToString): alway generate 3 octal digits for
	numeric escape codes
	(codeToRope): only look at max 3 octal digits afer \; don't use
	strtol()

	* entry.cc (addOpDeclaration): clear any axioms flags if we fail
	to create a fancy symbol

	* mixfixModule.hh (class MixfixModule): added AXIOMS to enum
	SymbolFlags

	* fixUp.cc (fixUpSymbols): use dynamic_cast<BinarySymbol*>() since
	there is no guarentee that our symbol is not a FreeSymbol (due to
	an earlier error); this fixes a nasty bug.

	* autoWrapBuffer.cc (AutoWrapBuffer): initialize seenBackSlash and
	inString
	(overflow): update seenBackSlash and inString; only treat space,
	",", [, (, and { as special if !inString
	(resetCursor): clear seenBackQuote, seenBackSlash and inString
	(overflow): return EOF if our arg is EOF

	* autoWrapBuffer.hh (class AutoWrapBuffer): added data members
	seenBackSlash and inString; seenBackQuote made a Bool

2000-04-19  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (findMachineIntegerSymbol): moved here; no
	longer inline
	(findQuotedIdentifierSymbol): moved here; no longer inline

	* bufferPrint.cc (prettyPrint): use
	machineIntegerSymbols instead of machineIntegerComponents and
	quotedIdentifierSymbols instead of quotedIdentifierComponents; use
	new interface to overloadedQuotedIdentifiers

	* prettyPrint.cc (prettyPrint): (both versions) use
	machineIntegerSymbols instead of machineIntegerComponents and
	quotedIdentifierSymbols instead of quotedIdentifierComponents; use
	new interface to overloadedQuotedIdentifiers

	* entry.cc (addOpDeclaration): use new machineIntegerSymbols def

	* mixfixModule.hh (class MixfixModule): quotedIdentifierSymbols
	and machineIntegerSymbols become map<>s;
	overloadedQuotedIdentifiers becomes a set<>;
	machineIntegerComponents and quotedIdentifierComponents deleted
	(findMachineIntegerSymbol): rewritten using new
	machineIntegerSymbols def; made const; made arg const ptr
	(findQuotedIdentifierSymbol): rewritten using new
	machineIntegerSymbols def; made const; made arg const ptr

	* bufferPrint.cc (prettyPrint): handle strings and pseudo strings

	* prettyPrint.cc (prettyPrint): (Term* version) added code for
	string case
	(prettyPrint): (DagNode* version) use new ropeToString() interface

	* token.hh (class Token): updated decl for ropeToString()

	* token.cc (ropeToString): now built result in string arg for efficiency

2000-04-18  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): use stringSymbols.size() rather
	than stringComponents.cardinality

	* entry.cc (addOpDeclaration): fill out stringSymbols rather than
	stringComponents

	* mixfixModule.hh (class MixfixModule): added stringSymbols,
	commented out stringComponents;

	* prettyPrint.cc (prettyPrint): (DagNode* version) do string and
	pseudo-string disambiguation

	* entry.cc (addOpDeclaration): fill in overloadedStrings; set
	PSEUDO_STRING flag if needed
	(addOpDeclaration): add entry to stringComponents when needed

	* mixfixModule.hh (class MixfixModule): added data members
	overloadedStrings and stringComponents

	* token.cc (codeToRope): handle \t and \b
	(ropeToString): handle \t and \b
	(ropeToString): cast unprintable chars to <unsigned char> to make
	sure we don't get negative numbers when converting to octal;
	only generate needed number of octal digits.
	(ropeToString): now "\0" is handled by default case code

	* fixUp.cc (fixUpSymbols): fixed bug where we were setting
	falseterm instead of notFoundTerm

	* token.cc (codeToRope): initialize seenBackslash

2000-04-17  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): use Token::ropeToString (DagNode*
	version)

	* mixfixParser.cc: use Token::codeToRope()

	* token.cc (codeToRope): added
	(ropeToString): added

	* token.hh (class Token): added decls for codeToRope() and ropeToString()

	* prettyPrint.cc (prettyPrint): fixed bug where we were check
	flags rather tha iflags for PSEUDO_QUOTED_IDENTIFIER
	(prettyPrint): crude handling of strings (DagNode* version)

	* mixfixParser.cc (makeTerm): added MAKE_STRING case

	* mixfixModule.hh (class MixfixModule): added MAKE_STRING to enum Actions

	* mixfixModule.cc (makeSpecialProductions): added production for
	new "anonymous string" ("[ STRING ]") token
	(makeSymbolProductions): added productions for string base symbol(s)

	* mixfixModule.hh (class MixfixModule): added STRING_NT to enum NonTerminal

	* mixfixModule.cc (makeSpecialProductions): add special
	productions for identifiers that look like strings

	* lexer.flex: recognize string tokens properly

	* token.cc (prefixNameCode): don't process single tokens that are STRINGS

	* lexer.flex: fixed stringCont def so that we can have spaces in strings

	* token.cc (extractMixfix): don't try to extract mixfix syntax for
	tokens with special properties

	* token.hh (class Token): added STRING to enum SpecialProperties

	* token.cc (checkForSpecialProperty): added recognition for strings

2000-04-14  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (fixUpDonatedOps): handle StringOpSymbol

	* fixUp.cc (fixUpSymbols): handle StringOpSymbol

2000-04-12  Steven Eker  <eker@goo.csl.sri.com>

	* ops.cc (addHook): recognize StringSymbol and StringOpSymbol
	hooks

	* entry.cc (newFancySymbol): handle STRING and STRING_OP flags

	* lexer.flex: STRING -> STRING_TOK

	* top.y: STRING -> STRING_TOK

	* entry.cc (addOpDeclaration): use iflags thoughout
	(addPolymorph): clear iflags

	* mixfixModule.cc (instantiateSortTest): set iflags
	(copyPolymorph): copy iflags
	(computePrecAndGather): use iflags thoughout

	* bufferPrint.cc (prettyPrint): use iflags thoughout

	* prettyPrint.cc (prettyPrint): (both versions) use iflags thoughout

	* mixfixModule.hh (class MixfixModule): added enum InternalFlags
	to take LEFT_BARE, RIGHT_BARE, ADHOC_OVERLOADED,
	DOMAIN_OVERLOADED, RANGE_OVERLOADED, PSEUDO_MACHINE_INTEGER,
	PSEUDO_QUOTED_IDENTIFIER; removed these from enum SymbolFlags;
	renumbered both enums
	(class MixfixModule): META_LEVEL_OP deleted
	(class MixfixModule): added PSEUDO_STRING to InternalFlags
	(class MixfixModule): added STRING and STRING_OP to SymbolFlags
	(class MixfixModule): rearranged SymbolInfo and added iflags
	
===================================Maude 1.0.5 finished=======================================

2000-04-05  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (findFile): look for .fm extension

	* interact.cc: sunos 4 ifdef

2000-03-30  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseCommand): ifdef'd
	(makeCommand): ifdef'd

2000-03-29  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (graphPrint): fixed delete bug (need to use
	delete[] for BigNum strings)

2000-03-21  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.cc (sync): don't output pending buffer unless it
	consists of a single space or tab; this avoids outputing stuff
	where it turns out we don't have a save point to line break later
	on. the drawback is that we violate the semnatics of sync()
	somewhat

	* fileTable.cc (printLineNumber): fixed bug where we were using
	"cout" rather than "s"

2000-03-20  Steven Eker  <eker@goo.csl.sri.com>

	* process.cc (process): check for bad module before calling
	closeSignature()

	* entry.cc (addOpDeclaration): now call markAsBad() when ther is a
	clash of symbol attributes; there is a problem that translating of
	terms assumes that FooSymbol maps to a FooSymbol; bad things
	happen if this is violated so we don't want to translate terms

2000-03-17  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): if def'd guts

2000-03-16  Steven Eker  <eker@goo.csl.sri.com>

	* process.cc (process): added extra check for bad module before
	calling closeFixUps() just incase we had a bad identity

	* metaDown.cc (downFixUpBubble): WarningCheck() -> IssueWarning()
	(downAttr): WarningCheck() -> IssueWarning()

	* execute.cc (cont): standardized IssueWarning()

	* command.cc (selectModule): standardized IssueWarning()s

	* ops.cc (addVarDecl): standardized IssueWarning()
	(setPrec): standardized IssueWarning()
	(setGather): standardized IssueWarning()

	* process.cc (processSorts): standardized IssueWarning() and
	WarningCheck()
	(getSort): standardized IssueWarning()

	* import.cc (findModule): standardized IssueWarning()
	(importModule): standardized IssueWarning()s

	* compiler.cc (fullCompile): standardized IssueAdvisory()
	(makeExecutable): standardized IssueWarning()

	* preModule.cc (getFlatSignature): standardized IssueAdvisory()
	(finishModule): standardized IssueAdvisory()

	* mixfixParser.cc (parseTerm): standardized IssueWarning()
	(parseSentence): standardized IssueWarning()

	* entry.cc (addOpDeclaration): standardized IssueWarning()s

	* metaDown.cc (downFixUpBubble): standardized IssueAdvisory()
	(downSorts): standardized IssueAdvisory()
	(downSimpleSort): standardized IssueAdvisory()
	(downTerm): standardized IssueAdvisory()s
	(downVariable): standardized IssueAdvisory()

	* metaFastUp.cc (fastUpSort): standardized IssueAdvisory()

	* main.cc (main): standardized IssueWarning()

	* lexerAux.cc (handleEof): pass lineNr arg to includeFile()

	* main.cc (main): pass lineNr arg to includeFile()

	* top.y: pass lineNr arg to includeFile()

	* lexerAux.hh (eatComment): updated decl for includeFile()

	* lexerAux.cc (includeFile): take lineNr arg; standardized
	IssueWarning()s

	* importTranslation.hh (class ImportTranslation): use NO_COPYING()
	macro

	* fileTable.hh (class FileTable): use NO_COPYING() macro

	* metaDown.cc (downFixUps): check that identity is in the correct
	component

	* mixfixModule.cc (~MixfixModule): only self destrcut special
	terms that actually exist

	* fixUp.cc (fixUpSymbols): extensive use of FIX_UP_FAILED macro in
	an attempt to make specials slightly more robust

	* preModule.cc (PreModule): init isCompiled

	* ops.cc (makeOpDeclsConsistent): fixed bug where we were trying
	to delete op decls beyond start be vector

	* execute.cc (match): print maxNrSolutions if != UNBOUNDED

	* preModule.hh (Parent): added decl for printMatchTiming()

	* execute.cc (printMatchTiming): added

	* preModule.hh (Parent): added decl for printStats(), updated decl
	for printTiming(), deleted decl for printTiming2()

	* compiler.cc (creduce): use printTiming() rather than
	printTiming2()

	* execute.cc (beginRewriting): always set timers as showStats and
	showTiming flags could be changed during rewriting
	(doLoop): always set timers as showStats and showTiming flags
	could be changed during rewriting
	(match): reorganized; call printMatchTiming();
	(printStats): adapted from old printTiming()
	(printTiming2): renamed to printTiming()
	(endRewriting): use printStats()
	(doLoop): use printStats()

2000-03-15  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (fixUpDonatedOps): use copyFixUpBubbleSpec()

	* mixfixModule.hh (class MixfixModule): added decls for
	findBubbleSpec(), copyFixUpBubbleSpec(), copyBubbleSpec()

	* mixfixModule.cc (findBubbleSpec): added
	(copyFixUpBubbleSpec): added
	(copyBubbleSpec): added

	* importModule.cc (donateOps): use copyBubbleSpec()

	* mixfixParser.cc (parseTerm): don't print term in "no parse for
	term" message (original code didn't work anyway because end was
	usually DEFAULT = -1)

	* preModule.hh (Parent): added decl for contLoop2()

	* execute.cc (loop): copy sucesfully parsed subject to
	savedLoopSubject
	(contLoop2): added
	(contLoop): rewritten using contLoop2() and savedLoopSubject

	* preModule.hh (Parent): added static data member savedLoopSubject

	* importTranslation.cc (translate): init importerVersion = 0; use
	flags rather than dynamic_cast<>s

	* metaFastUp.cc (fastUpSort): HACK to try and find non error sort
	to up in union sort case; fixes Delias problem

2000-03-14  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (findPrelude): handle case where executableName contains
	a full path name

	* fileTable.hh (class FileTable): added AUTOMATIC to enum
	SpecialLineNumbers

	* main.cc (findPrelude): output FileTable::AUTOMATIC as line
	number of warning

	* top.y: save line number for findFile() before calling
	eatComment() (both places)

	* main.hh: updated findFile() decl

	* top.y: pass lineNumber to findFile() (both places)

	* lexerAux.cc (handleEof): pass COMMAND_LINE to findFile()

	* main.cc (findFile): take line number argument

	* fileTable.cc (printLineNumber): handle COMMAND_LINE

	* fileTable.hh (class FileTable): added COMMAND_LINE to
	enum SpecialLineNumbers

	* quotedIdentifierOpSymbol.cc (eqRewrite): simplified using C++
	strings rather than C strings

	* token.cc (dotNameCode): simplified using C++ strings rather than
	C strings

	* metaFastUp.cc (fastUpTerm): (both versions) simplified using
	quoteNameCode() 

	* bufferPrint.cc (prettyPrint): use quoteNameCode()

	* token.hh (class Token): added decl for quoteNameCode()

	* token.cc (quoteNameCode): added

	* bufferPrint.cc (prettyPrint): simplified using C++ strings
	rather than C strings

	* mixfixModule.cc (instantiateSortTest): simplified using C++
	strings rather than C strings

	* directoryManager.cc (realPath): code cleaning
	(realPath): get find(value, stratIndex) args around the right way

2000-03-13  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.hh (class DirectoryManager): deleted static
	data member buffer
	(class DirectoryManager): updated decls for cd() and pushd()

	* directoryManager.cc (cd): take C++ string
	(pushd): take C++ string
	(initialize): use local buffer

	* top.y: use realPath() for "cd" and "pushd" commands

	* lexerAux.cc (includeFile): rewritten
	(handleEof): rewritten

	* top.y: rewrite "in" and "load" commands in terms of new
	findFile() and includeFile()

	* main.cc (findPrelude): rewritten
	(main): use new findPrelude() and includeFile() conventions

	* main.hh: added decl for findPrelude() and findFile()

	* main.cc (findPath): deleted
	(findFile): rewritten

	* directoryManager.cc (checkAccess): added hack to deal with
	missing compare() functions in GNU C++ stdlib

	* directoryManager.hh (class DirectoryManager): updated decl for
	realPath(), added decl for checkAccess() and searchPath()

	* directoryManager.cc (realPath): completely rewritten using C++
	strings
	(checkAccess): added
	(searchPath): added

2000-03-07  Steven Eker  <eker@goo.csl.sri.com>

	* main.hh: added decl for findFile()

	* main.cc (findFile): added

	* execute.cc: change init value for counters to 0us; this might
	avoid the strange results we see on linux

2000-03-06  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downModule): call closeFixUps()

	* process.cc (process): call closeFixUps()

	* mixfixParser.cc (makeStatement): fixed bug where we weren't
	setting line number for conditional equations

	* execute.cc (beginRewriting): call clearMemo() if autoClearMemo
	(endRewriting): no longer call clearMemo()

	* commands.y: call setAutoClearMemo()

	* preModule.hh (Parent): added static data member autoClearMemo
	(setAutoClearMemo): added
	(Parent): added decl for setAutoClearMemo()

	* execute.cc (endRewriting): call clearMemo() if autoClearMemo
	flag set
	(endRewriting): call clearMemo() if autoClearMemo flag set

	* command.cc (loseFocus): call clearMemo();

2000-03-03  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for
	newFancySymbol()

	* entry.cc (newFancySymbol): added
	(addOpDeclaration): greatly simplified using newFancySymbol

	* main.cc (main): deleted old auto wrap code

	* interact.cc (displayPrompt): call resetCursor();

	* mixfix.hh: added class AutoWrapBuffer

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decls for setAutoWrap() and static data members wrapOut and
	wrapErr

	* main.cc (main): call setAutoWrap()

	* interact.cc (setAutoWrap): added

	* autoWrapBuffer.cc (resetCursor): added

	* autoWrapBuffer.hh (class AutoWrapBuffer): added decl for
	resetCursor();

	* metaModuleCache.cc (insert):  don't economize former LRU module
	after all; the fragmentation from constantly regenerating parsers
	seems to be worse than keeping old parsers around
	(moveToFront): don't economize former LRU module after all

	* mixfixModule.cc (makeBubbleProductions): fix bubble bug:
	don't modify original excludedTokens; instead use temporary
	vector; this is because we need the original values if we have to
	rebuild the parser, or if we ever allow bubbles to be imported

2000-03-02  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	use NO_COPYING() macro

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	use NO_COPYING() macro

	* quotedIdentifierTerm.hh (class QuotedIdentifierTerm): use
	NO_COPYING() macro

	* quotedIdentifierDagNode.hh (class QuotedIdentifierDagNode): use
	NO_COPYING() macro

	* metaModule.hh (class MetaModule): use NO_COPYING() macro

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): use NO_COPYING()
	macro

	* loopSymbol.hh (class LoopSymbol): use NO_COPYING() macro

	* metaLevel.hh (class MetaLevel): use NO_COPYING() macro

	* autoWrapBuffer.hh (class AutoWrapBuffer): use NO_COPYING() macro

	* lexerAux.cc (handleEof): read pending files in silent mode

	* fileTable.cc (FileTable): added in order to initialize
	firstSilent

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	deleted decl for beginModule()

	* interact.cc (beginModule): deleted

	* modules.y: don't call UserLevelRewritingContext::beginModule()
	(2 places)

	* fileTable.cc (beginModule): print module name & line of =s here
	if we are inside an in'd file and no in silent mode

	* lexerAux.cc: deleted firstSilent global variable
	(cleanUpLexer): don't use firstSilent
	(includeFile): don't use firstSilent or call
	UserLevelRewritingContext::setSilentFlag(true); pass silent arg to
	openFile()
	(handleEof): don't use firstSilent or call
	UserLevelRewritingContext::setSilentFlag(true)
	(cleanUpLexer): don't call
	UserLevelRewritingContext::setSilentFlag(false)

	* fileTable.hh (class FileTable): added data member firstSilent
	(class FileTable): updated decl for openFile()

	* fileTable.cc (openFile): take silent argument; set firstSilent
	if neccessary; don't print "Reading..." message if in silent mode
	(closeFile): don't print "Done..." message if in silent mode; set
	firstSilent to NONE if we just close the first silent file
	(abortEverything): set firstSilent to NONE if we had files to
	close

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	deleted static data member silentFlag
	(setSilentFlag): deleted
	(class UserLevelRewritingContext): deleted decl for
	setSilentFlag()

	* interact.cc: deleted silentFlag
	(beginModule): don't check silentFlag

2000-03-01  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added load directive

	* modules.y: added KW_LOAD to startKeyword

	* top.y: added decl for KW_LOAD

	* lexer.flex: added KW_LOAD

	* lexerAux.cc (handleEof): update use of includeFile()

	* main.cc (main): update decl and use for includeFile()

	* lexerAux.hh: update decl of includeFile()

	* top.y: update decl and use for includeFile()

	* lexerAux.cc: added global variable firstSilent()
	(cleanUpLexer): set firstSilent = NONE;
	(includeFile): take silent arg and call setSilentFlag() and set
	firstSilent when neccessary
	(handleEof): handle firstSilent

	* compiler.cc (makeBaseName): nasty hack because string streams
	are not yet supported in GNU libstdc++

	* quotedIdentifierOpSymbol.cc (eqRewrite): replace sprintf() with
	ostrstream; should use ostringstream

	* interact.cc (commandLoop): use new makeBaseName() result

	* preModule.cc (regretToInform): use new makeBaseName() result

	* compiler.cc (fullCompile): use new makeBaseName() result
	(outputGraph): use new makeBaseName() result
	(inputGraph): use new makeBaseName() result
	(creduce): use new makeBaseName() result

	* preModule.hh (Parent): updated decl for makeBaseName()

	* compiler.cc (makeBaseName): rewritten using C++ strings and
	string streams

	* top.y: simplify "ls" command code using C++ strings

	* lexer.flex: use yyless() in STRING_MODE so that line number will
	be correct in null string case

	* top.y: added token decl for KW_LATEX

	* modules.y: added KW_LATEX to attrKeyword

	* lexer.flex: added KW_LATEX

	* modules.y: removed NUMBER_TOK from alternatives for token and
	tokenBarDot since these should never be generated while lexer in
	ID_MODE and token/tokenBarDot are never used outside of ID_MODE;
	Added syntax for latex attribute

2000-02-29  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.hh (class ImportModule): use NO_COPYING() macro

	* mixfixModule.hh (class MixfixModule): use NO_COPYING() macro

	* metaModuleCache.cc (moveToFront): economize former LRU module
	(insert): economize former LRU module

	* metaModuleCache.hh (Parent): use NO_COPYING() macro

	* mixfixModule.hh (getGather): rewritten using revertGather(),
	made inline and moved here
	(class MixfixModule): updated decl for getGather()

	* importModule.cc (donateOps): use new getGather() interface

	* entry.cc (addPolymorph): print line number in new prec/gather
	warnings
	(addOpDeclaration): print line number in new prec/gather
	warnings

	* mixfixModule.cc (revertGather): added
	(copyPolymorph): use revertGather(); set symbolInfo.next = NONE

	* mixfixModule.hh (class MixfixModule): added decl for
	revertGather()

2000-02-28  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addPolymorph): set symbolInfo.next = NONE

	* mixfixModule.cc (copyPolymorph): do a deep copy of SymbolInfo
	rather than copying members

	* entry.cc (addPolymorph): if PREC or GATHER flags are set for
	an operator without mixfix syntax, give a warning and clear them

	* command.cc (parse): fixed memory leak by deleting parsed term

	* entry.cc (addOpDeclaration): if PREC or GATHER flags are set for
	an operator without mixfix syntax, give a warning and clear them

2000-02-25  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): updated decl for printBubble()

	* execute.cc (printBubble): fixed bug where we weren't passing
	Vector arg by ref
	
===================================Engine56==================================================

2000-02-24  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (commandLoop): added hack to unlink executable
	whether or not we made one; rely on OS for now...

	* compiler.cc (makeExecutable): rewritten using isCompiled flag

	* preModule.cc (regretToInform): clear isCompiled and unlink
	executable if it is set

	* preModule.hh (Parent): added data member isCompiled

	* compiler.cc (makeExecutable): now return bool to say whether we
	succeeded
	(creduce): don't both trying to run executable if makeExecutable()
	return false
	(fullCompile): unlink gernrated .hh and .cc files
	(inputGraph): unlink .in and .out files

	* preModule.hh (Parent): updated decls for fullCompile() and
	makeExecutable()

	* compiler.cc (fullCompile): added code to generate inFileName and
	outFileName
	(outputGraph): more here; use makeBaseName()
	(depthFirstTraversal): moved here
	(inputGraph): more here; use makeBaseName()
	(fullCompile): now return bool to say whether we succeeded

	* preModule.cc (generateEval): deleted

	* compiler.cc (makeBaseName): added
	(fullCompile): use makeBaseName()
	(creduce): use makeBaseName()

	* preModule.hh (Parent): added decl for makeBaseName()

2000-02-23  Steven Eker  <eker@goo.csl.sri.com>

	* compiler.cc (creduce): use printTiming2()
	(fullCompile): use STL string class to build compilation command
	by looking at environment

	* preModule.hh (Parent): updated decl for inputGraph()

	* preModule.cc (inputGraph): pass back cpu and real time as
	microseconds in 64bit ints

	* compiler.cc (creduce): rewritten using makeDag() and
	makeExecutable()

	* preModule.hh (Parent): added decl for printTiming2(), updated
	decl for printTiming(), added decl for makeExecutable()

	* execute.cc (printTiming2): added
	(printTiming): rewritten using printTiming2() and using 64bit ints
	to hold number of microseconds rather than 32bit ints to hold
	number of milliseconds
	(printTiming): take number of rewrites rather than context
	(doLoop): use new printTiming() convention
	(endRewriting): use new printTiming() convention

	* compiler.cc (makeExecutable): added

	* execute.cc (match): completely rewritten; much simplified; now
	call protect() and unprotect() since computeTrueSort() and solve()
	may do rewriting, which if we were incredibly unlucky could end up
	in the debugger, allowing the user to to enter a module that
	invalidates the module we are matching in
	(printTiming): result and result2 no longer static

2000-02-22  Steven Eker  <eker@goo.csl.sri.com>

	* execute.cc (match): moved here
	(match): use makeDag() to preprocess subject

	* compiler.cc (creduce): moved here

	* preModule.hh (Parent): deleted members importSymbol,
	importPolymorphIndex and importOriginator from struct OpDecl
	(Parent): NO_DEFAULTS() -> NO_COPYING()

	* metaLevelOpSymbol.cc (metaReduce): call protect() and
	unprotect()
	(metaRewrite): call protect() and unprotect()
	(metaApply): call protect() and unprotect()

	* metaLevel.hh (class MetaLevel): updated decl for downModule()

	* metaDown.cc (downModule): return ImportModule* rather than
	MixfixModule*

	* execute.cc (doLoop): call protect() and unportect()
	(loop): pass module arg to doLoop()
	(contLoop): pass module arg to doLoop()
	(printTiming): decl for result and result2 moved here

	* importModule.cc (unprotect): return true if unprotect() call
	results in the module being deleted
	(ImportModule): initialize protectCount to 0

	* preModule.hh (Parent): updated decl for beginRewriting() and
	endRewriting()

	* execute.cc (endRewriting): take module arg; call unprotect();
	clear saved if we had a traceAbort, or unprotect() deleted module
	(beginRewriting): call protect()
	(reduce): pass module arg to beginRewriting() and endRewriting()
	(rewrite): pass module arg to beginRewriting() and endRewriting()
	(cont): pass module arg to beginRewriting() and endRewriting()

	* metaDown.cc (downModule): call localStatementsComplete()

	* importModule.hh (class ImportModule): added decls for protect()
	and unprotect()

	* importModule.cc (unprotect): added
	(deepSelfDestruct): if we have a > 0 protectCount, mark as DOOMED,
	rather than doing the delete

	* importModule.hh (class ImportModule): added data member protect count
	(protect): added

2000-02-21  Steven Eker  <eker@goo.csl.sri.com>

	* commands.y: added set show loop timing and set show loop stats commands

	* preModule.hh (setShowLoopTiming): added
	(setShowLoopStats): added
	(Parent): added decls for setShowLoopTiming() and
	setShowLoopStats()

2000-02-18  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (Parent): added decl for printTiming()

	* execute.cc (printTiming): added; use all integer arithmetic for
	more stable results
	(endRewriting): use printTiming()
	(doLoop): use printTiming()

	* preModule.hh (Parent): added decl for doLoop(); added static
	data members showLoopStats and showLoopTiming

	* execute.cc (endLoop): added
	(contLoop): simplified using endLoop()
	(loop): simplified using endLoop()
	(endLoop): use dynamic_cast to figure out if we have a LoopSymbol
	since out flat module is no longer reliable (if it got replaced
	during debug)
	(contLoop): rewritten, use dynamic_cast to figure out if we have a
	LoopSymbol
	(startLoop): added
	(contLoop): simplified using startLoop()
	(loop): simplified using startLoop()
	(doLoop): replaces startLoop() and endLoop()
	(loop): use doLoop()
	(contLoop): use doLoop()

	* preModule.hh (Parent): added decls for beginRewriting(),
	endRewriting() and makeDag()

	* execute.cc (beginRewriting): added
	(endRewriting): added
	(reduce): moved here, rewritten using beginRewriting() and
	endRewriting()
	(rewrite): moved here, rewritten using beginRewriting() and
	endRewriting()
	(cont): moved here, rewritten using beginRewriting() and
	endRewriting()
	(makeDag): added
	(reduce): simplified using makeDag()
	(cont): simplified
	(rewrite): simplified using makeDag()
	(loop): simplified using makeDag()

	* importModule.cc (donateStatements): put line numbers into
	statement copies

2000-02-17  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: added keywords ctor = constructor

	* top.y: added decl for KW_CTOR

	* modules.y: added KW_CTOR

	* metaLevelSignature.cc (MACRO): added macro for ctorSymbol

	* metaDown.cc (downAttr): ignore ctorSymbol in attribute list

	* prelude.maude: added ctor constant to META-LEVEL

	* metaLevelOpSymbol.cc (metaParse): fixed memory leak by calling
	deepSelfDestruct() on term obtained from parsing

	* command.cc (loseFocus): moved here
	(loseFocus): clear saved to fix contLoop bug
	(selectModule): no need to clear saved here now
	(loseFocus): call reset() on flatModule
	(creduce): don't call reset()
	(reduce): don't call reset()
	(rewrite): don't call reset()
	(cont): don't call reset()
	(loop): don't call reset()
	(contLoop): don't call reset()
	(rewrite): fixed memory leak by calling deepSelfDestruct() on
	subject term
	(loop): fixed memory leak by calling deepSelfDestruct() on
	subject term

	* preModule.hh (Parent): regretToInform() decl made private
	(Parent): use NO_DEFAULTS() macro

	* metaModuleCache.hh (Parent): derivation has to be public

	* metaDown.cc (downModule): pass cache as parent

	* metaModule.cc (MetaModule): pass parent arg to ImportModule

	* metaModule.hh (class MetaModule): added parent arg to ctor

	* metaModuleCache.hh (Parent): added decls for Pair::clear() and
	regretToInform()

	* metaModuleCache.cc (clear): added
	(regretToInform): added
	(flush): use clear()
	(insert): use clear()

	* metaModuleCache.hh (Parent): have private base
	ImportModule::Parent
	(Parent): added decl for regretToInform()

	* preModule.hh (Parent): updated decl for regretToInform()

	* preModule.cc (regretToInform): use doomedModule arg

	* importModule.cc (deepSelfDestruct): have regretToInform() pass
	back pointer to doomed module for the beefit of parents that have
	multiple children

	* preModule.hh (loseFocus): use economize()

	* mixfixModule.hh (class MixfixModule): changed loseFocus() decl
	to economize()

	* mixfixModule.cc (loseFocus): renamed to economize()

	* metaModuleCache.cc (insert): added DebugAdvisoryCheck()

2000-02-16  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downModule): use new cache data member

	* metaLevel.cc (~MetaLevel): no longer delete cacheModule since
	this data member has been replaced
	(MetaLevel): no longer initialize cachedModule
	(reset): flush the cache; don't reset defunct data members

	* metaLevel.hh (class MetaLevel): use MetaModuleCache

	* metaModuleCache.hh: created

	* metaModuleCache.cc: created

	* fixUp.cc (fixUpSymbols): moved here
	(findHookSymbol): moved here
	(findHook): moved here

	* process.cc (process): moved here

	* search.cc (search): call getFlatModule()

	* preModule.cc (generateEval): use getFlatSignature()
	(inputGraph): use getFlatSignature()

	* compiler.cc (fullCompile): don't look at flatModule to get name
	of module for advisory
	(fullCompile): use getFlatModule()

2000-02-14  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (PreModule): don't pass type arg to NamedEntity

	* import.cc (importModule): added call to loseFocus() on imported
	module to make sure any parser we might have made by importing it
	is deleted; this is a bit of a hack - need a cleaner method

	* importModule.cc (removeDependent): added DebugAdvisoryCheck()

	* import.cc (processImports): use autoImports rather than defaultImports
	(importModule): added
	(processImports): use importModule()

	* preModule.cc (finishModule): set autoImports

	* preModule.hh (class PreModule): added data member autoImports

	* preModule.cc (getFlatSignature): use this rather than moduleName
	(finishModule): use id() rather than moduleName; use this rather
	than moduleName
	(process): use id() rather than moduleName

	* command.cc (showModule): use this rather than moduleName

	* preModule.cc (PreModule): initialize NamedEntity base

	* preModule.hh (class PreModule): derive from NamedEntity; deleted
	data member moduleName

	* import.cc (processImports): check for null flat module and issue
	recursive import warning (2 places)

	* preModule.cc (getFlatSignature): don't return pointer to flatten
	module that is still being processed; this can only happen because
	of a recursive import

2000-02-11  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (deepSelfDestruct): no longer use DOOMED state;
	let a module remove itself from all dependent lists but take this
	into account when traversing dependent lists

	* preModule.cc (process): need to pass pointer to us to
	ImportModule ctor!

	* preModule.hh (loseFocus): check to be sure flatModule != 0

	* preModule.cc (process): call localStatementsComplete()

	* importModule.hh (class ImportModule): added decl for
	localStatementsComplete()

	* importModule.cc (localStatementsComplete): added as a nasty hack
	to overcome initialization problem
	(importStatements): no longer set nrOriginal* here

	* preModule.cc (finishModule): set isCompleteFlag

	* command.cc (parse): use getFlatSignature()
	(creduce): use getFlatModule()
	(reduce): use getFlatModule()
	(loop): use getFlatModule()
	(cont): use getFlatModule()
	(contLoop): use getFlatModule()
	(selectModule): use getFlatSignature()
	(match): use getFlatSignature()
	(showModule): use moduleName and moduleType

	* preModule.cc (PreModule): clear isCompleteFlag

	* preModule.hh (class PreModule): added decl for isComplete()
	(class PreModule): added data member isCompleteFlag
	(isComplete): added

	* bottom.y (cleanUpParser): use isComplete()

	* commands.y: use getFlatSignature() in places where we don't need
	the statements

	* metaDown.cc (downImport): use getFlatSignature()

	* import.cc (processImports): rewritten, using closeSignature()

	* preModule.cc (PreModule): call deepSelfDestruct()
	(finishModule): added
	(process): create ImportModule
	(process): don't import statements or close theory

	* preModule.hh (class PreModule): derive from ImportModule::Parent

	* preModule.cc (getFlatModule): moved here
	(getFlatSignature): created
	(PreModule): don't create ImportModule, initialize LineNumber,
	moduleName and moduleType

	* preModule.hh (class PreModule): derive from LineNumber
	(class PreModule): added moduleName and moduleType data members
	(class PreModule): added decl for getFlatSignature();
	getFlatModule() no longer const

	* symbolTranslation.hh: deleted

	* symbolTranslation.cc: deleted

	* metaModule.cc: deleted obsolete imporation code

2000-02-10  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (PreModule): delete init of importPhase

	* importModule.cc (deepSelfDestruct): status -> importPhase

	* importModule.hh (class ImportModule): DOOMED moved from enum
	Status to enum Phase; enum Status deleted
	(class ImportModule): data member status deleted

	* preModule.hh (class PreModule): deleted tons of old import decls

	* preModule.cc: deleted old versions of process() and
	nativeCompile()

	* import.cc: deleted tons of old import code

	* metaModule.hh (addImport): deleted

	* metaDown.cc (downImport): use new importation conventions

	* preModule.hh (getFlatModule): return ImportModule*
	(class PreModule): updated decl for getFlatModule()

	* metaDown.cc (downModule): use new importation conventions

	* metaModule.cc (MetaModule): init ImportModule

	* metaModule.hh (class MetaModule): derive from ImportModule;
	delete out all importation decls; all import functionality purged
	from file

2000-02-09  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (getGather): move here; now do conversion from
	internal rep to interface rep

	* importTranslation.cc (translate): handle sort test symbols

	* mixfixModule.cc (copyPolymorph): must translate sorts!

2000-02-08  Steven Eker  <eker@goo.csl.sri.com>

	* importTranslation.cc (translate): treat variables specially
	since we know they will be invisible in importer
	(translate): fixed bug in domain component traslation

	* mixfixModule.hh (class MixfixModule): added decl for
	findInvisibleVariable()

	* mixfixModule.cc (findInvisibleVariable): added

	* entry.cc (addOpDeclaration): add invisible symbols to linked
	list just like normal symbols; don't check for overloading between
	an invisible symbol an any other symbol

	* importModule.cc (donateOps): make imported variables invisible

	* process.cc (processOps): commented out what appears to be a
	sperfluous call to setLineNumber()

	* importModule.cc (donateOps): fixed no common ancestor warning
	bug for ops with > 1 decl
	(donateOps): set prec correctly

	* import.cc (processImports): rewritten to use ImportModule

	* importModule.cc (importStatements): set
	nrOriginalMembershipAxioms, nrOriginalEquations and
	nrOriginalRules

	* importModule.hh (class ImportModule): added decls for
	resetImports() and resetImportPhase()

	* importModule.cc (resetImports): added
	(resetImportPhase): added

	* preModule.cc (PreModule): use ImportModule
	(process): rewritten using ImportModule

	* mixfix.hh: added class ImportModule and class ImportTranslation

	* importModule.hh (class ImportModule): added decl for addImport()

	* importModule.cc (fixUpDonatedOps): handle polymorphs
	(addImport): added

	* importModule.hh (class ImportModule): added data members
	nrImportedPolymorphs and firstPolymorphCopy

	* importModule.cc (donateOps): handle polymorphs

2000-02-07  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decls for
	copyPolymorph(), getNrPolymorphs()
	(getNrPolymorphs): added

	* mixfixModule.cc (copyPolymorph): added

	* mixfix.hh: added forward decl for class LoopSymbol

	* importModule.hh (class ImportModule): added decls for
	fixUpImportedOps() and fixUpDonatedOps()

	* importModule.cc (fixUpImportedOps): added
	(fixUpDonatedOps): added

	* mixfixModule.hh (getPrec): added
	(getGather): added
	(class MixfixModule): made getFlags() const

	* importModule.hh (class ImportModule): added decls for
	importOps() and donateOps(); added data member
	responsibleForFixUp()

	* importModule.cc (donateOps): rewritten using nrImportedDecls[]
	and nrUserDecls[]

2000-02-04  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc (donateStatements): added
	(importStatements): added

	* importTranslation.cc: created

	* importTranslation.hh: created

	* importModule.cc (buildTranslationTable): deleted
	(insertTranslations): deleted

2000-02-03  Steven Eker  <eker@goo.csl.sri.com>

	* importModule.cc: added DEBUG_ADVISORY()

2000-02-02  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (process): fixed missing & bug which cause us to
	copy sort vector rather than take a reference

	* importModule.hh: created

	* importModule.cc: created

2000-02-01  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: make q a synonym for even inside module

	* top.y: make quit work correctly inside of module

	* ops.cc (makeOpDeclsConsistent): handle the no defs, no decls
	case correctly by doing nothing

	* lexer.flex: added q as a synonym for quit but only on the
	in command mode

2000-01-31  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (inputGraph): set sort index of top dag node

2000-01-27  Steven Eker  <eker@goo.csl.sri.com>

	* compiler.cc (fullCompile): call generateSortVector() on each
	sort
	
===================================Engine55==================================================

1999-12-20  Steven Eker  <eker@goo.csl.sri.com>

	* compiler.cc (fullCompile): handle compileCount flag

	* command.cc (creduce): handle compileCount flag

	* preModule.hh (class PreModule): added decl for setCompileCount()
	(setCompileCount): moved here

	* command.cc (setCompileCount): added

	* lexer.flex: added keywords compile and count

	* top.y: added tokens for compile and count

	* commands.y: added set compile count on/off command

1999-12-07  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: recognize "." as a "." in command mode if followed
	by eather "***" or "---" as well as "\n". this enable us to handle
	commands with comments on their ends correctly

	* interact.cc (setHandlers): pass bus errors to segmentation fault
	handler as a stop gap; don't bother setting up an alternative
	signal stack since there does seem to be a reliable way to
	distinguish between stack overflows and normal seg faults

1999-12-06  Steven Eker  <eker@goo.csl.sri.com>

	* trial.cc (traceBeginEqTrial): use dontTrace()
	(traceBeginRuleTrial): use dontTrace()
	(traceBeginScTrial): use dontTrace()

	* preModule.hh (class PreModule): added decl for traceExclude()

	* command.cc (traceExclude): added

	* top.y: added nonterminal exlcude and toekn KW_EXCLUDE

	* commands.y: added syntax for trace exclude/include

	* userLevelRewritingContext.cc (tracePreEqRewrite): use dontTrace()
	(tracePreRuleRewrite): use dontTrace()
	(tracePreScApplication): use dontTrace()
	(excludeModules): added

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added static data member excluded
	(dontTrace): added
	(class UserLevelRewritingContext): added decl for dontTrace()

1999-12-03  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.cc (reset): check to see that metaLevel != 0
	since we can rely on our symbol having been fixed up when we're
	called (say because of deletion of an incompletely built meta
	module)
	(MetaLevelOpSymbol): initialize shareWith amd metaLevel so their
	in safe states for deletion and reset()

1999-11-08  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for fullCompiler

1999-11-05  Steven Eker  <eker@goo.csl.sri.com>

	* compiler.cc: created

1999-11-04  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (setHandlers): HACK for alpha in
	!defined(_XOPEN_SOURCE_EXTENDED) case

	* preModule.cc (nativeCompile): added Alpha case; removed absolute
	paths from other cases

1999-11-02  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (findPath): added

1999-11-01  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (int64ToString): added special case for INT64_MIN to
	ensure we don't rely on the implementation of % and / on negative
	64 bit integers

1999-10-29  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downAttr): handle Int64 in prec

	* metaLevelOpSymbol.cc (metaRewrite): almost do Int64 right
	(metaApply): almost do Int64 right

	* quotedIdentifierOpSymbol.cc (eqRewrite): use Token::codeToInt64()
	(eqRewrite): use int64ToString()

	* metaFastUp.cc (fastUpTerm): (both versions), use
	Token::int64ToString()

	* entry.cc (addOpDeclaration): use Token::codeToInt64()

	* mixfixModule.hh (class MixfixModule): overloadedMachineIntegers
	is now a set<Int64>

	* bufferPrint.cc (prettyPrint): handle 64 bit machine ints
	correctly

	* prettyPrint.cc (prettyPrint): (both versions), handle 64 bit
	machine ints correctly

	* token.cc (codeToInt64): added
	(int64ToString): added

	* token.hh (class Token): added decls for codeToInt64() and
	int64ToString()

	* mixfixParser.cc (makeTerm): use Token::codeToInt64()

	* metaDown.cc (downMachineIntList): cast Int64 to int before
	making list

	* metaLevel.hh (class MetaLevel): updated decl for downMachineInt()

	* metaDown.cc (downMachineInt): int -> Int64
	(downTerm): use Token::codeToInt64()

	* prettyPrint.cc (printAttributes): use
	dynamic_cast<StandardSymbol*>() before checking for strategy; handle
	memo
	(printAttributes): removed dynamic_cast<StandardSymbol*>()

	* main.cc (findPrelude): rindex() -> strrchr()

	* lexerAux.cc (includeFile): rindex() -> strrchr()

	* directoryManager.cc (realPath): index() -> strchr() (*2)
	
===================================Engine53==================================================

1999-10-26  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (setHandlers): added code to catch segmentation faults

	* prettyPrint.cc (showOps): VariableSymbol::dynamicCast() ->
	dynamic_cast<VariableSymbol*>
	(showVars): VariableSymbol::dynamicCast() ->
	dynamic_cast<VariableSymbol*>
	(printAttributes): use dynamic_casts()s rather than comparisons on
	theory strings
	(printAttributes): use variable decls inside of ifs

	* entry.cc (addOpDeclaration): updated calls to AU_Symbol,
	ACU_Symbol and CUI_Symbo to pass memo flags

1999-10-25  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.cc: take extra argument, handle memo
	table case

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for tracePreEqRewrite()

	* quotedIdentifierOpSymbol.cc (eqRewrite): updated 3 calls to
	tracePreEqRewrite()

1999-10-22  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: recognize memo in INITIAL as well as ID_MODE;
	recognize do and clear

	* top.y: added tokens KW_DO KW_CLEAR

	* commands.y: added do clear memo command
	added syntax for 

	* entry.cc (addOpDeclaration): support memo for free symbols

1999-10-19  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (struct hashDagNode): added
	(search): try using hash_set instead of set
	(struct dagNodeEq): added
	(search): try using DagNodeSet instead of hash_set

	* quotedIdentifierDagNode.cc (getHashValue): added

	* quotedIdentifierDagNode.hh (class QuotedIdentifierDagNode):
	added decl for getHashValue()

1999-10-14  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (operator<<): (Term* and DagNode* versions); hack
	removed

	* bufferPrint.cc (bufferPrint): hack removed

	* mixfixModule.cc (loseFocus): no longer inline
	(closeSignature): added in order to compute pretty print info
	whether or not we generate a parser
	(makePolymorphProductions): don't call computePrecAndGather()
	(makeSymbolProductions): don't call computePrecAndGather()

	* mixfixModule.hh (class MixfixModule): added decl for closeSignature()

	* prettyPrint.cc (operator<<): (Term* and DagNode* versions); call
	makeGrammar() as a HACK to set up gather info
	
===================================Engine52==================================================

1999-10-07  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added ADVISE as a token

	* lexer.flex: added advise keyword

	* commands.y: added syntax for set show advise on/off

1999-10-06  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (bufferPrint): call makeGrammar() as a HACK to
	set up gather info

1999-10-04  Steven Eker  <eker@goo.csl.sri.com>

	* banner.cc (printBanner): long -> time_t

1999-09-01  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (nativeCompile): #ifdef'd system args to do the
	best compile for solaris and linux

1999-08-27  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (makeSymbolProductions): don't add productions
	for any polymorph instances that happen to exists at this moment

	* modules.y: call loseFocus() for old module when new module is
	created

	* command.cc (selectModule): call loseFocus() for old module

	* mixfixModule.cc (loseFocus): added

	* mixfixModule.hh (class MixfixModule): added decl for loseFocus()

	* preModule.hh (class PreModule): added decl for loseFocus()
	(loseFocus): added

1999-08-26  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence): do makeGrammar() first thing
	so that tokens will be set up

	* metaDown.cc (downModule): don't call makeGrammar()

	* mixfixModule.hh (class MixfixModule): added decl for insertLabels()

	* preModule.cc (process): call insertLabels() rather than makeGrammar()

	* mixfixModule.cc (makeGrammar): don't pass labels argument to
	makeLabelProductions()

	* mixfixModule.hh (class MixfixModule): makeGrammar() becomes
	private and loses arg; makeLabelProductions() loses arg;

	* mixfixModule.cc (makeGrammar): no longer take labels arg
	(makeLabelProductions): no longer take labels arg

	* mixfixModule.hh (insertLabels): added
	(class MixfixModule): added data member labels

	* mixfixParser.cc (parseSentence): call makeGrammar() if parser is null

	* mixfixModule.cc (makeGrammar): parser = new Parser
	(MixfixModule): parser = 0
	(~MixfixModule): delete parser

	* mixfixParser.cc (insertProd): deref parser
	(parseTerm): deref parser (2 places)
	(makeCommand): deref parser (5 places)
	(parseSentence): deref parser (3 places)
	(makeTerm): deref parser (many places)
	(makeCondition): deref parser (many places)
	(makeStatement): deref parser (many places)

	* mixfixModule.cc (makeBubbleProductions): deref parser

	* mixfixModule.hh (class MixfixModule): paser data member is now a
	pointer to a parser

1999-08-10  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downEquations): handle to handle AU equation sets

	* metaLevelSignature.cc (MACRO): equationSetSymbol made just a
	Symbol so it can either be ACU or AU (for MOS!), removed need comm
	attribute

1999-08-05  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for dagNodeLt()

	* search.cc (search): don't make initial UserLevelRewritingContext
	automatic; allocate it on the heap like all the others
	(search): delete all the UserLevelRewritingContexts we create
	(search): use STL set class template
	(dagNodeLt): added

1999-08-03  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): delete matching subproblem after we're done
	with it
	(search): delete patternAutomaton

	* top.y: for "in" directive we now have a call to eatComment() to
	swallow the \n and get the line number correct for the included
	file

1999-07-28  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): added decl for ~MetaLevel()

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	~MetaLevelOpSymbol()
	
===================================Engine51==================================================

1999-07-21  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (nativeCompile): make functions generated for pure
	constructors be inline

1999-07-19  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): updated decl for inputGraph()

	* command.cc (creduce): print number of rewrites and timing

	* preModule.cc (inputGraph): read in number of rewrites and timing

1999-07-16  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (nativeCompile): compile and link
	(nativeCompile): destroy ofstream objects before trying to compile
	to ensure that they are flushed
	(nativeCompile): issue advisory before compiling

	* command.cc (creduce): run executable

	* preModule.cc (generateEval): generate correct index for storing
	pointer to evaluated copy after last arg of original

1999-07-15  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (generateEval): get value for #define EVAL correct
	(nativeCompile): output decl for collectGarbage()

1999-07-14  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for generateEval()

	* preModule.cc: added
	(nativeCompile): call generateEval()

1999-06-29  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for inputGraph()

	* preModule.cc (nativeCompile): pass hfile to Symbol::generateCode()
	(inputGraph): added

	* command.cc (creduce): call outputGraph()

	* preModule.hh (class PreModule): added decls for outputGraph()
	and depthFirstTraversal();

	* preModule.cc (outputGraph): added
	(depthFirstTraversal): added

1999-06-28  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (process): don't call compileToC

	* preModule.hh (class PreModule): added decls for creduce() and
	nativeCompile()

	* preModule.cc (nativeCompile): adapted from compileToC()

	* command.cc (creduce): added

	* lexer.flex: added creduce keyword

	* top.y: declared KW_CREDUCE

	* commands.y: added syntax for creduce

	* preModule.cc (compileToC): generate arity table
	(compileToC): generate forward declarations

1999-06-14  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for compileToC()

	* preModule.cc (compileToC): added
	(process): call compileToC()

1999-06-10  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc: added #include <sys/ioctl.h> in LINUX case
	
===================================Engine50==================================================

1999-06-09  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (concealSymbols): added
	(prettyPrint): (DagNode* version) support print conceal
	added definitions for printConceal and concealed

	* mixfixModule.hh (class MixfixModule): added decls for
	setPrintConceal() and concealSymbols()
	(class MixfixModule): added static data member concealed
	(class MixfixModule): added static data member printConceal
	(setPrintConceal): added

	* preModule.hh (class PreModule): added decl for printConceal()

	* command.cc (printConceal): added

	* top.y: added tokens KW_CONCEAL, KW_REVEAL
	added type for conceal nonterminal

	* lexer.flex: added conceal, reveal keywords

	* commands.y: added syntax for
	print conceal foo .
	print reveal foo .
	set print conceal on/off .
	
===================================Maude 1.0.3 released=======================================

	* autoWrapBuffer.cc (sync): handle tabs
	(breakLine): handle tabs
	(overflow): handle tabs

	* autoWrapBuffer.hh (nextTabPosition): added

1999-06-04  Steven Eker  <eker@goo.csl.sri.com>

	* lexer.flex: use %option noyywrap and no longer link with lfl

	* prettyPrint.cc (graphPrint): handle ^C interrupt

	* command.cc (showModule): handle ^C interrupt

	* prettyPrint.cc (showRls): handle ^C interrupt
	(showEqs): handle ^C interrupt
	(showVars): handle ^C interrupt
	(showSorts): handle ^C interrupt
	(showOps): handle ^C interrupt
	(showAll): handle ^C interrupt

	* interact.cc (where): handle ^C interrupt

	* mixfixModule.hh (class MixfixModule): updated printTails() decl

	* prettyPrint.cc (prettyPrint): (DagNode*) version added checks
	for ^C interrupt (5 places)
	(printTails): added checkForInterrupt arg and ^C interrupt handling

	* autoWrapBuffer.hh (class AutoWrapBuffer): added decl for
	~AutoWrapBuffer()

	* autoWrapBuffer.cc (~AutoWrapBuffer): added

	* autoWrapBuffer.hh (class AutoWrapBuffer): deleted decl for
	flushPending(); updated decl for breakLine()

	* autoWrapBuffer.cc (flushPending): only set nrPending to
	UNDEFINED if we actually output something more tha a single space
	in order to preserve the break point
	(overflow): delete incorrect test in space case; need to do normal
	thing even after breakLine() since we may not have been able to
	break the line and therefore we can afford to lose the space char
	(sync): don't call flushBuffer()
	(breakLine): now do cursorPosition check here; return true if we
	inserted a new line
	(flushPending): deleted
	(overflow): don't call flushPending() in \n case

1999-06-03  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): handle case where window width is zero by
	defaulting to 80

	* autoWrapBuffer.cc (breakLine): support left margin
	(AutoWrapBuffer): support right margin
	(overflow): get break line test correct (2 places)

1999-06-02  Steven Eker  <eker@goo.csl.sri.com>

	* ops.cc (makeOpDeclsConsistent): added to handle clean up after
	syntax error. Idea is that after an addOpDecl() we either see
	a setDomainAndRange() or a statement level error which calls
	makeOpDeclsConsistent() or both (the setDomainAndRange() can never
	follow the error).

	* preModule.hh (class PreModule): added decl for makeOpDeclsConsistent()

	* modules.y: added call to makeOpDeclsConsistent() in error case

1999-05-28  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	counter made static

	* quotedIdentifierOpSymbol.cc (eqRewrite): reset counter here if
	'RESET is our arg
	(reset): don't reset count here
	(QuotedIdentifierOpSymbol): don't zero counter here

1999-05-27  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added MOS ORACLE to enum OpType

	* quotedIdentifierOpSymbol.cc (reset): clear MOS counter
	(fixUp): added code for MOS oracles
	(QuotedIdentifierOpSymbol): clear MOS counter
	(eqRewrite): added semantics for MOS oracles

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added MOS counter

1999-05-26  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.cc (sync): rewritten
	(breakLine): added
	(flushPending): added
	(overflow): rewritten
	(flushPending): added

1999-05-25  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.cc (xsputn): added
	(xsputn): rewritten for first approc at newline inserting

1999-05-20  Steven Eker  <eker@goo.csl.sri.com>

	* autoWrapBuffer.hh: created

	* autoWrapBuffer.cc: created

1999-05-19  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): print timing and number of states

1999-05-14  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downModule): support existingModuleSymbol

	* metaLevelSignature.cc (MACRO): added existingModuleSymbol

	* metaLevel.hh (class MetaLevel): updated decls for all functions
	below:

	* metaDown.cc (downSorts): MetaModule -> MixfixModule
	(downSubsort): MetaModule -> MixfixModule
	(downSubsorts): MetaModule -> MixfixModule
	(downVarDecls): MetaModule -> MixfixModule
	(downVarDecl): MetaModule -> MixfixModule
	(downMembAx): MetaModule -> MixfixModule
	(downMembAxs): MetaModule -> MixfixModule
	(downEquations): MetaModule -> MixfixModule
	(downEquation): MetaModule -> MixfixModule
	(downRule): MetaModule -> MixfixModule
	(downRules): MetaModule -> MixfixModule

1999-05-13  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): updated decl for downModule()

	* metaDown.cc (downModule): return MixfixModule rather than MetaModule

	* metaLevelOpSymbol.cc: replaced MetaModule with MixfixModule
	throughout file

	* metaLevel.hh (class MetaLevel): updated decl for downTermList()

	* metaDown.cc (downTermList): MetaModule -> MixfixModule

	* metaLevel.hh (class MetaLevel): updated decls for downTerm(),
	downSubstitution(), downAssignment() and downVariable()

	* metaDown.cc (downTerm): MetaModule -> MixfixModule
	(downSubstitution): MetaModule -> MixfixModule
	(downAssignment): MetaModule -> MixfixModule
	(downVariable): MetaModule -> MixfixModule

	* metaModule.cc (locateSpecialReps): deleted

	* metaModule.hh (class MetaModule): deleted data members
	machineIntegerSymbols, quotedIdentifierSymbols
	(findMachineIntegerSymbol): deleted
	(findQuotedIdentifierSymbol): deleted
	(class MetaModule): deleted decls for findMachineIntegerSymbol(),
	findQuotedIdentifierSymbol() and locateSpecialReps()

	* metaDown.cc (downModule): don't call locateSpecialReps()

	* entry.cc (addOpDeclaration): fill out machineIntegerSymbols and
	quotedIdentifierSymbols

	* mixfixModule.hh (class MixfixModule): added data members
	machineIntegerSymbols and quotedIdentifierSymbols
	(findMachineIntegerSymbol): added
	(findQuotedIdentifierSymbol): added
	(class MixfixModule): added decls for findMachineIntegerSymbol()
	and findQuotedIdentifierSymbol()

	* metaLevel.hh (class MetaLevel): updated decls for
	downSimpleSort(), downSimpleSortList(), downSimpleSortSet(),
	downSort()

	* metaDown.cc (downSimpleSort): MetaModule -> MixfixModule
	(downSimpleSortList): MetaModule -> MixfixModule
	(downSimpleSortSet): MetaModule -> MixfixModule
	(downSort): MetaModule -> MixfixModule

	* metaLevel.hh (class MetaLevel): updated decls for fastUpTerm()
	(both versions), fastUpSubstitution() and fastUpResultPair()

	* metaFastUp.cc (fastUpTerm): (DagNode* version) MetaModule ->
	MixfixModule
	(fastUpTerm): (Term* version) MetaModule -> MixfixModule
	(fastUpSubstitution): MetaModule -> MixfixModule
	(fastUpResultPair): MetaModule -> MixfixModule

1999-05-12  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (handleDebug): only call cleanUpLexer() if we
	weren't interactive; if we do call cleanUpLexer() output a \n
	to start a new line after the users ^C

1999-05-11  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (handleDebug): call cleanUpLexer() after ^C

	* bufferPrint.cc (prettyPrint): use chooseDisambiguator(); use
	rangeComponent() rather than getComponent()

	* prettyPrint.cc (prettyPrint): (Term* version) use chooseDisambiguator()
	(prettyPrint): (Term* version) use rangeComponent() rather than getComponent()
	(prettyPrint): (DagNode* version) use chooseDisambiguator()

	* mixfixModule.hh (class MixfixModule): added decl for chooseDisambiguator()

	* prettyPrint.cc (chooseDisambiguator): added

	* entry.cc (addOpDeclaration): use FreeSymbol::newFreeSymbol() (2
	places)
	
===================================Engine49==================================================

1999-04-30  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): rewritten to handle problems of the form
	search subject => pattern .

	* mixfixModule.hh (class MixfixModule): added CONDITIONAL_COMMAND
	to enum Actions
	(class MixfixModule): added decl for makeCommand()
	(class MixfixModule): added decl for parseCommand()
	(class MixfixModule): added decl for makeCommandProductions()

	* mixfixParser.cc (makeCommand): added

	* mixfixModule.cc (makeCommandProductions): added
	(makeGrammar): call makeCommandProductions()

	* mixfixModule.hh (class MixfixModule): added COMMAND to enum
	NonTerminal; updated BASE

	* search.cc (search): don't rely on OneStep::findNextRewrite() to
	reduce its result

1999-04-29  Steven Eker  <eker@goo.csl.sri.com>

	* search.cc (search): now do naive breadth first search to find
	all states

	* preModule.hh (class PreModule): added decl for search()

	* search.cc: created

	* top.y: added KW_SEARCH as token

	* command.cc (search): added

	* lexer.flex: added search keyword

	* commands.y: added first approximation at syntax for search command

1999-04-26  Steven Eker  <eker@goo.csl.sri.com>

	* userLevelRewritingContext.cc (tracePreScApplication): changed
	message to make it more readable

1999-04-22  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (fixUpSymbols): use new QuotedIdentifierOpSymbol::fixUp()

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added decls for postInterSymbolPass() and reset()

	* quotedIdentifierOpSymbol.cc (fixUp): handle LESS_THAN case
	(eqRewrite): handle LESS_THAN case
	(postInterSymbolPass): added
	(reset): added
	(copyFixUp): copy trueTerm and falseTerm
	(fixUp): handle trueTerm and falseTerm

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added data members trueTerm and falseTerm
	(class QuotedIdentifierOpSymbol): updated fixUp decl
	(class QuotedIdentifierOpSymbol): added LESS_THAN to enum OpType

1999-04-20  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (instantiateSortTest): don't pass boolSort to
	SortTestSymbol()
	(instantiatePolymorph): use new EqualitySymbol() conventions
	(instantiatePolymorph): use new BranchSymbol() conventions

	* prettyPrint.cc (showOps): remove " : (implemented by C++ code)"
	case and assert that we alays have declarations

	* mixfixModule.cc (instantiatePolymorph): call addOpDeclaration()
	for each polymorph symbol created
	(instantiateSortTest): call addOpDeclaration() for each sort test
	symbol created

	* prettyPrint.cc (operator<<): (DagNode* version) changed
	convention for calling graphPrint()
	(showOps): use ComplexSort since some built in ops will get error
	sorts in their domain and range in the near future

	* mixfixModule.hh (class MixfixModule): graphPrint() decl no
	longer static

	* prettyPrint.cc (prettyPrint): use instance-free version of
	rangeComponent()

	* quotedIdentifierDagNode.cc (specialPrint): deleted

	* quotedIdentifierDagNode.hh (class QuotedIdentifierDagNode):
	deleted specialPrint() decl

	* quotedIdentifierTerm.cc (specialPrint): deleted

	* quotedIdentifierTerm.hh (class QuotedIdentifierTerm): deleted
	specialPrint() decl

	* prettyPrint.cc (graphPrint): eliminate use of DagNode::specialPrint()

1999-04-19  Steven Eker  <eker@goo.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added CONVERT to enum OpType

	* quotedIdentifierOpSymbol.cc (eqRewrite): added semantics for CONVERT
	(fixUp): added CONVERT case

	* lexerAux.cc (eatComment): last change should have corrected
	problem; the bug is now in flex 2.5.3 which is fixed in 2.5.4

1999-04-18  Steven Eker  <eker@goo.csl.sri.com>

	* lexerAux.cc (eatComment): try to handle the EOF in comment case
	
===================================Engine48==================================================
===================================Maude 1.0.2 released=======================================

1999-03-12  Steven Eker  <eker@goo.csl.sri.com>

	* prettyPrint.cc (prettyPrint): (Term* and DagNode* versions)
	fixed bug: ` instead of ' for quoted identifier
	
===================================Maude 1.0.1 released=======================================

1999-03-03  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (prettyPrint): ignore printMixfix flag for
	SORT_TESTs

	* prettyPrint.cc (prettyPrint): ignore printMixfix flag for
	SORT_TESTs (both versions)

	* metaLevelSignature.cc (MACRO): unmade last change; to difficult
	to implement with existing meta level structure; wait until new
	meta level

	* metaDown.cc: use downQid() on 1st arg

	* metaLevelSignature.cc (MACRO): added MACRO for existingModuleSymbol

	* mixfixModule.cc (instantiateSortTest): set gather, no longer
	RIGHT_BARE, set prefix name correctly
	(instantiateSortTest): fillout mixfixSyntax

1999-03-02  Steven Eker  <eker@goo.csl.sri.com>

	* bufferPrint.cc (prettyPrint): made symmetric

	* prettyPrint.cc (prettyPrint): (DagNode* version) use flags local
	var
	(prettyPrint): (Term* version) symmetric changes with DagNode*
	version

	* entry.cc (addOpDeclaration): only worry about pseudo stuff when
	nrArgs == 0

	* prettyPrint.cc (prettyPrint): (DagNode* version) handle
	disambiguation of machine integers, pseudo machine integers,
	quoted identifiers and pseudo quoted identifiers correctly

	* mixfixModule.hh (class MixfixModule): added
	PSEUDO_MACHINE_INTEGER and PSEUDO_QUOTED_IDENTIFIER to enum
	SymbolFlags
	(class MixfixModule): added data members machineIntegerComponents,
	quotedIdentifierComponents, overloadedMachineIntegers,
	overloadedQuotedIdentifiers 
	
	* entry.cc (addOpDeclaration): fill out machineIntegerComponents
	and quotedIdentifierComponents; set PSEUDO_MACHINE_INTEGER and
	PSEUDO_QUOTED_IDENTIFIER flags; fill out overloadedMachineIntegers
	and overloadedQuotedIdentifiers

1999-02-26  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addOpDeclaration): make underscore warning more
	informative
	(addPolymorph): make underscore warning more informative

1999-02-16  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.cc (pushd): temporary hack to fix possible
	compiler bug: we store directoryStack[oldLength - 1] in a local
	variable
	(pushd): Actually it's not a compiler bug but a subtle reference
	bug; added comment in code to this effect
	
===================================VectorExperiment==========================================

1999-02-09  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (makeComponentProductions): only have parens for
	non-bubble components
	(makePolymorphProductions): only put polymorphic ops in non-bubble
	components

1999-02-05  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc: added template for Vector<Bool>

1999-02-03  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (parse): replaced Symbol::parse() with
	Symbol::fillInSortInfo()
	(match): replaced Symbol::parse() with Symbol::fillInSortInfo();
	deleted Assert()

	* metaLevelOpSymbol.cc (metaLeastSort): replaced Symbol::parse()
	with Symbol::fillInSortInfo(); assume that there won't be any
	component errors in down'd term
	(metaParse): replaced Symbol::parse() with
	Symbol::fillInSortInfo()

	* mixfixParser.cc (parseTerm): replaced Symbol::parse() with
	Symbol::fillInSortInfo() (2 places)

	* bufferPrint.cc (prettyPrint): replaced Symbol::parse() with
	Symbol::fillInSortInfo()

	* prettyPrint.cc (prettyPrint): replaced Symbol::parse() with
	Symbol::fillInSortInfo()

1999-01-29  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.cc (cd): use realPath()
	(pushd): use realPath()
	(realPath): remember to move cursor forward after we copy in a
	home directory path name
	(realPath): fix off-by-one error in .. handling loop
	(realPath): delete null case and resolve empty path to that of the
	current directory
	(pushd): optimization for "." to avoid chdir
	(popd): optimization for the case where the directory doesn't change

	* directoryManager.hh (class DirectoryManager): added decl for realPath()

	* directoryManager.cc (realPath): tidied up

1999-01-28  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.cc (realPath): added
	
===================================Engine47==================================================
===================================Maude 1.00 released=======================================

1999-01-22  Steven Eker  <eker@goo.csl.sri.com>

	* import.cc (processImports): added check for us/using importation
	mode

	* mixfixModule.hh (class MixfixModule): added decl for
	~MixfixModule()

	* mixfixModule.cc (~MixfixModule): added in order to
	deepSelfDestruct special terms within polymorphs

1999-01-21  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevelOpSymbol.cc (~MetaLevelOpSymbol): added, to delete metaLevel

	* metaLevel.cc (reset): clear cachedMetaModule to fix nasty bug
	where we were keep a dag whose symbols had been deleted; delete
	cached module as well
	(~MetaLevel): added, to delete cachedModule; probably not really
	necessary since metalevel will be reset 2 GCs before it is deleted

1999-01-20  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.cc (popd): fixed another bug where we were not
	using directoryStack

	* lexerAux.cc (cleanUpLexer): restore directory stack after
	closing files
	(includeFile): handle directories in a relative way; keep track
	of directory stack markers
	(handleEof): restore directory stack after end of file

	* top.y: use new pushd() return value

	* directoryManager.hh (class DirectoryManager): updated decls for
	pushd() and popd()

	* directoryManager.cc (popd): fixed off-by-one error
	(popd): take arg to allow poping to an arbitrary previous context
	(pushd): now return index to old context on successful pushd and
	UNDEFINED owise

	* preModule.cc (process): check for bad module after closing sort set

	* metaFastUp.cc (fastUpSort): turned ErrorCheck() for union sorts
	into an IssueAdvisory()

	* metaDown.cc (downImport): don't import bad modules

	* command.cc (selectModule): don't allow bad modules to be used

	* preModule.cc (process): don't call closeTheory() on bad modules
	(fixUpSymbols): mark module as bad if we couldn't parse an identity

	* import.cc (processImports): don't allow importation of bad
	modules

1999-01-19  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): updated decls for addSelected(),
	parse(), reduce(), rewrite(), loop(), contLoop(), selectModule()
	and match()

	* command.cc (addSelected): don't clear opName
	(parse): don't waste time swapping subject
	(reduce): don't waste time swapping subject
	(rewrite): don't waste time swapping subject
	(loop): don't waste time swapping subject
	(contLoop): don't clear input (2 places)
	(selectModule): don't clear moduleExpr (2 places)
	(match): made patternBubble and subjectBubble const

	* preModule.hh (class PreModule): updated decls for addImport(),
	addSortDecl(), addSubsortDecl(), addStatement() and addRule()

	* preModule.cc (addRule): rule is now const

	* preModule.hh (class PreModule): updated decls for addOpDecl(),
	setDomainAndRange(), setIdentity(), addVarDecl(), setGather(),
	setStrat(), addHook()
	(addImport): use copy ctor rather than swap on import
	(addSortDecl): use copy ctor rather than swap on sortDecl
	(addSubsortDecl): use copy ctor rather than swap on subsortDecl
	(addStatement): use copy ctor rather than swap on statement

	* ops.cc (addOpDecl): don't clear opName
	(setDomainAndRange): copy rather than swap domainAndRange
	(setIdentity): copy rather than swap identity
	(addVarDecl): don't clear varDecl
	(setGather): don't clear gather (2 places)
	(setStrat): don't clear strategy (2 places)
	(addHook): don't clear details

	* bottom.y (cleanUpParser): don't clear bubble, moduleExpr and
	pattern

	* commands.y: heavily rewritten to clear bubble & moduleExp before
	they are used rather than after

	* top.y (clear): added

	* modules.y: major rewrite to simplify grammar and clear bubble
	before it is used rather than relying on function that bubble is
	passed to clearing it afterwards; introduced new non-terminals
	domainRangeAttr and idKeyword to factor grammar

	* metaDown.cc (downSorts): handle redeclaration of a sort gracefully

1999-01-18  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downModule): try deleting cached module

	* metaLevel.hh (class MetaLevel): added decl for downVariable()

	* metaDown.cc (downVariable): added
	(downAssignment): simplified using downVariable()
	(downTerm): simplified using downVariable()
	(downTerm): check that operator actually exists before we use it
	(downTerm): reorganized and simplified; now check for existance of
	constants in appropriate sort

1999-01-17  Steven Eker  <eker@goo.csl.sri.com>

	* metaDown.cc (downSimpleSortSet): fixed non-negated condition bug
	(downSimpleSortList): fixed non-negated condition bug

	* entry.cc (addOpDeclaration): removed ErrorCheck()s and added
	error recovery code for the cases where assoc/com/id/idem ops have
	domain length != 2

	* metaLevelOpSymbol.cc (metaPrettyPrint): return false rather than
	errorRewrite() if module or term cannot be brought down
	(metaPrettyPrint): deepSelfDestruct() term after we are finished
	with it

1999-01-16  Steven Eker  <eker@goo.csl.sri.com>

	* metaLevel.hh (class MetaLevel): added decl for
	downSimpleSortSet()

	* metaDown.cc (downSimpleSortSet): added downSimpleSortSet()

	* metaLevel.hh (class MetaLevel): added decls for
	downSimpleSortList() and downSimpleSort()

	* metaDown.cc (downSimpleSort): added
	(downSubsort): use downSimpleSort() (2 places)
	(downSimpleSort): issue advisory when can't find a named sort
	(downSimpleSortList): added
	(downFixUpBubble): use downSimpleSortList()
	(downOpDecl): use downSimpleSortList() and downSimpleSort()
	(downVarDecl): use downSimpleSort()
	(downMembAx): use downSimpleSort()
	(downTerm): use downSimpleSort() (2 places)
	(downSort): use downSimpleSortSet() and downSimpleSort()

1999-01-14  Steven Eker  <eker@goo.csl.sri.com>

	* interact.cc (commandLoop): unmade yesterdays change since we
	need to display prompt after ^C in most cases
	(commandLoop): clear ctrlC_Flag after calling cleanUpLexer()

	* command.cc (match): term ErrorCheck() into Assert()
	(match): check for ^C interrupts
	(match): reorganized to ensure that garbage is collected under
	error conditions
	(match): call DagNode::okToCollectGarbage()

	* lexerAux.cc (cleanUpLexer): use setSilentFlag()
	(handleEof): use setSilentFlag()

	* main.cc (main): use setSilentFlag()

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added static data member silentFlag
	(setSilentFlag): added

	* interact.cc: added silentFlag
	(beginModule): check silentFlag

1999-01-13  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (reduce): call
	UserLevelRewritingContext::beginCommand()
	(rewrite): call UserLevelRewritingContext::beginCommand()
	(match): call UserLevelRewritingContext::beginCommand()

	* modules.y: use UserLevelRewritingContext::beginModule() (2
	places) 

	* fileTable.cc (beginModule): no longer print ====== and module
	name here

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decls for beginModule() and beginCommand()

	* interact.cc (beginModule): added
	(beginCommand): added

	* lexerAux.cc (cleanUpLexer): use fileTable.abortEverything()
	instead of multiple calls to fileTable.closeFile()
	(cleanUpLexer): rewritten to switch to each active buffer in turn
	so we can close its file.

	* fileTable.hh (class FileTable): added decl for abortEverything()

	* fileTable.cc (abortEverything): added

	* lexerAux.cc (cleanUpLexer): call IssueAdvisory() before
	setInteractive() so we get prompt after Advisory

	* interact.cc (commandLoop): when recovering from a control-C,
	don't call displayPrompt() since setInteractive() will doe this
	if needed when called from cleanUpLexer();
	
===================================Engine46==================================================

1999-01-11  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence): added ifdef HACK so that we can
	still link to Earley parser to make comparisons

	* preModule.hh (class PreModule): modules becomes a reference
	rather than a vector so avoid automatic deletion at exit which
	causes purify to report spurious memory leaks

	* preModule.cc (PreModule): use new to initialize PreModule::modules

	* directoryManager.hh (class DirectoryManager): added decl for initialize()

	* directoryManager.cc (DirectoryManager): becomes initialize; to
	avoid a race condition between directoryStack, directoryNames and
	a static instance of ourself

1999-01-07  Steven Eker  <eker@goo.csl.sri.com>

	* main.cc (main): fixed bug where we were incrementing argv and
	then usng as if we had not.

1999-01-06  Steven Eker  <eker@goo.csl.sri.com>

	* top.y: added syntax to allow ls to take flags
	implemented semantics for ls with flags

	* lexerAux.cc (lexerFileNameMode): use to be lexerInMode()
	(lexerStringMode): added

	* lexer.flex: IN_MODE become FILE_NAME_MODE
	yyFileName becomes yyString
	added STRING_MODE

	* top.y (union): yyFileName becomes yyString

1998-12-24  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseTerm): use printTokenVector()
	(parseStatement): tidied error messages
	(parseSentence): use printTokenVector()

	* token.hh (class Token): added decl for printTokenVector()

	* token.cc (printTokenVector): added
	(operator<<): implemented using printTokenVector()

	* main.cc (main): added -no-prelude option

1998-12-23  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence): added code to show use where
	first offending token is in the event of a syntax error

	* import.cc (donateStatements): don't import bad rule, sort
	constraints or equations

1998-12-22  Steven Eker  <eker@goo.csl.sri.com>

	* token.cc (operator<<): (Vector<Token>& version) handle spacing
	around special chars

	* bufferPrint.cc (prettyPrint): handle QIDs and MACHINE-INTs

	* metaFastUp.cc (fastUpQid): use Token::backQuoteSpecials()
	(fastUpQidSet): use Token::backQuoteSpecials() (2 places)
	(fastUpQidList): use Token::backQuoteSpecials() (2 places)

	* metaLevelOpSymbol.cc (metaParse): don't bother with
	unbackquoting here as it is down in downQid()

	* metaDown.cc (downQid): do unbackquoting here; use
	unBackQuoteSpecials()

	* loopSymbol.cc (extractQid): use unBackQuoteSpecials()

	* token.hh (unBackQuoteSpecials): created from unBackQuote();
	basically its dangerous to strip backquotes from anything except
	lone special chars

	* loopSymbol.cc (extractQid): simplified using Token::unBackQuote()
	(createQidList): greatly simplified using Token::backQuoteSpecials()

	* token.hh (backQuoteSpecials): added
	(unBackQuote): added

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added
	META_PRETTY_PRINT to enum OpType
	(class MetaLevelOpSymbol): added decl for metaPrettyPrint()

	* metaLevelOpSymbol.cc (metaPrettyPrint): added
	(eqRewrite): added meta-pretty-print case

	* metaLevel.hh (class MetaLevel): added decl for fastUpQidList()

	* metaFastUp.cc (fastUpQidList): added

	* mixfixModule.hh (class MixfixModule): added decls for
	bufferPrint() and buffer versions of prettyPrint(), printTokens(),
	printTails()

	* bufferPrint.cc: created

1998-12-21  Steven Eker  <eker@goo.csl.sri.com>

	* commands.y: don't use  moduleExp in select command

	* top.y: deleted tokens '*', '+', TO and KW_LABEL

	* modules.y: added KW_LS to startKeyword
	use endTokens rather than moduleExp in import decl syntax
	deleted moduleExp nonterminal
	deleted renamingList and renamingItem non terminals

	* top.y: added decl for token KW_LS
	added syntax and symnatics for ls command
	simplified top level syntax, deleting loop and item nonterminals

	* lexer.flex: added token for ls
	deleted old prompt stuff

	* top.y: check for failure and give warning for cd/pushd/popd
	directives

	* token.cc (extractMixfix): fixed nasty bug where we were
	mishandling `

	* top.y: added syntax and symnatics for pushd and popd

	* directoryManager.cc (cd): greatly simplified, making use of
	realpath()s ability to resolve relative names.
	(popd): implemented
	(pushd): implemented

	* top.y (union): added const char* yyFileName to parser union
	added token FILE_NAME
	added syntax and semantics for cd <filename> directive

	* lexer.flex: IN_MODE now returns file name rather than calling
	includeFile() - should really be renamed

1998-12-20  Steven Eker  <eker@goo.csl.sri.com>

	* directoryManager.cc (DirectoryManager): use getenv()
	(cd): implemented using realpath()

	* lexer.flex: added keywords pwd, pushd, popd, cd

	* main.hh: added fwd decl for directoryManager

	* top.y: added token decls for PWD, CD, PUSHD and POPD
	added syntax and semantics for PWD

	* modules.y: added PWD, CD, PUSHD and POPD to startKeyword

	* main.cc: added global directoryManager object

	* directoryManager.cc: created

	* directoryManager.hh (class DirectoryManager): created

	* command.cc (printOpDef): handle assoc, comm, left/right id,
	idem, strat, memo, prec, gather

	* mixfixModule.hh (class MixfixModule): deleted MAY_NOT_LEFT_ASSOC
	and MAY_NOT_RIGHT_ASSOC from enum SymbolFlags
	(class MixfixModule): updated decls for mayAssoc() and
	computePrecAndGather()
	(class MixfixModule): added ATTRIBUTES to enum SymbolFlags

	* mixfixModule.cc (mayAssoc): now return UNDEFINED if diff
	components or no sort info
	(computePrecAndGather): handle special default gathering case in a
	cleaner more efficient way; and avoid using these special case
	unless leftmost arg, rightmost arg and range are all in the same
	component.
	(computePrecAndGather): take symbol arg
	(makeSymbolProductions): don't call mayAssoc(); pass symbol to
	computePrecAndGather() in op case

1998-12-19  Steven Eker  <eker@goo.csl.sri.com>

	* entry.cc (addOpDeclaration): detect and recover from the case
	where the number of underscores is not equal to the number of arguments
	(addPolymorph): detect and recover from the case
	where the number of underscores is not equal to the number of arguments

	* token.hh (class Token): updated decl for extractMixfix()

	* token.cc (extractMixfix): now return number of underscores

1998-12-18  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): added decl for printOpDef()

	* command.cc (showModule): rewritten
	(printOpDef): added

	* mixfixModule.hh (getModuleType): added

	* command.cc (showModule): deleted old stub

Fri Dec 18 18:50:43 1998  Steven Eker  <eker@goo.csl.sri.com>
	

	* preModule.hh (class PreModule): added decl for showModule()

Fri Dec 18 18:49:01 1998  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.hh (class PreModule): deleted decl for dump()

Fri Dec 18 18:48:08 1998  Steven Eker  <eker@goo.csl.sri.com>

	* command.cc (showModule): added

Fri Dec 18 18:46:44 1998  Steven Eker  <eker@goo.csl.sri.com>

	* preModule.cc (dump): deleted

Thu Dec 17 15:31:00 1998  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixParser.cc (parseSentence): removed previous cq handling code

Thu Dec 17 15:29:09 1998  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (makeStatementProductions): added rule for cq
	conditional equations

Thu Dec 17 15:16:50 1998  Steven Eker  <eker@goo.csl.sri.com>

	* mixfixModule.cc (mayAssoc): put leq() test arround the correct
	way
	
===================================Engine45==================================================

Wed Dec 16 10:26:10 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (computePrecAndGather): use MAY_NOT_LEFT_ASSOC
	and MAY_NOT_RIGHT_ASSOC to do a smarter computation of default
	gathering
	(makeSymbolProductions): fix bug where we weren't calling
	computePrecAndGather() for unary symbols

	* mixfixModule.hh (class MixfixModule): added decl for mayAssoc()

	* mixfixModule.cc (makeSymbolProductions): call mayAssoc() and
	set MAY_NOT_LEFT_ASSOC / MAY_NOT_RIGHT_ASSOC as appropriate for
	mixfix symbols
	(mayAssoc): added

	* mixfixModule.hh (class MixfixModule): added MAY_NOT_LEFT_ASSOC
	and MAY_NOT_RIGHT_ASSOC to enum SymbolFlags

	* mixfixParser.cc (parseSentence): change cq to ceq just before
	giving statement to CFG parser

	* import.cc (donateOps): fixed bug where in a var was declared
	twice in an imported module we would import it twice since first
	importing is invisible.

	* lexerAux.cc (handleEof): need to restore old buffer from stack,
	even if we're about to read a pending file so that inputFile() has
	something to stack

	* lexerAux.hh (eatComment): updated includeFile() decl

	* main.cc (main): support pending files

	* lexerAux.cc (handleEof): support pending file idea
	(includeFile): return a bool to say if we included file ok
	(cleanUpLexer): avoid reading anymore pending files after we're called

	* main.cc (main): use setHandlers()

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	replace decl for initialize() with that for setHandlers()

	* interact.cc (initialize): now take handleCtrlC flag instead of
	interactive flag; assume interactive flag is correctly set before entry
	(initialize): changed to setHandlers()

	* main.cc (main): handle command line file as an inclusion
	(main): changed calculation of whether to handle ctrl-C

	* lexerAux.cc (createRootBuffer): call
	UserLevelRewritingContext::setInteractive()

Tue Dec 15 11:08:08 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexerAux.hh: includeFile() decl

	* lexerAux.cc (includeFile): arg is now const char*

	* main.cc (findPrelude): added
	(main): use find prelude

	* mixfixModule.cc (findSymbol): support assoc symbols with args >
	2  (i.e. in flattened form)

	* metaFastUp.cc (fastUpTerm): (Term* version) added hack to handle
	metaDisambigSymbol for MACHINE_INTEGERs
	(fastUpTerm): (DagNode* version) added hacks to handle
	metaDisambigSymbol for MACHINE_INTEGERs and QUOTED_IDENTIFIERs

Mon Dec 14 10:27:18 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaDown.cc (downModule): call locateSpecialReps()
	(downTerm): rearranged so we look for machine ints and qid first

	* metaModule.hh (class MetaModule): added decl for
	locateSpecialReps()

	* metaModule.cc (locateSpecialReps): added
	(addComplexSymbol): (non-polymorph version) don't keep track of
	machine int and quoted identifiers anymore; this is now the job of
	locateSpecialReps()

	* metaModule.hh (class MetaModule): data members
	machineIntegerSymbols and quotedIdentifierSymbols become
	PointerMaps
	(findMachineIntegerSymbol): moved here; made inline; rewritten
	using pointer map
	(findQuotedIdentifierSymbol): moved here; made inline; rewritten
	using pointer map

Sun Dec 13 16:47:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (findSymbol): can't use range component to
	generate polymorph since at metalevel we won't know this; use
	domainComponents[1] in BRANCH_SYMBOL case

	* metaDown.cc (downModule): rewritten to handle imports

	* metaModule.hh (addImport): added

	* preModule.hh (class PreModule): made importation functions
	public; the whole area of module classes needs to be cleaned up
	when we have the time.

	* metaModule.cc (importStatements): added
	(fixUpImportedOps): added
	(importOps): added
	(importSorts): added
	(resetImports): added

	* metaModule.hh (class MetaModule): added data member
	importedModules (should really combine common parts of this class
	with PreModule sometime/somehow)

	* preModule.hh (class PreModule): added decl for findModule()

	* import.cc (findModule): added

	* metaDown.cc (downImports): handle lists of imports
	(downImport): added

	* metaLevelSignature.cc (MACRO): added call for includingSymbol
	(MACRO): added call for importListSymbol

	* metaLevel.cc (MetaLevel): clear all symbol pointers on creation

Fri Dec 11 10:08:33 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.hh (class PreModule): added decl for setInclude()

	* import.cc (setInclude): added

	* lexer.flex: deleted BOOL/bool keywords

	* top.y: deleted decl for KW_BOOL

	* commands.y: generalize set include BOOL on/off syntax to set
	include <module> on/off syntax

	* import.cc (processImports): handle default imports

	* preModule.hh (class PreModule): added static data member defaultImports

	* metaLevel.cc (MetaLevel): fixed bug where we setting trueTerm
	twice rather than setting falseTerm

	* mixfixModule.cc (createSortTest): deleted

	* mixfixModule.hh (class MixfixModule): CREATE_SORT_TEST ->
	MAKE_SORT_TEST in enum Actions
	(class MixfixModule): deleted decl for 

	* mixfixModule.cc (makeBoolProductions): CREATE_SORT_TEST ->
	MAKE_SORT_TEST (2 places)

	* mixfixParser.cc (makeTerm): use instantiateSortTest() rather
	than createSortTest()
	(makeTerm): CREATE_SORT_TEST -> MAKE_SORT_TEST

	* metaDown.cc (downTerm): use instantiateSortTest() rather than
	createSortTest()

	* mixfixModule.hh (class MixfixModule): deleted decls for
	insertPolymorph() and makePolymorph()

	* mixfixModule.cc (makePolymorph): deleted

	* mixfixParser.cc (makeTerm): use instantiatePolymorph() instead
	of makePolymorph()
	(makeTerm): reorganized the polymorph case code

	* entry.cc (addOpDeclaration): changed test for different flags so
	we ignore overloaded flags
	
	* import.cc (fixUpDonatedOps): remember to translate sort as well
	as sort test symbol!
	
	* mixfixModule.hh (class MixfixModule): added decl for instantiateSortTest()

	* entry.cc (addOpDeclaration): added more detailed error meesage
	for incompatable overloading

	* mixfixModule.cc (instantiateSortTest): added

	* import.cc (fixUpDonatedOps): first crude attempt at creating
	sort test ops that will be needed for importing equations etc
	(fixUpDonatedOps): pass flags to findSymbol()

	* main.cc (main): check for multiple files on command line

	* lexerAux.cc (includeFile): removed yesterdays hack

	* main.cc (main): use createRootBuffer(); don't access yyin

	* lexerAux.cc (createRootBuffer): added

Thu Dec 10 13:17:41 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexerAux.cc (includeFile): added hack so that we can call this
	before calling yylex()

	* main.cc (main): read in preamble before processing users commands

	* mixfixModule.hh (class MixfixModule): added decl for
	instantiatePolymorph()

	* mixfixModule.cc (instantiatePolymorph): added
	(findSymbol): handle polymorphs using instantiatePolymorph()

	* import.cc (fixUpDonatedOps): make instatiations of polymorphs in
	importer for those taht already exist in our flat module so that
	our equations etc that use those instantiations can be translated

	* mixfixModule.cc (makePolymorph): pass extra component arg to
	ctors for BranchSymbol() and EqualitySymbol()

	* preModule.cc (process): set firstOnTheFlySymbol

	* preModule.hh (class PreModule): added data member firstOnTheFlySymbol

	* symbolTranslation.hh (translationExists): added

Wed Dec  9 09:53:59 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for copyFixUpPolymorph()

	* mixfixModule.cc (copyFixUpPolymorph): added

	* import.cc (fixUpDonatedOps): use copyFixUpPolymorph() to fixup
	imported polymorphs

	* mixfixModule.hh (class MixfixModule): updated decl for addPolymorph()

	* metaDown.cc (downOpDecl): pass Token as first arg of
	addPolymorph()

	* entry.cc (addPolymorph): take Token as first arg

	* process.cc (processOps): pass Token as fisrt arg of
	addPolymorph()

	* import.cc (donateOps): first crude attempt at handling
	polymorphs

	* metaDown.cc (downOpDecl): use new tokenize()
	(downVarDecl): use new tokenize()

	* token.hh (tokenize): added 2nd version

	* mixfixModule.hh (class MixfixModule): update decl for
	addOpDeclaration()

	* entry.cc (addOpDeclaration): set line number for created symbol;
	take first arg as a Token rather than as an int

	* token.hh (makePrefixName): added

	* preModule.cc (dump): use prefixName rather than
	prefixNameCode (two places)

	* import.cc (donateOps): use prefixName rather than
	prefixNameCode (two places)

	* process.cc (processOps): use prefixName rather than
	prefixNameCode (two places)

	* ops.cc (addVarDecl): set prefixName rather than prefixNameCode
	(addOpDecl): set prefixName rather than prefixNameCode; use
	makePrefixName()

	* preModule.hh (class PreModule): Token prefixName replaces int
	prefixNameCode in struct OpDecl

	* preModule.cc (fixUpSymbols): (LOOP_SYMBOL section) updated cast
	on qidListSymbol; fixed bad cast on nilQidListSymbol

	* loopSymbol.cc (fixUp): 3 arg now AU_Symbol*

	* loopSymbol.hh (class LoopSymbol): data member qidListSymbol
	becomes an AU_Symbol*; added decl for copyFixUp()
	(class LoopSymbol): updated decl for fixUp()

	* loopSymbol.cc (copyFixUp): added

	* import.cc (fixUpDonatedOps): handle LOOP_SYMBOLs using
	LoopSymbol::copyFixUp()

Tue Dec  8 10:35:21 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* import.cc (fixUpDonatedOps): handle META_LEVEL_OP_SYMBOLs using
	MetaLevelOpSymbol::copyFixUp()

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	copyFixUp()

	* metaLevelOpSymbol.cc (copyFixUp): added, using new MetaLevel ctor

	* metaLevel.hh (class MetaLevel): added decl for new ctor

	* metaLevel.cc (bind): rewritten using macro expansion to generate
	the huge branching code fragment
	(MetaLevel): new ctor, using macro expansion to copy and translate
	an original MetaLevel object

	* metaLevelSignature.cc: created

	* metaLevel.hh (class MetaLevel): replace long list of data member
	decls with macro expansion version

	* mixfixModule.hh (class MixfixModule): added SYMBOL_TYPE to enum
	SymbolFlags

	* import.cc (fixUpDonatedOps): use OPS_FIXED_UP
	(fixUpDonatedOps): simplified using MachineIntegerOpSymbol::copyFixUp()
	(fixUpDonatedOps): simplified QuotedIdentifierOpSymbol case

	* preModule.hh (class PreModule): added OPS_FIXED_UP to enum Phase

Mon Dec  7 10:31:50 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added decl for copyFixUp()

	* quotedIdentifierOpSymbol.cc (copyFixUp): added

	* import.cc (fixUpDonatedOps): handle MACHINE_INTEGER_OPs
	(fixUpDonatedOps): handle QUOTED_IDENTIFIER_OPs

	* mixfixParser.cc (parseTerm): put \n before -versus-

	* entry.cc (addOpDeclaration): check for variable overloading and
	overloading with incompatable flags

Sun Dec  6 18:52:51 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (process): call fixUpImportedOps()

	* preModule.hh (class PreModule): added op decls for
	fixUpImportedOps() and fixUpDonatedOps()

	* import.cc (donateOps): set opDecl.importSymbol if we are the
	importOriginator; could try setting this to zero if not and avoid
	the need for the importOriginator flag; but this might cause a
	problem with polymorphs later on
	(fixUpImportedOps): added
	(fixUpDonatedOps): added

	* preModule.hh (class PreModule): added importOriginator field to
	struct OpDecl; the idea is we set this during an import of this
	PreModule to know if we have responsibility for fixing up this
	particular symbol
	(class PreModule): added fields importSymbol and
	importPolymorphIndex to struct OpDecl

Sat Dec  5 17:23:31 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevelOpSymbol.cc (metaApply): added hack to make sure all
	dagNodes in substitution have sorts (they might be identities or
	pulled out from under lazy function symbols).

Fri Dec  4 11:07:21 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (dump): use MixfixModule:: qualification on enums

	* mixfixModule.hh (class MixfixModule): enum Precedence made public

	* preModule.cc (fixUpSymbols): use MixfixModule:: qualification on enums
	(fixUpSymbols): use flatModule 11
	(dump): use flatModule

	* ops.cc (addVarDecl): use MixfixModule:: qualification on enums
	(setPrec): use MixfixModule:: qualification on enums
	(setGather): use MixfixModule:: qualification on enums
	(setStrat): use MixfixModule:: qualification on enums
	(addHook): use MixfixModule:: qualification on enums

	* command.cc (parse): use flatModule
	(reduce): use flatModule (3 places)
	(rewrite): use flatModule (3 places)
	(cont): use flatModule
	(loop): use flatModule (3 places)
	(contLoop): qualify LOOP_SYMBOL
	(contLoop): use flatModule (3 places)
	(match): use flatModule (3 places)
	(loop): qualify LOOP_SYMBOL

	* preModule.cc (findHookSymbol): use flatModule (2 more places)

	* process.cc (processSorts): use flatModule (2 places)
	(processSorts): use MixfixModule:: qualification on enums
	(getSort): use flatModule (2 places)
	(processOps): use MixfixModule:: qualification on enums
	(processOps): use flatModule (3 places)
	(processStatements): use flatModule

	* import.cc (importOps): use flatModule
	(importStatements): use flatModule
	(donateStatements): use flatModule (3 places)
	(donateOps): use flatModule (2 places)
	(donateSorts): use flatModule
	(donateOps): use MixfixModule:: qualification on enums
	(importSorts): use flatModule

	* preModule.cc (PreModule): set flatModule = new MixfixModule;
	this is a temporary hack; once we have lazy updating we should do
	something else
	(~PreModule): delete flatModule
	(PreModule): don't initialize our now non-existant base
	(findHookSymbol): use flatModule
	(process): use flatModule (11 places)

	* modules.y: qualify attribute enums with MixfixModule rather than
	PreModule

	* bottom.y (cleanUpParser): use getFlatModule()

	* commands.y: use getFlatModule() in all show commands that are
	actually implemented in class MixfixModule

	* preModule.hh (class PreModule): no longer derived from
	MixfixModule
	(class PreModule): added data member flat module
	(getFlatModule): added

Thu Dec  3 17:09:15 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* interact.cc (initialize): ignore interval timer signals in order
	to allow for very long runs

	* main.hh: deleted currentModule decl

	* top.y: currentModule var def moved here

	* main.cc (main): recognize -batch flag; issue warning  rather
	than error for unrecognized flag; get interactive flag correct

Wed Dec  2 10:32:38 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* top.y: added decls for cTokenBarMatchLeqNumber and
	cTokenBarMatchLeqRight

	* commands.y: moduleAndTerm2 -> mModuleAndTerm
	inEnd2 -> mInEnd
	added mNumberModuleTerm, mNumberModuleTerm1 and mNumberModuleTerm2
	added cTokenBarMatchLeqNumber and cTokenBarMatchLeqRight
	modified match syntax to handle [<number>]

	* preModule.hh (class PreModule): added decl for match()

	* command.cc (match): added

	* commands.y: deleted inExp and nonInTerm
	use moduleAndTerm2 in match command syntax
	added match; use in place of MATCH

	* top.y: added decl for cTokenBarMatchLeqColon

	* commands.y: added moduleAndTerm2 and inEnd2
	added cTokenBarMatchLeqColon and cTokensBarMatchLeqColon

Tue Dec  1 12:07:34 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* commands.y: use cTokens rather than tokens in "(" <tokens> ")";
	parse this in command mode

	* top.y: added decl for cSimpleTokenBarDot

	* commands.y: added cSimpleTokenBarDot, use this in place of
	tokenBarDot in cSimpleOpName

	* top.y: ctoken -> cToken
	cTokenBarNumber -> cTokenBarDotNumber
	cTokenBarRight -> cTokenBarDotRight

	* commands.y: allow cTokenBarIn	to take '.'
	hacked inEnd to disallow empty term in the "in module" case (for
	consistancy)
	revert to using moduleAndTerm for parse and reduce commands
	allow cTokenBarLeftIn to take '.'
	cTokenBarNumber -> cTokenBarDotNumber
	cTokenBarRight -> cTokenBarDotRight
	nrModuleTerm* replaced by numberModuleTerm* which handle things
	like rew [ . and rew [42 . in a consistant way
	use ctokens rather than tokens in cSimpleOpName
	ctokens -> cTokens
	ctoken -> cToken

	* top.y: cTokenBarColon -> cTokenBarDotColon

	* commands.y: cTokenBarColon -> cTokenBarDotColon
	cTokensBarColon -> cTokensBarDotColon

	* top.y: added decls for select, optDebug and optNumber

	* commands.y: debug -> optDebug
	fused both continue productions
	added optNumber
	fused trace select and trace deselect commands
	added select non-terminal
	opNamesList2 -> cOpNameList
	simpleNameList2 -> cSimpleNameList
	
===================================Engine44==================================================

Mon Nov 30 16:52:02 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* command.cc (rewrite): don't print result or set saved dag if
	aborting

	* lexerAux.cc (includeFile): use IssueWarning() rather than
	ErrorCheck() to handle errors

Wed Nov 25 08:58:32 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (makeComponentProductions): nasty little hack
	for Paco - we don't add production <TERM> ::= <FooTerm> if Foo is
	a bubble component

	* quotedIdentifierOpSymbol.cc (eqRewrite): use traceAbort()

	* metaLevelOpSymbol.cc (metaSortLeq): return the value of
	builtInReplace() since we now have to deal with abort
	(metaSameComponent): ditto
	(metaLeastSort): ditto
	(metaLesserSorts): ditto
	(metaGlbSorts): ditto
	(metaParse): ditto
	(errorRewrite): ditto
	(errorRewrite2): ditto
	(metaReduce): reorg to handle abort correctly; use
	UserLevelRewritingContext::META_EVAL
	(metaRewrite): ditto
	(metaApply): ditto, but much more complicated - may want to
	simplify at some point

	* command.cc (reduce): only print result if we didn't abort

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for traceAbort()

	* userLevelRewritingContext.cc (tracePostEqRewrite): stripped
	abortFlag handling code since this should now no longer be called
	if abortFlag set; added Assert() to check this property; not quit
	true; may be called after tracePreEqRewrite() thats sets abort
	flag; Assert moved inside if stmt

	* interact.cc (traceAbort): added

	* userLevelRewritingContext.hh (clearDebug): clear abortFlag

	* interact.cc (handleDebug): handle abortFlag; decremeted
	debugLevel before going into abort mode

	* userLevelRewritingContext.cc (tracePostEqRewrite): first attempt
	at recognizing abortFlag

	* trial.cc: created to hold all trial code from
	userLevelRewritingContext.cc

	* preModule.hh (class PreModule): updated cont() decl

	* commands.y: added syntax and semantics for debug cont command

	* command.cc (cont): call UserLevelRewritingContext::setDebug()
	if debug arg true and UserLevelRewritingContext::clearDebug() at
	the end anyway

Tue Nov 24 14:57:44 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* command.cc (rewrite): call UserLevelRewritingContext::setDebug()
	if debug arg true and UserLevelRewritingContext::clearDebug() at
	the end anyway

	* preModule.hh (class PreModule): updated rewrite() decl

	* commands.y: added syntax and semantics for debug rewrite

	* userLevelRewritingContext.hh (setTraceFlag): added

	* commands.y: use UserLevelRewritingContext::setTraceFlag()
	instead of RewritingContext::setTraceStatus()

	* top.y: move empty case from item to top
	added loop nonterminal so we can treat the empty case specially

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for displayPrompt()

	* interact.cc (setInteractive): call display prompt if we changed
	from non-interactive to interactive and we didn't see a ctrl-C
	(displayPrompt): added
	(commandLoop): use displayPrompt()

	* userLevelRewritingContext.hh (setInteractive): moved to interact.cc

	* top.y: now have recursive top def; do YYACCEPT more selectively;
	in particular do not do an YYACCEPT immediatly after recognizing
	"in" since we don't want a spurious prompt; or after we
	successfully handle an "eof"

Mon Nov 23 11:08:39 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (findSymbol): temp hack to find bug

	* userLevelRewritingContext.hh (setDebug): added
	(clearDebug): added
	(class UserLevelRewritingContext): added decls for setDebug() and
	clearDebug()

	* preModule.hh (class PreModule): updated decl for reduce()

	* command.cc (reduce): call UserLevelRewritingContext::setDebug()
	if debug arg true and UserLevelRewritingContext::clearDebug() at
	the end anyway
	
	* lexer.flex: added keyword debug

	* top.y: added debug non terminal decl and token KW_DEBUG

	* commands.y: added debug non terminal; added "debug reduce"
	command

	* interact.cc (commandLoop): restore trace status after handling
	ctrl-C interrupt

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added static data members stepFlag and abortFlag; deleted static
	data member parseResult

	* interact.cc (handleDebug): rewritten using stepFlag and abortFlag

Sat Nov 21 12:29:23 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* top.y: set parseResult to QUIT for empty command

	* main.cc (main): update call to commandLoop()

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated commandLoop() decl

	* interact.cc (commandLoop): use new yyparse() convention; return parseResult
	(handleDebug): use new commandLoop() convention

	* userLevelRewritingContext.hh (setParseResult): deleted
	(class UserLevelRewritingContext): deleted static data member
	parseResult

	* commands.y: use PARSER_RESULT macro rather than
	UserLevelRewritingContext::setParseResult() to avoid reentrancy
	problem

	* top.y: added back non-terminal "item"; now do a YYACCEPT; after
	each item to avoid hanging on look-a-head
	use YYPARSE_PARAM to avoid reentrancy problem

Fri Nov 20 11:44:35 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* main.cc (main): use MixfixModule::setPrintMixfix(false)

	* lexer.flex: use UserLevelRewritingContext::interrupted(), QUIT
	-> KW_QUIT
	
	* bottom.y (yyerror): use UserLevelRewritingContext::interrupted()

	* commands.y (command): debugging commands rewritten using
	UserLevelRewritingContext::setParseResult()

	* top.y (directive): rewritten using
	UserLevelRewritingContext::setParseResult()

	* userLevelRewritingContext.hh (setParseResult): added

	* top.y: don't touch prompt global variable; top is no longer a
	recursive list of items
	deleted non-terminal "item"
	token QUIT -> KW_QUIT

	* main.hh: deleted decls for ctrlC_Interrupt and prompt global
	variables

	* main.cc (main): call UserLevelRewritingContext::initialize()
	(interruptHandler): deleted
	(setSignalHandlers): deleted
	deleted ctrlC_Interrupt global variable
	(main): don't call setSignalHandlers()

	* userLevelRewritingContext.hh (setInteractive): added

	* lexerAux.cc (getInput): use UserLevelRewritingContext::interrupted()
	(cleanUpLexer): call UserLevelRewritingContext::setInteractive()
	(includeFile): call UserLevelRewritingContext::setInteractive()
	(handleEof): call UserLevelRewritingContext::setInteractive()
	deleted global variable "interactive"

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	deleted static data members debugMode, savedTraceStatus, debugStatus
	(class UserLevelRewritingContext): added static data members
	interactiveFlag, traceFlag, debugLevel and parseResult
	(class UserLevelRewritingContext): enum ParseResult replaces enum
	DebugCommand
	(class UserLevelRewritingContext): deleted decls for
	handleCtrlC(), clearCtrlC(), debugCommand(), printPrompt()
	(class UserLevelRewritingContext): added decls for
	interruptHandler(), initialize()
	(interrupted): added

Thu Nov 19 15:42:33 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* interact.cc: created by splitting off user interaction code from
	userLevelRewritingContext.cc
	(clearCtrlC): deleted
	(handleCtrlC): deleted
	(commandLoop): rewritten
	(handleDebug): rewritten
	(printPrompt): deleted
	(debugCommand): deleted
	(initialize): added
	(interruptHandler): added

Wed Nov 18 11:47:25 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added WHERE to enum DebugCommand

	* lexer.flex: added keyword where

	* commands.y: added syntax for where command

	* top.y: added token KW_WHERE

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for where()

	* userLevelRewritingContext.cc (where): added

	* lexerAux.cc (getInput): call printPrompt()

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decl for printPrompt()

	* userLevelRewritingContext.cc (debugCommand): added
	(printPrompt): added

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added DebugCommand
	(class UserLevelRewritingContext): added decl for debugCommand()
	and static data member debugStatus

	* lexer.flex: added keyword resume, abort and step

	* commands.y: added syntax and actions for resume, abort and step

	* top.y: added tokens for resume, abort and step

Mon Nov 16 10:39:06 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexerAux.cc (cleanUpLexer): need to goto INITIAL mode, not
	ID_MODE

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added decls for commandLoop(), handleCtrlC(), clearCtrlC()
	(class UserLevelRewritingContext): added decl for handleDebug()

	* userLevelRewritingContext.cc (traceBeginEqTrial): call
	handleDebug()
	(traceBeginRuleTrial): call handleDebug()
	(traceBeginScTrial): call handleDebug()
	(tracePreEqRewrite): call handleDebug()
	(tracePreRuleRewrite): call handleDebug()
	(tracePreScApplication): call handleDebug()
	(commandLoop): added
	(handleDebug): added

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added static data members ctrlC_Flag, debugMode, savedTraceStatus

	* userLevelRewritingContext.cc (clearCtrlC): added
	(handleCtrlC): added

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated makeSubcontext() decl

	* metaLevelOpSymbol.cc (metaSortLeq): use RewritingContext::builtInReplace()
	(metaSameComponent): use RewritingContext::builtInReplace()
	(metaLeastSort): use RewritingContext::builtInReplace()
	(metaLesserSorts): use RewritingContext::builtInReplace()
	(metaGlbSorts): use RewritingContext::builtInReplace()
	(metaReduce): use RewritingContext::builtInReplace()
	(metaParse): use RewritingContext::builtInReplace()
	(metaRewrite): use RewritingContext::builtInReplace()
	(metaApply): use RewritingContext::builtInReplace()
	(errorRewrite): use RewritingContext::builtInReplace()
	(errorRewrite2): use RewritingContext::builtInReplace()

	* quotedIdentifierOpSymbol.cc (eqRewrite): traceStatus() -> getTraceStatus() 

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated complex ctor decl

	* commands.y: setTraceFlag() -> setTraceStatus()

	* userLevelRewritingContext.hh (setTraceFlag): deleted
	(class UserLevelRewritingContext): deleted static data member traceFlag

	* userLevelRewritingContext.cc (UserLevelRewritingContext):
	(simple version): init parent, purpose and localTraceFlag
	(UserLevelRewritingContext): (complex version): take extra args
	parent and purpose; init parent, purpose and localTraceFlag
	(makeSubcontext): purpose is now an int, pass parent and purpose
	to ctor; use localTraceFlag
	(traceBeginEqTrial): check localTraceFlag
	(traceBeginRuleTrial): check localTraceFlag
	(traceBeginScTrial): check localTraceFlag
	(tracePreScApplication): check localTraceFlag
	(tracePreRuleRewrite): check localTraceFlag
	(tracePreEqRewrite): check localTraceFlag

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	added enum OtherPurpose; data members parent, purpose, localTraceFlag

Sat Nov 14 21:17:50 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* main.cc (interruptHandler): take arg list (...) for ANSI compliance
	No longer need decl for sigvec()

Fri Nov 13 11:39:46 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* main.cc (main): call cleanUpLexer() rather than
	returnToTopLevel() and lexerInitialMode()

	* lexerAux.cc (returnToTopLevel): becomes cleanUpLexer(), now
	restore initial lexer mode

	* main.cc (main): call returnToTopLevel() when recovering from an interrrupt

	* lexer.flex: don't call handleEof() in start of yylex() code;
	clean up will be handled by outside caller via returnToTopLevel()
	(<<EOF>>): call yyterminate() if ctrlC_Interrupt; handleEof() will
	now only handle real eofs and eof directives; not eofs generated
	by ctrl-C handling; maybe we should use yywrap()?

	* lexerAux.cc (getInput): rewritten using read() system call to
	avoid slow system call restart problem in linux stdio lib
	(returnToTopLevel): added

	* lexer.flex: MAUDE_EOF -> KW_EOF

	* top.y: MAUDE_EOF -> KW_EOF

	* lexer.flex: define YY_DECL; use pure parser calling convention
	instead of yylval

	* top.y: added %pure_parser directive

Thu Nov 12 11:19:29 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexer.flex: added code to check for ctrlC_Interrupt and call
	yyterminate() if true; the reason for this is that if we are
	reading from a file we may grab a huge chunk of the file with a
	single call to YY_INPUT and then end up ignore ctrl-C while we
	processs it;

	* fileTable.cc (beginModule): only print module name type and name
	if file stack is non-empty; this is a temporary hack we really
	need some consistant way of check for an interactive file and
	quiet reading mode
	(closeFile): print message about being down with file
	(openFile): print message about reading file

	* lexerAux.cc (handleEof): deleted prompt code

	* fileTable.cc (beginModule): print module name type and name

	* lexer.flex: deleted promptSave

	* lexerAux.cc (eatComment): don't increment line number for \r
	(includeFile): set interactive
	(handleEof): set interactive

	* main.cc (setSignalHandlers): use sigaction mechanism rather than
	sigvec mechanism for compatibility with non-bsd 4.2 based unixes

Wed Nov 11 14:01:33 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* main.cc: made ctrlC_Interrupt volatile

	* main.hh (yylex): made ctrlC_Interrupt volatile

Tue Nov 10 11:53:24 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* bottom.y (cleanUpParser): handle case where there is no currentModule

	* lexerAux.cc (getInput): now return void

	* bottom.y (cleanUpParser): if currentModule is incomplete, print
	an advisory and delete it
	(yyerror): be quiet if handling a ctrl-C

	* lexer.flex: don't handle prompting anymore

	* lexerAux.cc (handleEof): don't allow inStackPtr to go -ve during
	ctrl-C handling
	(getInput): call clearerr() if we get an EOF due to ctrl-C
	(getInput): handle prompting

	* main.cc (main): use cleanUpParser() after ctrl-C

	* bottom.y (cleanUpParser): added

	* main.cc (main): reset lexer and recall parser after ctrl-C

	* bottom.y (yyerror): issue advisory in ctrl-C case

	* main.cc (main): use sigvec()

	* main.hh (yylex): added decl for ctrlC_Interrupt

	* main.cc: added global variable ctrlC_Interrupt

	* lexer.flex: redefine YY_INPUT to use getInput()

	* lexerAux.hh (handleEof): added decl for getInput()

	* lexerAux.cc (getInput): added

Mon Nov  9 11:40:20 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* modules.y: opNameList2 and simpleOpName2 moved to command.y
	

	* parser.bison: split into top.y, modules.y, commands.y, bottom.y

Fri Nov  6 16:34:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexer.flex: added tokens MATCH_LEQ and UNIFY_EQ to command mode

	* parser.bison (command): added syntax for match command; have
	select command use moduleExp
	(ctokens): added
	(ctoken): added
	(cTokenBarDot): accept MATCH_LEQ, UNIFY_EQ; use ctokens
	(cTokenBarColon): accept MATCH_LEQ, UNIFY_EQ; use ctokens
	(cTokenBarMatchLeq): accept UNIFY_EQ; use ctokens
	(cTokenBarIn): accept MATCH_LEQ, UNIFY_EQ; use ctokens
	(cTokenBarLeftIn): accept MATCH_LEQ, UNIFY_EQ; use ctokens
	(cTokenBarNumber): accept MATCH_LEQ, UNIFY_EQ; use ctokens
	(cTokenBarRight): accept MATCH_LEQ, UNIFY_EQ; use ctokens

	* quotedIdentifierTerm.cc (deepCopy): -> deepCopy2()

	* quotedIdentifierTerm.hh (class QuotedIdentifierTerm): deepCopy()
	-> deepCopy2()

Thu Nov  5 16:11:48 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* parser.bison (renamingItem): made syntax consistant with OBJ3
	(renamingList): made syntax consistant with OBJ3
	(command): modified red and parse command to use inExp and
	nonInTerm nonterminals; this means that (at least for the moment -
	some flex hacking may be possible) we will no longer accept
	command like "red in(0) .", but we can now use the bison parser to
	directly parse complex module expressions occuring in commands

	* lexer.flex: added keywords include and BOOL

	* parser.bison (command): added syntax for set include BOOL on/off
	command

Wed Nov  4 11:24:34 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaDown.cc (downOpDecl): set line number of symbol to
	FileTable::META_LEVEL_CREATED
	(downVarDecl): set line number of symbol to
	FileTable::META_LEVEL_CREATED

	* process.cc (processOps): set line number of symbol if we are the
	originator

	* import.cc (donateOps): set line number of symbol if we are the
	original; check for symbol clash and give informative message

	* preModule.cc (PreModule): set our line number

	* import.cc (donateSorts): set line number of added sorts to that
	of original sort
	(donateSorts): have very detailed sort clash message incorporating
	line numbers and modules of clashing sorts.

	* metaDown.cc (downSorts): set line number of added sorts to
	FileTable::META_LEVEL_CREATED

	* process.cc (processSorts): set line number of added sorts
	(getSort): set line number of added sort to
	FileTable::SYSTEM_CREATED; don't need findSort() hack any more

	* mixfixModule.hh (class MixfixModule): updated addSort() decl

	* entry.cc (addSort): return ptr to new sort

	* metaLevelOpSymbol.cc (metaParse): pass line number as
	FileTable::META_LEVEL_CREATED when turning Qids into tokens

	* mixfixParser.cc (makeStatement): use LineNumber::setLineNumber()
	in 6 places to store a line number in each mb/eq/rl
	(makeTerm): restructured; store line number of first token of
	parse in each term

===================================Engine43==================================================

Sat Oct 31 13:06:55 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): updated decl for
	prettyPrint() (Term* version)

	* prettyPrint.cc (showAll): get fmod/mod endfm/endm correct
	(prettyPrint): (Term* version) modified algorithm to take capture
	components into account - now symmetric with DagNode* version

Fri Oct 30 17:25:08 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexer.flex: added kinds and components keywords

	* parser.bison (command): added syntax for show kinds command

	* mixfixModule.hh (class MixfixModule): added decl for showComponents()

	* prettyPrint.cc: added

	* lexer.flex: added summary keyword

	* parser.bison (command): added syntax for show summary command

	* mixfixModule.hh (class MixfixModule): added decl for showSummary()

	* prettyPrint.cc (showSummary): added

	* parser.bison (moduleExp): temporary hack to allow simple imports
	to work again

Thu Oct 29 11:46:18 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* parser.bison (endfm): added
	(endm): added
	(module): use endfm and endm to handle incorrect end of module
	keyword
	(moduleExp): added
	(renamingList): added
	(renamingItem): added

	* prettyPrint.cc (operator<<): (Rule* version) print labels as
	"[foo]:" rather than "[foo] :"

	* import.cc (donateStatements): handle rules
	(donateStatements): handle membership axioms

	* preModule.cc (process): insert module into module database here
	(PreModule): don't do it here

Tue Oct 27 10:56:35 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* prettyPrint.cc (showVars): don't print invisible variables

	* import.cc (donateOps): add translations for symbols we imported
	into importers symbols so that our equations can be correctly
	imported in the next phase
	(donateOps): need to translate sort components! do this by finding
	name of 1st user sort of component, looking up the corresponding
	sort in the importer, and taking its component

	* preModule.hh (class PreModule): added data member nrImportedOps

	* import.cc (donateStatements): onlt import native equations

	* preModule.cc (process): set nrImportedMembershipAxioms,
	nrImportedEquations, nrImportedRules

	* symbolTranslation.cc (translate): added assert to catch no
	translation case

Mon Oct 26 09:27:19 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (process): call importStatements()

	* preModule.hh (class PreModule): added decls for
	importStatements() and donateStatements()

	* import.cc (donateStatements): added
	(importStatements): added

	* mixfixModule.cc (makeSymbolProductions): don't make productions
	for invisible symbols

	* import.cc (donateOps): make imported variables invisible

	* entry.cc (addOpDeclaration): support INVISIBLE flag

	* mixfixModule.hh (class MixfixModule): added INVISIBLE to enum SymbolFlags

	* preModule.hh (class PreModule): added decls for importOps() and
	donateOps()

	* import.cc (donateOps): added
	(importOps): added

	* symbolTranslation.hh (class SymbolTranslation): created

	* symbolTranslation.cc: created

Fri Oct 23 11:28:35 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (process): fill out nrImportedSubsorts vector

	* import.cc (donateSorts): handle subsorts

	* preModule.hh (class PreModule): added decl for resetImportPhase()
	(class PreModule): added data member nrImportedSubsorts;

	* import.cc (donateSorts): import from flatten sort vector rather
	than from sort declarations; this is simpler and does the right
	thing for automatically created sorts
	(resetImportPhase): added

	* preModule.cc (process): set nrImportedSorts and nrUserSorts

	* preModule.hh (class PreModule): added data members nrUserSorts,
	nrImportedSorts, nrImportedMembershipAxioms, nrImportedEquations,
	nrImportedRules

	* preModule.cc (process): call resetImports()

	* import.cc (donateSorts): need to update importPhase
	(resetImports): added

Thu Oct 22 11:01:05 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* import.cc (processImports): prohibit recursive importation

	* preModule.cc (process): call importSorts()

	* preModule.hh (class PreModule): added decls for
	processImports(), importSorts(), donateSorts()

	* import.cc: created
	(donateSorts): added

	* preModule.cc (PreModule): set importPhase = UNVISITED
	(process): call processImports()

	* preModule.hh (class PreModule): added data member importedModules
	(class PreModule): added data member importPhase;
	(class PreModule): added enum Phase

	* process.cc (processSorts): use LineNumber ctor
	(processSorts): use IssueWarning() and LineNumber ctor
	(getSort): use IssueWarning() and LineNumber ctor

	* ops.cc (addVarDecl): use IssueWarning() and LineNumber ctor
	(setPrec): use IssueWarning() and LineNumber ctor
	(setGather): use IssueWarning() and LineNumber ctor (2 places)
	(setStrat): use IssueWarning() and LineNumber ctor

	* mixfixParser.cc (parseTerm): use IssueWarning() and LineNumber
	ctor (2 places)
	(parseStatement): use IssueWarning() and LineNumber ctor (2 places)
	(parseSentence): use IssueWarning() and LineNumber ctor

	* parser.bison (attrKeyword): use IssueWarning() and LineNumber ctor

	* lexer.flex: use IssueWarning() and LineNumber ctor thoughout

	* fileTable.cc (printLineNumber): don't bother printing (command)
	when we're not in a module

	* lexer.flex: have FMOD and MOD return Token

	* parser.bison: have FMOD and MOD return Token
	(module): call FileTable::beginModule() and FileTable::endModule()

	* fileTable.cc (printLineNumber): print file name correctly

	* lexerAux.cc (includeFile): added call to FileTable::openFile()
	(handleEof): added call to FileTable::closeFile()

	* main.cc: added global variable fileTable

	* fileTable.cc (closeFile): rewritten using new scheme
	(endModule): implemented

Wed Oct 21 11:27:03 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* fileTable.cc (closeFile): created

	* fileTable.hh (class FileTable): created

Fri Oct 16 16:03:13 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (findSort): added AdvisoryCheck() for the case
	where we couldn't find sort
	(findSymbol): added AdvisoryCheck() for the case
	where we couldn't find symbol
	(findSort): removed AdvisoryCheck() since we often look for
	non-existant sorts at object level

Thu Oct 15 15:14:01 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): dded decls for
	postInterSymbolPass() and reset()

	* metaLevelOpSymbol.cc (postInterSymbolPass): added
	(reset): added

	* metaLevel.hh (class MetaLevel): added decls for
	postInterSymbolPass() and reset()

	* metaLevel.cc (postInterSymbolPass): added
	(reset): added

Wed Oct 14 15:49:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevelOpSymbol.cc (eqRewrite): get META_SORT_LEQ and
	META_SAME_COMPONENT cases arround the correct way

	* metaDown.cc (downFixUps): fix up identities

	* metaFastUp.cc (fastUpBool): implemented using CachedDag::getDag()

	* metaLevel.cc (bind): Term* version added

	* metaLevel.hh (class MetaLevel): added data members trueTerm and
	falseTerm
	(class MetaLevel): added decl for Term* version of bind()

	* preModule.cc (fixUpSymbols): handle TERM_HOOK in MetaLevel

Tue Oct 13 18:52:07 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevelOpSymbol.cc (metaSameComponent): added
	(eqRewrite): added META_SAME_COMPONENT case
	(fixUp): added META_SAME_COMPONENT case

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added
	META_SAME_COMPONENT to OpType
	(class MetaLevelOpSymbol): added decl for metaSameComponent()

===================================Engine42==================================================

Fri Oct  9 15:29:00 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* quotedIdentifierDagNode.hh (getIdIndex): made const
	(class QuotedIdentifierDagNode): updated decl of getIdIndex()

Thu Oct  8 14:49:12 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* quotedIdentifierDagNode.cc (compareArguments): simplified

	* quotedIdentifierTerm.cc (compareArguments): (DagNode* version)
	added const and simplified
	(compareArguments): (Term* version) added const and simplified

	* quotedIdentifierDagNode.cc (compareArguments): added const

	* metaFastUp.cc (fastUpQid): added const_cast

Wed Sep 30 15:50:48 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): updated decl for
	prettyPrint() (DagNode* version)

	* prettyPrint.cc (prettyPrint): (DagNode* version) added idea of
	leftCaptureComponent and rightCaptureComponent to avoid
	introducing unnecessary parens to avoid captures that can't happen
	anyway because of component clashes
	(operator<<): (DagNode* version) use new prettyPrint() conventions

===================================Engine41==================================================

Mon Sep 21 10:32:40 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevel.hh (class MetaLevel): updated decls for downSort() and
	fastUpSort()

	* metaFastUp.cc (fastUpSort): deleted SortCode arg

	* metaDown.cc (downSort): deleted SortCode arg

	* metaLevelOpSymbol.cc (metaSortLeq): use new sort mechanisms
	(metaLeastSort): use new sort mechanisms
	(metaLesserSorts): use new sort mechanisms
	(metaGlbSorts): use new sort mechanisms

	* prettyPrint.cc (showSorts): use leq(Sort*, int)
	(showSorts): use leq(int, Sort*)
	(showSorts): use leq(Sort*, Sort*) (2 places)
	
===================================Engine40==================================================

Thu Aug 27 13:47:16 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* prettyPrint.cc (prettyPrint): (term version) modified needParen
	condition and  capture calcs to ensure we get capture values
	correct in the case that we insert parens or sort disambiguation
	(prettyPrint): (prettyPrint): (dagnode version) symmetric changes
	made

	* preModule.hh (class PreModule): added decl for printBubble()

	* command.cc (printBubble): added
	(contLoop): use printBubble()
	(loop): use printBubble()

Wed Aug 26 16:54:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* prettyPrint.cc (prettyPrint): updated rangeKnown propagation
	calc to take into account once we decide to insert sort
	disambiguation then we will know range (both versions).

	* mixfixModule.hh (class MixfixModule): updated decl for
	prettyPrint() (dagnode version)

	* prettyPrint.cc (operator<<): (dagnode version) pass rangeKnown =
	false
	(prettyPrint): (dagnode version) added rangeKnown and code for sort
	disambiguation

	* loopSymbol.cc (createQidList): backquote ( ) [ ] { } ,
	(extractQid): remove backquote if backquoted thing is a single
	char
	NOTE: need to come up with global policy and functions for
	backquoted and unbackquoting

	* token.hh (class Token): made specialChar public

Mon Aug 24 11:12:03 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): updated decl for
	prettyPrint() (term version)

	* prettyPrint.cc (operator<<): (term version) pass rangeKnown = false
	(prettyPrint): (term version) added rangeKnown and code for sort
	disambiguation

Fri Aug 21 10:24:05 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* process.cc (processSorts): handle "Universal" sort slots of
	polymorphs correctly

	* preModule.cc (findSymbol): deleted
	(extractSpecialSymbol): deleted
	(extractSpecialTerms): deleted

	* command.cc (loop): implemented
	(contLoop): implemented

	* loopSymbol.hh (class LoopSymbol): added decls for
	createQidList(), extractQid(), extractQidList()

	* loopSymbol.cc (injectInput): added
	(extractOutput): added
	(extractQid): added
	(extractQidList): added
	(createQidList): added

	* loopSymbol.hh (class LoopSymbol): added decls for
	extractOutput() and injectInput()

Thu Aug 20 10:48:49 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.hh (class PreModule): added decls for loop() and contLoop()

	* command.cc (loop): added stub
	(contLoop): added stub

	* parser.bison (command): added "( tokens )" command

	* lexer.flex: added loop keyword
	now recognize ( and ) in initial mode

	* parser.bison (command): added loop command

	* preModule.cc (fixUpSymbols): hand LoopSymbols

	* entry.cc (addOpDeclaration): handle LOOP_SYMBOL flag

	* loopSymbol.cc: added

	* loopSymbol.hh (class LoopSymbol): created

	* preModule.cc (fixUpSymbols): rewritten using new functions and
	data structure and supporting new notation notation

	* process.cc (processOps): use findHook()

	* preModule.hh (class PreModule): added decls for findHook() and
	findHookSymbol()

	* preModule.cc (findHook): added
	(findHookSymbol): added

	* process.cc (processOps): handle new Bubble special format

Wed Aug 19 11:18:48 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* ops.cc (addHook): check for LoopSymbol

	* mixfixModule.hh (class MixfixModule): added LOOP_SYMBOL to enum SymbolFlags

	* ops.cc (setSpecial): deleted
	(addHook): created

	* preModule.hh (class PreModule): deleted decl for setSpecial();
	added decl for addHook()
	(class PreModule): added struct Hook; OpDef.special is now Vector<Hook>

	* lexer.flex: added id-hook, op-hook, term-hook

	* parser.bison (attrKeyword): added KW_ID_HOOK, KW_OP_HOOK, KW_TERM_HOOK
	(attribute): special now takes hook list
	(hookList): added
	(hook): added

	* token.cc (prefixNameCode): simplified using specialChar()
	(prefixNameCode): added fast case for 1 token without leading
	special char
	(extractMixfix): use bufferExpandTo() and specialChar()
	(extractMixfix): simplified removing all backQuote warnings under
	the assumption that prefix code will always be legal

	* token.hh (specialChar): added
	(class Token): added decl for specialChar()

	* token.cc (prefixNameCode): simplified using new semantics of bufferExpandTo()

	* token.hh (bufferExpandTo): use reallocateBuffer()
	(class Token): added decl for reallocateBuffer()

	* token.cc (reallocateBuffer): added

Tue Aug 18 10:39:19 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* token.cc (prefixNameCode): rewritten and greatly simpified;
	handle difficult cases correctly

	* lexer.flex: completely rewrote definition of tokens: no longer
	worry about starting with *** or --->
	We now have strict idea about where ` can appear in a token - only
	between normal characters or in front of ( ) [ ] { } ,
	Amount matched by comments increased so that will prevail

	* metaLevel.cc (MetaLevel): remove UMR bug by setting cachedModule
	= 0

	* metaLevel.hh (class MetaLevel): added ctor decl

	* lexer.flex: don't allow stray backquotes in tokens
	` becomes an unexpected token in initial mode
	detect stray ` in id mode
	unmade these chnange since ` is allowed in id's to indicate a space

Mon Aug 10 16:16:46 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexer.flex: prevent tokens from containing the string *** so
	that comments do not have to have a space after ***
	Now only rule out *** at the begining of a token

Fri Jul 31 12:29:13 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaDown.cc (downBubbleSpec): handle excluded tokens

	* process.cc (processOps): pass dummy vector to addBubbleSpec()

	* mixfixModule.hh (class MixfixModule): updated addBubbleSpec() decl

	* entry.cc (addBubbleSpec): take excludedTokens arg

	* mixfixParser.cc (makeTerm): need to resize rather than contract
	to deal with 0 length bubbles

	* metaDown.cc (downBubbleSpec): strip back quotes from parens

	* metaLevel.hh (class MetaLevel): added decls for downFixUps() and
	downFixUpBubble()

	* metaDown.cc (downFixUpBubble): added
	(downFixUps): added

	* metaModule.hh (class MetaModule): make MetaLevel into a friend
	for a really nasty hack

	* metaFastUp.cc (fastUpTerm): nasty hack to get qids to go up
	right - need to fix many other cases

	* metaDown.cc (downOpDecl): handle bubbles specially
	(downBubbleSpec): added

	* metaLevel.hh (class MetaLevel): added decls for downHookList()
	and downIdHook()

	* metaDown.cc (downAttr): handle special list
	(downHookList): added
	(downIdHook): added

	* preModule.cc (fixUpSymbols): hack for call to fixUpBubbleSpec()

	* mixfixModule.hh (class MixfixModule): updated fixUpBubbleSpec() decl

	* mixfixModule.cc (makeBubbleProductions): handle excluded tokens
	(fixUpBubbleSpec): handle nilQidListSymbol

	* metaLevel.cc (bind): handle hookListSymbol,
	idHookSymbol, opHookSymbol, termHookSymbol

	* metaLevel.hh (class MetaLevel): added hookListSymbol,
	idHookSymbol, opHookSymbol, termHookSymbol data members

	* metaDown.cc (downAttr): handle prec and gather

	* metaLevelOpSymbol.cc (metaParse): use new fastUpTerm()
	(errorRewrite): cast first arg in call to fastUpTerm() to
	disambiguate (old one should really be renamed to fastUpDag()

	* quotedIdentifierTerm.hh (getIdIndex): added; together with decl

	* metaFastUp.cc (fastUpTerm): Term* version added

	* metaDown.cc (downModule): rewritten to inter leave down calls
	with module processing calls in proper order

	* metaLevelOpSymbol.cc (fixUp): link in META_PARSE
	(eqRewrite): call metaParse()

	* metaLevel.hh (class MetaLevel): made downQidList() public

	* metaLevelOpSymbol.cc (metaParse): implemented is a really hacky way

	* metaLevelOpSymbol.hh (class MetaLevelOpSymbol): added decl for
	metaParse(); added META_PARSE to enum OpType

	* metaLevel.cc (bind): opDeclListSymbol and
	nilOpDeclListSymbol goto opDeclSetSymbol

	* metaDown.cc (downOpDecls): opDeclListSymbol and
	nilOpDeclListSymbol goto opDeclSetSymbol; set ctor is now ACU

	* metaLevel.hh (class MetaLevel): opDeclSetSymbol and
	emptyOpDeclSetSymbol replace opDeclListSymbol and nilOpDeclListSymbol

Thu Jul 30 12:38:46 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (fixUpSymbols): implemented shareWith feature for MetaLevelOpSymbols

	* metaLevel.cc (bind): support data memebrs just added

	* metaLevel.hh (class MetaLevel): added data members memoSymbol,
	precSymbol, gatherSymbol, specialSymbol

	* mixfixModule.hh (class MixfixModule): added nilQidListSymbol to struct BubbleSpec

	* mixfixParser.cc (makeTerm): backquote ()[]{}, before turning
	them into qids
	(makeTerm): deal with empty bubble case

	* metaLevel.hh (class MetaLevel): updated decls for downAttrSet()
	and downAttr()

	* metaDown.cc (downAttrSet): rewritten
	(downAttr): rewritten

	* mixfixModule.cc (findSymbol): fixed nasty bug where we were
	using index rather than firstSymbols[index] to start our search

	* metaFastUp.cc (fastUpQid): added
	(fastUpTerm): use fastUpQid

	* mixfixModule.cc (createSortTest): set SORT_TEST flag

	* mixfixModule.hh (getFlags): added
	(class MixfixModule): added SORT_TEST to enum SymbolFlags

Wed Jul 29 11:13:54 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (extractSpecialSymbol): added
	(fixUpSymbols): fix up MetaLevelOpSymbols

	* metaFastUp.cc: adapted from old version

	* mixfix.hh: created

	* entry.cc (addOpDeclaration): create MetaLevelOpSymbols

	* ops.cc (setSpecial): recognize MetaLevelOpSymbol

	* process.cc (processOps): don't call MachineIntegerSymbol::fixUp()

	* metaLevelOpSymbol.cc: adapted from old version
	(fixUp): added

	* metaLevelOpSymbol.hh: adapted from old version

	* metaDown.cc (downOpDecl): rewritten

Tue Jul 28 16:39:20 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaDown.cc: MixfixModule -> MetaModule
	(downTerm): rewritten

	* metaLevel.hh (class MetaLevel): added data member
	metaDisambigSymbol; MixfixModule -> MetaModule

	* metaModule.cc: created

	* metaModule.hh: created

	* mixfixModule.cc (findSymbol): added

	* entry.cc (addOpDeclaration): only compare domains if arities are
	the same!

	* mixfixModule.hh (class MixfixModule): added decl for findSymbol.cc

	* metaDown.cc (downQidSet): deal with repeated elements correctly
	(downMembAx): rewritten
	(downVarDecl): rewritten
	(downSubsort): rewritten
	(downEquation): rewritten

Mon Jul 27 10:37:17 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* command.cc (showModule): added stub

	* preModule.hh (class PreModule): added decl for showModule()

	* parser.bison (command): use selectModule() in cont and many of
	the show commands

	* command.cc (rewrite): print number of rewrites limit in showCmd
	case (if not UNBOUNDED)

	* parser.bison (command): pass start = 1 to selectModule() in
	parse, red and rew commands to skip over "in"

	* preModule.hh (class PreModule): updated decl for selectModule()

	* command.cc (selectModule): added start arg

	* preModule.hh (class PreModule): added decl for selectModule();
	deleted decl for findModule()

	* preModule.cc (findModule): deleted

	* command.cc (selectModule): added

	* parser.bison (command): use selectModule() in select, parse, red
	and rew commands

	* preModule.cc (findModule): added

	* preModule.hh (class PreModule): added decl for findModule

	* preModule.cc: added moduleNames and modules static data
	(PreModule): save pointer to new module together with name in
	modules and moduleNames

	* preModule.hh (class PreModule): added static data members
	moduleNames and modules;

	* preModule.cc (PreModule): don't initialize moduleName, pass moduleType
	(dump): don't use moduleName

	* mixfixModule.hh (class MixfixModule): added moduleType arg to ctor
	(class MixfixModule): added data member moduleType

	* preModule.hh (class PreModule): added moduleType arg to ctor
	(class PreModule): delete data member moduleName;

	* mixfixModule.cc (MixfixModule): now take module type arg

Sat Jul 25 12:56:50 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* parser.bison (tokenBarDot): added NUMBER_TOK since we use this
	in command mode in "trace select" (maybe we should have a complete
	split between cmd mode and id mode?)

	* lexer.flex: added keyword select

	* parser.bison: bubble2 -> moduleExpr
	(command): added syntax for select command

	* command.cc (rewrite): removed hack to recognize limit within
	bubble since we can now resolve this in the bison parser

	* lexer.flex: need to distinguish NUMBER from NUMBER_TOK because of return types

	* parser.bison (cTokensBarColon): need to distinguish NUMBER from
	NUMBER_TOK because of return types

	* lexer.flex: have command mode recognize [ ] and numbers

	* parser.bison (cTokenBarRight): added
	(cTokenBarNumber): added
	(cTokenBarLeftIn): added
	(nrModuleTerm): added
	(nrModuleTerm1): added
	(nrModuleTerm2): added
	(token): added NUMBER since we may use this is command mode where
	numbers are now recognized

	* metaDown.cc: created from old front end metaDown.cc

Fri Jul 24 15:02:37 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* metaLevel.hh: created from old maudeModule.hh

	* mixfixModule.cc (makeBubbleProductions): hacked to new
	parser-bubble conventions

Thu Jul 23 11:31:15 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added MAKE_BUBBLE action

	* mixfixParser.cc (parseSentence): handle previously unseen tokens
	if we have bubble specs present
	(makeTerm): added code to MAKE_BUBBLE

	* mixfixModule.hh (class MixfixModule): added decl for makeBubbleProductions()

	* mixfixModule.cc (makeBubbleProductions): added
	(makeGrammar): call makeBubbleProductions();

	* preModule.cc (fixUpSymbols): call fixUpBubbleSpec() if op is a bubble

	* mixfixModule.hh (class MixfixModule): added decls for
	addBubbleSpec() and fixUpBubbleSpec()

	* mixfixModule.cc (fixUpBubbleSpec): added

	* entry.cc (addBubbleSpec): added

	* ops.cc (setSpecial): recognize Bubble

	* process.cc (processOps): call addBubbleSpec() if op is a bubble

	* mixfixParser.cc (parseTerm): use ROOT_NODE (2 places)
	(parseStatement): use ROOT_NODE

	* mixfixModule.hh (class MixfixModule): added BUBBLE flag
	(class MixfixModule): added data member bubble components

Wed Jul 22 10:55:16 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): deleted
	INSTANTIATE_POLYMORPH, PREVIOUS, CREATE_ITEF, CREATE_EQUALITY
	actions
	(class MixfixModule): deleted instantiatePolymorph() and
	fixupPolymorphs() decls

	* mixfixModule.cc (MixfixModule): deleted gatherAnyAnyAny

	* mixfixModule.hh (class MixfixModule): deleted decls for
	insertSymbol() (both versions), insertSort(), createItef(),
	createEquality(); deleted EQUALITY_PREC; deleted gatherAnyAnyAny

	* mixfixModule.cc (makePolymorph): get condition for expanding
	instantiations vector correct
	(makeGrammar): don't call fixupPolymorphs()

	* mixfixParser.cc (makeTerm): get polymorphIndex, componentIndex
	around the right way

	* mixfixModule.cc (makePolymorphProductions): compute nrArgs correctly

	* ops.cc (setSpecial): recognize BranchSymbol and EqualitySymbol

	* process.cc (getSort): hack to make sure we return the correct
	sort

	* preModule.hh (class PreModule): added polymorphIndex to struct
	OpDecl (actually a union with symbol)

	* mixfixModule.hh (class MixfixModule): added decls for
	makePolymorph() and fixUpPolymorph()
	(class MixfixModule): added MAKE_POLYMORPH to enum Actions

	* mixfixModule.cc (createItef): deleted
	(createEquality): deleted

	* mixfixParser.cc (makeTerm): don't handle PREVIOUS,
	CREATE_EQUALITY, CREATE_ITEF, INSTANTIATE_POLYMORPH
	(makeTerm): handle MAKE_POLYMORPH

	* process.cc (processOps): add polymorphs

	* preModule.cc (fixUpSymbols): fix up polymorphs as well

	* mixfixModule.cc (makePolymorphProductions): heavily rewritten
	(insertSort): deleted
	(insertSymbol): deleted (both versions)
	(insertPolymorph): deleted
	(makePolymorph): added
	(instantiatePolymorph): deleted
	(fixupPolymorph): added
	(fixupPolymorphs): deleted

	* mixfixModule.hh (class MixfixModule): reorganized struct Polymorph

	* entry.cc (addPolymorph): added

Tue Jul 21 11:34:36 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for
	makeBoolProductions(); deleted decl for protectingBool()

	* mixfixModule.cc (protectingBool): deleted
	(makeBoolProductions): added
	(makeGrammar): call makeBoolProductions();

	* entry.cc (addOpDeclaration): set trueSymbol, falseSymbol, boolSort

	* preModule.cc (fixUpSymbols): fix up QuotedIdentifierOpSymbols

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	updated fixUp() decl

	* quotedIdentifierOpSymbol.cc (fixUp): take op arg as a string;
	this will avoid having to do this translation in several places in
	the future

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	added decl for fixUp(), deleted decl for setSymbols(), updated
	decl for ctor

	* quotedIdentifierOpSymbol.cc (fixUp): added
	(setSymbols): deleted
	(QuotedIdentifierOpSymbol): now just take id and nrArgs

	* entry.cc (addOpDeclaration): can't use domainComponent(0 and
	rangeComponent() here since the symbols have yet to be compiled;
	take a look at the first op decl instead

	* mixfixModule.hh (class MixfixModule): made findMatchingParen() protected

	* preModule.hh (class PreModule): added decl for extractSpecialTerms()

	* preModule.cc: added
	(fixUpSymbols): fix up MachineIntegerOpSymbols

	* process.cc (processOps): added code to fixUp() MachineIntegerSymbols

	* quotedIdentifierTerm.hh (class QuotedIdentifierTerm): added decl
	for deepCopy()

	* quotedIdentifierTerm.cc (deepCopy): added

	* preModule.hh (class PreModule): tidying up of old decls

Mon Jul 20 10:43:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.hh (class PreModule): fixUpIdentities() -> fixUpSymbols()

	* preModule.cc (fixUpIdentities): -> fixUpSymbols()
	(process): call fixUpSymbols()

	* process.cc (getSort): use addSort()

	* preModule.cc (makeSymbol): deleted
	(process): don't call protectingBool()

	* lexer.flex (id): BUILTIN -> SPECIAL

	* parser.bison (attribute): BUILTIN -> SPECIAL
	(attribute): use setSpecial()

	* preModule.hh (class PreModule): deleted connectedOpDefs(),
	protectingBoolSort() and protectingBoolOps() decls

	* process.cc (processOps): rewritten using MixfixModule::addOpDeclaration()

	* production.cc (connectedOpDefs): deleted
	(processOps): moved to process.cc

	* preModule.cc (getSort): moved to process.cc
	(processStatements): moved to process.cc
	(processSorts): moved to process.cc

	* process.cc (processSorts): updated to use new struct OpDef

	* ops.cc (addVarDecl): updated to use new struct OpDef
	(setGather): updated to use new struct OpDef
	(setStrat): updated to use new struct OpDef

	* preModule.hh (class PreModule): setBuiltIn() ->setSpecial(),
	setDomain() -> setDomainAndRange(),setRange() deleted 

	* ops.cc (setSpecial): replaces setBuiltIn()

	* preModule.hh (class PreModule): struct OpDef completely reorganized

	* ops.cc (setDomainAndRange): replaces setDomain()
	(setRange): deleted

	* parser.bison (declaration): use setDomainAndRange

	* entry.cc (addOpDecl): -> addOpDeclaration()

	* mixfixModule.hh (class MixfixModule): updated insertSort() decl
	(class MixfixModule): addOpDecl() -> addOpDeclaration()

	* entry.cc (addSort): reverted to previous version

	* preModule.hh (class PreModule): added originator field to struct OpDecl

	* lexer.flex (id): added KW_ prefixes to COMM, IDEM, PREC, GATHER,
	STRAT and MEMO

	* parser.bison (attribute): removed OP_ prefixes to flags
	added KW_ prefixes to COMM, IDEM, PREC, GATHER, STRAT and MEMO

	* preModule.cc (dump): OP_VARIABLE -> VARIABLE

	* ops.cc (addVarDecl): OP_VARIABLE -> VARIABLE
	(setPrec): OP_PREC -> PREC
	(setGather): OP_GATHER -> GATHER
	(setStrat): OP_STRAT -> STRAT

	* preModule.hh (class PreModule): deleted enum Flags

	* mixfixModule.hh (class MixfixModule): data member sorts deleted

	* mixfixModule.cc (insertSymbol): MACHINE_INT -> MACHINE_INTEGER
	(makeSymbolProductions): MACHINE_INT -> MACHINE_INTEGER
	(findSort): sorts -> sortNames
	(insertSort): sorts -> sortNames

	* mixfixModule.hh (class MixfixModule): updated addSort() and
	addOpDecl() decls

	* entry.cc (addOpDecl): major rewrite; removed special arg since
	how this will be generated will be very different between object
	level and metalevel; pass domain and range as vector of sorts
	(addSort): major rewrite; now return sort and have firstDecl flag

	* mixfixModule.hh (class MixfixModule): added data members
	sortNames, symbolNames, firstSymbols
	(class MixfixModule): added decls for addOpDecl() and addSort()

	* entry.cc (addOpDecl): added special arg; handle parts of
	builtins that don't rely on other symbols

Sun Jul 19 18:35:29 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): enum SyntaxFlags changed
	to enum SymbolFlags; added many new values

	* entry.cc (addSort): added
	(addOpDecl): added

Fri Jul 17 18:27:03 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (createEquality): use new ctor convention for
	EqualitySymbol
	(instantiatePolymorph): use new ctor convention for
	EqualitySymbol

===================================Engine39==================================================

Thu Jul 16 10:34:26 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (makePolymorphProductions): fixed precedence bug
	(<< vs +)

	* mixfixModule.hh (class MixfixModule): added data member currentOffset

	* mixfixParser.cc (parseStatement): set currentOffset = 0
	(parseTerm): set currentOffset = begin
	(makeTerm): use currentOffset (2 places)

	* mixfixModule.hh (class MixfixModule): added decl for fixupPolymorphs()

	* mixfixModule.cc (fixupPolymorphs): added
	(instantiatePolymorph): use specialTerms
	(makeGrammar): call fixupPolymorphs()

	* mixfixModule.hh (class MixfixModule): added specialTerms to struct Polymorph

	* token.cc (extractMixfix): fixed nasty memory bug where we were
	freeing mismatched memory; delete rather than delete []

Wed Jul 15 11:52:09 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* production.cc (processOps): horrible hack to recognize
	polymorphic symbols.

	* mixfixModule.cc (makeGrammar): call makePolymorphProductions()
	(instantiatePolymorph): added handling for BranchSymbol

	* production.cc (processOps): horrible hack to insert polymorphs

	* mixfixModule.hh (class MixfixModule): added decl for findMatchingParen()

	* mixfixModule.cc (findMatchingParen): added

	* mixfixModule.hh (class MixfixModule): updated insertPolymorph() decl

	* mixfixModule.cc (insertPolymorph): domainSorts and special
	becomes Vector<Token>s, rangeSort becomes a Token

Tue Jul 14 11:21:46 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* lexer.flex: added NUMBER tokens

	* preModule.hh (class PreModule): added decl for cont()

	* lexer.flex: added continue/cont keyword

	* parser.bison (command): added syntax and action for cont command

	* command.cc (rewrite): hack to recognize limit within bubble;
	probably need better solution
	(cont): added

	* lexerAux.cc (lexerInMode): use yy_push_state() rather tha BEGIN()

	* lexer.flex (IN_MODE): use yy_pop_state() to restore original state
	rather than just going to initial state

	* mixfixModule.hh (class MixfixModule): added decl for instantiatePolymorph()

Mon Jul 13 11:02:57 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): updated decls for
	parseTerm() and parseSentence()

	* mixfixParser.cc (makeTerm): handle PREVIOUS and
	INSTANTIATE_POLYMORPH actions
	(parseSentence): handle begin and end arguments
	(parseTerm): take and pass on begin and end arguments

Sat Jul 11 15:21:25 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* userLevelRewritingContext.cc (tracePreRuleRewrite): added \n's
	to make big rewrites more readable
	(tracePreEqRewrite): added \n's to make big rewrites more readable

Fri Jul 10 17:34:01 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for
	makePolymorphProductions()
	(class MixfixModule): added INSTANTIATE_POLYMORPH and PREVIOUS to enum Actions

	* mixfixModule.cc (makePolymorphProductions): added

	* mixfixModule.hh (class MixfixModule): added decl for
	insertPolymorph() and data member polymorphs

	* mixfixModule.cc (insertPolymorph): added

	* bool.cc (protectingBoolSort): don't use non-existant data member
	sorts

	* mixfixModule.hh (class MixfixModule): added decl for findSort()

	* mixfixModule.cc (findSort): added

	* preModule.cc (getSort): rewritten using MixfixModule::findSort()
	(processSorts): rewritten using MixfixModule::findSort()

	* preModule.hh (class PreModule): deleted data member sorts

	* mixfixModule.hh (class MixfixModule): added decl for
	insertSort() and data member sorts

	* mixfixModule.cc (insertSort): added

	* mixfixModule.hh (class MixfixModule): updated
	computePrecAndGather() decl

	* mixfixModule.cc (computePrecAndGather): first arg is now nrArgs;
	do computation of LEFT_BARE/RIGHT_BARE here
	(insertSymbol): no longer do computation of LEFT_BARE/RIGHT_BARE here
	(makeSymbolProductions): pass nrArgs to computePrecAndGather()

	* mixfixModule.hh (class MixfixModule): added struct Polymorph

Thu Jul  9 10:32:27 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* token.cc (checkForSpecialProperty): avoid mistaking "-" for a
	SMALL_NEG and "" for a SMALL_NAT

	* production.cc (processOps): ugly hack to prevent adding op decl
	for symbol derived from NA_Symbol since class ctor automatically adds
	and op decl (should it? - probably want to change this later)

	* mixfixModule.cc (makeSpecialProductions): handle QUOTED_IDENTIFIERs

	* mixfixModule.hh (class MixfixModule): MAKE_QUOTED_IDENTIFIER
	added to enum Actions

	* production.cc (processOps): hack to pass quotedIdentifier flag
	to insertSymbol()

	* mixfixModule.hh (class MixfixModule): added QUOTED_ID to enum NonTerminal
	(class MixfixModule): added QUOTED_IDENTIFIER to enum SyntaxFlags
	(class MixfixModule): updated insertSymbol() decl

	* mixfixParser.cc (makeTerm): handle MAKE_QUOTED_IDENTIFIER case

	* mixfixModule.cc (insertSymbol): handle quotedIdentifier flag
	(makeSymbolProductions): handle quoted id case

	* preModule.cc (fixUpIdentities): fix up QuotedIdentifierOpSymbols
	here for want of a better place

	* quotedIdentifierOpSymbol.cc (setSymbols): added

	* quotedIdentifierOpSymbol.hh (class QuotedIdentifierOpSymbol):
	machineIntegerSymbol no longer a constant; added decl for setSymbols()

	* quotedIdentifierOpSymbol.cc (QuotedIdentifierOpSymbol):
	quotedIdentifierSymbol and machineIntegerSymbol are no longer
	initialized as constants

	* preModule.cc (makeSymbol): handle QuotedIdentifierSymbol and
	QuotedIdentifierOpSymbol special cases

	* quotedIdentifierOpSymbol.cc: adapted from old frontend; removed
	all refs to idTable; use class Token

	* quotedIdentifierOpSymbol.hh: copied from old frontend

	* quotedIdentifierTerm.cc: adapted from old frontend; removed
	all refs to idTable; use class Token

	* quotedIdentifierTerm.hh: adapted from old frontend; removed
	internal StringTable reference

	* quotedIdentifierDagNode.cc: adapted from old frontend; removed
	all refs to idTable; use class Token

	* quotedIdentifierDagNode.hh: adapted from old frontend; removed
	internal StringTable reference

	* token.cc (checkForSpecialProperty): detect quoted identifiers

	* token.hh (class Token): added QUOTED_IDENTIFIER to enum SpecialProperties

	* preModule.hh (class PreModule): added decl for findSymbol()

	* preModule.cc (fixUpIdentities): fix up MachineIntegerOpSymbols
	here for want of a better place
	(findSymbol): added

Wed Jul  8 10:41:24 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* production.cc (processOps): quick hack to handle machine ints;
	need to do something less ugly once other things crystalize

	* mixfixModule.cc (insertSymbol): handle machineInt flag
	(makeSymbolProductions): handle machine ints

	* mixfixModule.hh (class MixfixModule): added data member current sentence
	(class MixfixModule): added syntax flag MACHINE_INT
	(class MixfixModule): updated insertSymbol() decl

	* mixfixParser.cc (makeTerm): handle MAKE_MACHINE_INT case
	(parseStatement): set currentSentence
	(parseTerm): set currentSentence

	* mixfixModule.hh (class MixfixModule): added MAKE_MACHINE_INT to enum Actions

	* mixfixParser.cc (parseSentence): check for specialProperties of
	previously unseen tokens and use special terminals

	* mixfixModule.hh (class MixfixModule): added data member
	specialTerminals and decl for makeSpecialProductions()

	* mixfixModule.cc (makeSpecialProductions): added
	(makeGrammar): call makeSpecialProductions()

	* token.hh (class Token): added enum SpecialProperties, and decls
	for static and non-static versions of specialProperty()
	(specialProperty): added non-static version
	(specialProperty): added static version

	* token.cc (dotNameCode): use our encode() rather than StringTable::encode()
	(prefixNameCode): use our encode() rather than StringTable::encode()
	(extractMixfix): use our encode() rather than
	StringTable::encode() (*6)
	(checkForSpecialProperty): added

	* token.hh (encode): if it is the first time we've seen this
	string, check to see if it has a special property.
	(tokenize): use our encode() rather than StringTable::encode()

	* mixfixModule.hh (class MixfixModule): added SMALL_NAT and
	SMALL_NEG to enum NonTerminal

Tue Jul  7 10:56:56 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.hh (class PreModule): updated decl for makeSymbol()

	* production.cc (processOps): pass this pointer to makeSymbol()

	* preModule.cc (makeSymbol): added module arg and handling for
	MachineIntegerSymbol and MachineIntegerOpSymbol

	* preModule.hh (class PreModule): added builtIn field to struct
	OpDef; added decl for setBuiltIn();

	* ops.cc (setBuiltIn): added

	* lexer.flex (id): added builtin

	* parser.bison (attribute): added builtin attribute syntax and action
	(attrKeyword): added BUILTIN as attribute

	* lexer.flex (OP_MODE): deleted

	* lexerAux.cc (lexerOpMode): deleted

	* preModule.hh (class PreModule): added decls for addSelected()
	and traceSelect() and static data member selected

	* userLevelRewritingContext.hh (class UserLevelRewritingContext):
	updated decl for selectSymbols()

	* userLevelRewritingContext.cc (selectSymbols): made first arg const

	* command.cc (traceSelect): added

	* parser.bison (command): added actions for trace select/deselect.

	* command.cc (addSelected): added

	* parser.bison (simpleOpName2): adde
	(opNameList2): made symmetric with opNameList

Mon Jul  6 09:27:26 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.hh (class PreModule): removed name member from struct OpDecl

	* preModule.cc (dump): use prefix name code rather than full
	mixfix name

	* ops.cc (addOpDecl): don't store full op name

	* parser.bison (opName): removed lexer mode changes
	(opNameList): removed lexer mode changes
	(opName2): deleted since we no longer need to flip
	lexer state
	(opNameList2): eleted since we no longer need to flip
	lexer state
	(command): added new opNameList2 and syntax for trace select/deselect

	* mixfixModule.hh (class MixfixModule): 1 arg version of
	insertSymbol(0 is private

	* mixfixModule.cc (insertSymbol): had to put in 1 arg version
	for protectingBool; want to remove this eventually

	* production.cc (processOps): only use the one remaining insertSymbol()

	* mixfixModule.hh (class MixfixModule): updated one insertSymbol()
	decl and deleted other

	* mixfixModule.cc (insertSymbol): make use of extractMixfix() to
	get mixfix syntax from prefix name rather than mixfixSyntax arg
	(insertSymbol): deleted mixfixSyntax arg
	(insertSymbol): deleted 2 arg version

	* token.hh (class Token): added decl for extractMixfix()

	* token.cc (extractMixfix): heavily rewritten

Sat Jul  4 13:59:41 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* token.cc (extractMixfix): first attempt at an implementation for
	this function

Thu Jul  2 11:43:16 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixParser.cc (parseTerm): print out first two parses in
	ambiguous case

	* preModule.hh (class PreModule): updated parse() decl

	* parser.bison (command): use new parse()

	* command.cc (parse): added

	* preModule.cc (reduce): deleted
	(parse): deleted

	* preModule.hh (setShowStats): added
	(setShowCmd): added
	(setShowTiming): added
	(class PreModule): added decls for above

	* parser.bison (command): added PreModule calls for set show
	... commands

	* preModule.hh (class PreModule): added decls for reduce() and
	rewrite()

	* parser.bison (command): use rewrite() and new reduce()

	* command.cc (rewrite): added

	* preModule.hh (class PreModule): added static data members
	showCmd, showStats, showTiming, saved

Wed Jul  1 11:14:10 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* command.cc: created

	* mixfixParser.cc (makeStatement): handle labels correctly

	* mixfixModule.cc (makeLabelProductions): pass MAKE_LABEL as
	action and label token number as data to insertProd()

	* mixfixParser.cc (makeStatement): added mb, cmb, rl, crl cases

	* mixfixModule.cc (makeStatementProductions): added actions to
	several productions

	* mixfixModule.hh (class MixfixModule): added actions MAKE_RL,
	MAKE_CRL, MAKE_LABEL, MAKE_MB, MAKE_CMB

	* mixfixParser.cc (makeStatement): added
	(makeCondition): added
	(makeTerm): removed MAKE_EQ and MAKE_CEQ code
	(parseStatement): call makeStatement() rather than makeTerm()

	* preModule.cc (fixUpIdentities): use parseTerm() rather than parseSentence()
	(processStatements): use parseStatement() rather than parseTerm()
	(parse): use parseTerm() rather than parseSentence()
	(reduce): use parseTerm() rather than parseSentence()

	* mixfixParser.cc (parseSentence): now just do first part of pass;
	don't call makeTerm()

	* mixfixModule.hh (class MixfixModule): parseSentence() now returns
	int and is private, makeTerm() is private; adde decls for
	parseTerm() and parseStatement()

	* mixfixParser.cc (parseTerm): added
	(parseStatement): added

	* mixfixModule.hh (domainComponentIndex): moved to mixfixModule.cc

	* mixfixModule.cc (protectingBool): don't call setBool()

	* mixfixParser.cc: now becomes another implementation file for class MixfixModule
	(setBool): deleted
	(insertProd): use data member parser
	(parseSentence): use data member parser
	(makeTerm): no need to reference module.

	* mixfixModule.hh (class MixfixModule): no longer derived from MixfixParser
	(class MixfixModule): added enum Actions and data members tokens,
	parser, actions, data.

Tue Jun 30 10:24:27 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* userLevelRewritingContext.cc: copied from old front end;
	selected becomes an IntSet
	(selectSymbols): symbols becomes an IntSet
	(traceBeginEqTrial): selected becomes an IntSet so check symbols id()
	(traceBeginRuleTrial): selected becomes an IntSet so check symbols id()
	(traceBeginScTrial): selected becomes an IntSet so check symbols id()
	(tracePreEqRewrite): selected becomes an IntSet so check symbols id()
	(tracePreRuleRewrite): selected becomes an IntSet so check symbols id()
	(tracePreScApplication): selected becomes an IntSet so check symbols id()

	* userLevelRewritingContext.hh: copied from old front end
	(class UserLevelRewritingContext): make selected an IntSet rather
	than a PointerSet

	* parser.bison: added semantic actions for set trace ... commands

	* prettyPrint.cc (showOps): use printAttributes(); print symbols
	attributes even when sort calcs are implemented by C++ (no op
	decls for symbol)

	* mixfixModule.hh (class MixfixModule): added decls for
	printAttributes() and showAll()

	* prettyPrint.cc (printAttributes): added
	(showAll): added

	* mixfixModule.hh (class MixfixModule): added enum ModuleType

	* prettyPrint.cc (showEquations): becomes showEqs()
	(showRls): added
	(showMbs): added
	(showVars): added
	(showSorts): added
	(showOps): added

	* parser.bison (command): call calls to showSorts(), showOps(),
	showVars(), showMbs(), showRls(); showEquations() becomes showEqs()

	* mixfixModule.hh (class MixfixModule): added decls for
	showSorts(), showOps(), showVars(), showMbs(), showRls();
	showEquations() becomes showEqs()

Mon Jun 29 10:36:29 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added decl for showEquations()

	* prettyPrint.cc (operator<<): added operator<<() for const
	NamedEntity*, const SortConstraint*, const Equation*  and const
	Rule*
	(showEquations): added

	* lexer.flex: added sorts, ops, vars, mbs, eqs, rls keyword in
	INITIAL mode

	* parser.bison (command): added syntax for show sorts, show ops,
	show vars, show mbs, show eqs, show rls

	* lexer.flex: added "all" and "module" keywords

	* parser.bison: added syntax for show mod, show module and show all

	* ops.cc (setStrat): allow -ve strat arg positions

	* preModule.cc (makeSymbol): pass users strategy to symbol ctors

	* preModule.hh (class PreModule): added strategy member to struct OpDef
	(class PreModule): added decl for setStrat()

	* ops.cc (setGather): clear opDef.gather and gather in error case
	(setStrat): added

	* parser.bison (attribute): call setStrat()

Sat Jun 27 16:54:43 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* prettyPrint.cc (graphCount): added
	(graphPrint): added

Fri Jun 26 10:58:51 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* prettyPrint.cc (prettyPrint): created Term* version

	* mixfixModule.hh (class MixfixModule): make prettyPrint()
	private, remove default args; make printTokens() and printTails() static
	(class MixfixModule): make operator<<() for Term* and DagNode* friends

	* prettyPrint.cc (prettyPrint): set needAssocParen if symbol is
	associative and printWithParens is true
	Move operator<< for DagNode* here
	Move operator<< for Term* here

	* mixfixModule.hh (setPrintMixfix): added
	(setPrintWithParens): added
	(setPrintFlat): added
	(setPrintGraph): added

	* parser.bison (command): added actions for set print ... commmands

	* prettyPrint.cc: created to hold all pretty printer code
	(prettyPrint): simplified use of arg
	(printTails): set noSpace if pos == 0 so that multi token
	constants don't get an extra leading space
	(prettyPrint): handle printFlat flag

	* mixfixModule.cc (prettyPrint): mixfixFlag -> printMixfix,
	maxParenFlag -> printWithParens

	* mixfixModule.hh (class MixfixModule): added static data members
	printFlat and printGraph; mixfixFlag -> printMixfix, maxParenFlag
	-> printWithParens

	* lexer.flex (id): ASSOC -> KW_ASSOC, CONDITION -> KW_CONDITION

	* parser.bison (attrKeyword): ASSOC -> KW_ASSOC, CONDITION ->
	KW_CONDITION to prevent defines clashing with enums in included
	header files

	* mixfixModule.hh (nonTerminal): moved to mixfixModule.cc

	* lexer.flex: added extra keywords needed for set commands

	* parser.bison (command): added syntax for set commands

Thu Jun 25 15:18:18 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (computePrecAndGather): don't let gather values go -ve
	by prec 0 and gather e
	(computePrecAndGather): give assoc infix operator with prec > 0
	the gather pattern (e E)
	(printTails): handle needAssocParen flag
	(prettyPrint): take into account the possible need for parens
	inside the right associative unflattening of a flatten assoc term
	(printTails): don't set noSpace = true when we print an assoc
	paren because if we were really unflatten first before printing
	then thisparen can have no effect on a tail that is really above
	it in the unfattened term
	(printTails): set noSpace = false at the start of each out loop
	iteration based on similar reasoning

	* mixfixParser.hh (class MixfixParser): MAKE_TRUE replaces MAKE_CEQ2

	* mixfixParser.cc (makeTerm): fuse CEQ and CEQ2 cases to handle
	CONDITION nonterminal

	* mixfixModule.cc (protectingBool): simplified now that we have a
	non-terminal for condition
	(makeStatementProductions): use CONDITION and give its (initial) definition

	* mixfixModule.hh (class MixfixModule): added CONDITION to enum NonTerminal

	* mixfixModule.cc (createEquality): use EQUALITY_PREC

	* mixfixModule.hh (class MixfixModule): added static member gatherPrefix

	* mixfixModule.cc (MixfixModule): initialize gatherPrefix
	(makeSymbolProductions): use gatherPrefix for assoc case

Wed Jun 24 15:55:23 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (makeSymbolProductions): use PREFIX_GATHER
	rather than any
	(MixfixModule): initialize gatherPrefixPrefix
	(makeComponentProductions): use gatherPrefixPrefix and
	PREFIX_GATHER for assoc lists

	* preModule.cc (OpDef): set prec to default

	* ops.cc (setGather): use enum GatherSymbols constants

	* production.cc (processOps): don't process opdefs here since
	default prec depends on exact syntax of operator, and computation
	of default gather might even depend on sort info
	(processOps): all syntax processing removed

	* mixfixModule.hh (class MixfixModule): added enum GatherSymbols;
	added decl for computePrecAndGather()

	* mixfixModule.cc (computePrecAndGather): added
	(makeSymbolProductions): call computePrecAndGather()

	* mixfixModule.hh (class MixfixModule): added EQUALITY_PREC to
	enum Precedence

Tue Jun 23 17:45:34 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.cc (printTokens): try to get spacing correct
	(printTails): try to get spacing correct

	* mixfixModule.hh (class MixfixModule): updated prettyPrint() decl

	* main.cc (operator<<): updated call to prettyPrint()

	* mixfixModule.cc (insertSymbol): set flags field
	(insertSymbol): set flags field
	(createItef): set flags field
	(createEquality): set flags field
	(createSortTest): set flags field
	(makeSymbolProductions): use si.flags
	(prettyPrint): rewritten to handle left and right capture and new flags

	* mixfixModule.hh (class MixfixModule): added static data members
	mixfixFlag and maxParenFlag
	(class MixfixModule): added PREFIX_PREC, PREFIX_GATHER,
	UNARY_PREC, INFIX_PREC to enum Precedence
	(class MixfixModule): SymbolInfo assoc field changes to flags;
	added enum SyntaxFlags

Wed Jun 17 10:50:22 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixParser.cc (makeTerm): updated to use new createSortTest() conventions
	(makeTerm): fixed really nasty bug where we were using node number
	rather than production number to find data (sort index) for CREATE_SORT_TEST
	(insertProd): print action and data numbers

	* mixfixModule.hh (class MixfixModule): updated createSortTest();
	added data members eagerSortTests and lazySortTests

	* mixfixModule.cc (createEquality): added
	(protectingBool): insert productions for mixfix version of equalities
	(createSortTest): added
	(makeComponentProductions): pass sort index as data field in sort production
	(createSortTest): changed so we return Term* and store pointers to
	created sort test symbols in MinfixModule rather than MixfixParser

	* mixfixModule.hh (class MixfixModule): added decls for
	createEquality() and createSortTest()

	* mixfixParser.cc (makeTerm): added CREATE_EQUALITY and
	CREATE_SORT_TEST cases

	* mixfixModule.cc (protectingBool): use class boolSort, trueSymbol
	and falseSymbol variables

	* mixfixParser.cc (makeTerm): use createItef()

	* mixfixModule.hh (class MixfixModule): added decl for createItef
	and data members boolSort, trueSymbol and falseSymbol

	* mixfixModule.cc (createItef): added

Tue Jun 16 14:59:22 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixModule.hh (class MixfixModule): added static data member getAnyAnyAny

	* mixfixModule.cc (MixfixModule): initialize gatherAnyAnyAny;

	* mixfixParser.cc (makeTerm): handle CREATE_ITEF

	* mixfixModule.cc (protectingBool): add syntax for if_then_else_fi
	in each component

	* mixfixParser.cc (setBool): added; replaces setTrueSymbol()

	* mixfixParser.hh (class MixfixParser): added data members
	falseSymbol and boolSort
	(class MixfixParser): added decl for setBool(), deleted decl for setTrueSymbol()

	* mixfixParser.cc (insertProd): take datum arg
	(makeTerm): make use of data vec

	* mixfixParser.hh (class MixfixParser): added data member data
	(class MixfixParser): module now a pointer to MixfixModule
	(class MixfixParser): actions are no longer -ve; added MAKE_TERM
	(class MixfixParser): updated insertProd() decl

Mon Jun 15 17:16:49 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (process): call protectingBool(); don't pass 2nd
	arg to makeGrammar()

	* mixfixModule.hh (class MixfixModule): make protectingBool() public
	(class MixfixModule): reverted makeGrammar() decl

	* mixfixModule.cc (makeGrammar): removed protectingBool() stuff

	* production.cc (processOps): don't call protectingBoolOps()

	* mixfixModule.hh (class MixfixModule): updated makeGrammar() decl

	* preModule.cc (process): pass 0 as 2nd arg to makeGrammar()

	* mixfixModule.cc (protectingBool): added
	(makeGrammar): take boolSortIndex arg; call protectingBool if necessary

	* mixfixModule.hh (class MixfixModule): added decl for protectingBool()

	* preModule.cc (getSort): compare index to NONE rather than 0

Fri Jun 12 09:57:02 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* bool.cc (protectingBoolSort): use insert() instead of int2Index()

	* preModule.cc (processSorts): use insert() instead of int2Index()
	(getSort): use insert() instead of int2Index(); no need to use contains

	* production.cc (makeLabelProductions): use cardinality() instead
	of nrElements()

	* preModule.cc (addRule): use insert() instead of int2Index()

Thu Jun 11 18:26:40 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* mixfixParser.cc (insertProd): use insert() instead of int2Index()
	(parseSentence): no need to use contains

	* preModule.hh (class PreModule): IntTable -> IntSet
	
===================================Engine38==================================================

Mon Jun  8 18:21:46 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* parser.bison (opNameList): added; old opNameList becomes
	opNameList2 inorder to switch lex mode
	(opName2): changed paren case to allow _(_); also allows completely
	empty syntax which we must now check for elsewhere
	(simpleOpName): changed paren case to allow _(_); also allows completely
	empty syntax which we must now check for elsewhere

Fri Jun  5 09:32:11 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* preModule.cc (insertSymbol): added
	(prettyPrint): added
	(printTokens): added
	(printTails): added

	* production.cc (processOps): call new insertSymbol() with syntax info

	* preModule.cc (process): call makeLabelProductions()

	* preModule.hh (class PreModule): added struct SymbolInfo to
	maintain info for pretty printing and eventually symbol production
	rule generation (want to do it after signature closed so we can
	attempt automagic gather generation for say list ctors based on
	complete sort info; also we may want to deal with imported symbols)
	(class PreModule): added data member symbolInfo

	* production.cc (makeLabelProductions): added

	* preModule.hh (class PreModule): added LABEL and RULE_BODY to enum NonTerminal

	* intTable.hh (nrElements): added

	* preModule.cc (addRule): added

	* preModule.hh (class PreModule): added labels data member

	* parser.bison (declaration): use addRule() for rules so that we
	can identify any possible labels.

Thu Jun  4 10:34:19 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* production.cc (makeStatementProductions): added productions for
	RULE_BODY, but not sure this is a good idea.

	* preModule.cc (fixUpIdentities): added
	(fixUpIdentities): parse identity starting with root determined by
	approriate domain connected component.
	(makeSymbol): must create variables!

	* production.cc (processOps): set opDecl.symbol in the case its a
	polymorphic overloading of an existing symbol

Wed Jun  3 17:56:27 1998  Steven Eker  <eker@lilac.csl.sri.com>

	* ops.cc (setFlag): take int so we can set several flags at once

	* production.cc (processOps): use makeSymbol()

	* preModule.cc (makeSymbol): added

	* parser.bison (attribute): call setIdentity() where needed

	* ops.cc (setIdentity): added

	* preModule.hh (class PreModule): added identity to OpDef()

	* Mixfix2 stable enough to start ChangeLog
	* parser.bison (attribute): call setFlag() where needed
